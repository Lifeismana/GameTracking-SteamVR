/*!
 * (c) Valve Corporation. Use is governed by the terms of the Steam Subscriber Agreement http://store.steampowered.com/subscriber_agreement/. 
 * 
 */
webpackJsonp([0],{"+56F":function(e,t,n){"use strict";n.d(t,"a",function(){return m});var o=n("TToO"),i=n("GiK3"),r=(n.n(i),n("N87Q")),l=(n.n(r),n("FBH1")),a=n("mVfh"),s=n("6CG6"),c=n("Mn8c"),u=n("y986"),p="c:\\buildslave\\steamvr_webpack_rel_win32\\build\\src\\vrwebui\\src\\js\\bindingui\\actionaliaseditor.tsx",d=function(e){function t(t){var n=e.call(this,t)||this,o=s.a.GetAliasInfo(n.props.sAction);return n.state=o?{sUserSuppliedName:o.alias_name,bHidden:o.hidden}:{sUserSuppliedName:"",bHidden:!1},n}return o.d(t,e),t.prototype.onHiddenChanged=function(e){this.setState({bHidden:e}),s.a.SetAliasHidden(this.props.sAction,e)},t.prototype.onNameChanged=function(e){this.setState({sUserSuppliedName:e}),s.a.SetAliasName(this.props.sAction,e)},t.prototype.render=function(){var e=this,t="InputOption"+this.props.sAction;return i.createElement("div",{className:"FlexRow SetupLegacyRow",__source:{fileName:p,lineNumber:43}},i.createElement("div",{className:"Label ActionAliasAction",__source:{fileName:p,lineNumber:44}},Object(a.b)(s.a.GetActionByName(this.props.sAction).localized_name)),i.createElement("input",{id:t+"name",type:"text",value:this.state.sUserSuppliedName,onChange:function(t){e.onNameChanged(t.target.value)},className:"ActionAliasUserSuppliedName",__source:{fileName:p,lineNumber:45}}),i.createElement("input",{id:t,type:"checkbox",checked:this.state.bHidden,value:this.props.sAction,onChange:function(t){e.onHiddenChanged(t.target.checked)},__source:{fileName:p,lineNumber:46}}),i.createElement("label",{className:"InputSettingsLabel",htmlFor:t,__source:{fileName:p,lineNumber:47}},Object(a.b)("#InputActionAliasHidden")))},o.c([l.b],t.prototype,"onHiddenChanged",null),o.c([l.b],t.prototype,"onNameChanged",null),t=o.c([c.a],t)}(i.Component),m=function(e){function t(t){var n=e.call(this,t)||this;return n.state={bShowActionPicker:!1},n}return o.d(t,e),t.prototype.OnHideAll=function(){s.a.SetHiddenOnAllAliases(!0)},t.prototype.OnShowAll=function(){s.a.SetHiddenOnAllAliases(!1)},t.prototype.render=function(){var e=s.a.ShowHiddenAliases,t=[];return s.a.ActionSets.forEach(function(n){s.a.GetActionSetActions(n.name).forEach(function(n){var o=s.a.GetAliasInfo(n.name);o&&!e&&o.hidden||t.push(n.name)})}),i.createElement("div",{className:"BindingSectionWrapper",__source:{fileName:p,lineNumber:86}},i.createElement("div",{className:"FlexColumn",__source:{fileName:p,lineNumber:87}},i.createElement("div",{className:"LegacySectionHeader Label",__source:{fileName:p,lineNumber:88}},Object(a.b)("#LegacySetup_ActionAliasesHeader")),i.createElement("div",{className:"FlexRow SetupLegacyRow ActionAliasButtonWrapper",__source:{fileName:p,lineNumber:89}},i.createElement("div",{className:"Label ButtonControl",onClick:this.OnHideAll,__source:{fileName:p,lineNumber:90}},Object(a.b)("#HideAllAliases")),i.createElement("div",{className:"Label ButtonControl",onClick:this.OnShowAll,__source:{fileName:p,lineNumber:91}},Object(a.b)("#ShowAllAliases"))),t.map(function(e,t){return i.createElement(d,{sAction:e,key:e,__source:{fileName:p,lineNumber:95}})})))},o.c([u.c],t.prototype,"OnHideAll",null),o.c([u.c],t.prototype,"OnShowAll",null),t=o.c([c.a],t)}(i.Component)},"+MXI":function(e,t,n){"use strict";function o(e,t,n,o){var i=u.a.GetActionBinding(e,u.a.SelectedActionSet);if(!i||0==i.length)return null;var r=[],a="";if(i.map(function(e){for(var n=u.a.GetBooleanInputOptionsForMode(e.mode),o=0,i=n;o<i.length;o++){var l=i[o];r.push({sActionBindMode:e.mode,sInputOption:l}),l==t&&(a=e.mode)}}),0==r.length)return null;var s=r.map(function(e,t){return new p.b(e.sInputOption,Object(c.b)("#SourceInputMode_"+e.sActionBindMode)+" "+Object(c.b)("#SourceInputMode_"+e.sInputOption))}),m=function(t){u.a.SetInputTypeForChord(n,e,t)};return l.createElement("div",{className:"ChordBindingInputType",__source:{fileName:d,lineNumber:37}},l.createElement(p.a,{vecOptions:s,sValueSelectedItem:t,sLocalizedSelectedItem:Object(c.b)("#SourceInputMode_"+a)+" "+Object(c.b)("#SourceInputMode_"+t),fnOptionSelected:m,bReadOnly:o,__source:{fileName:d,lineNumber:38}}))}function i(e,t,n,o){var i=t.filter(function(t){var o=n.inputs.filter(function(e){return e[0]==t.path});return t.path==e||0==o.length}),r=i.map(function(e,t){return new p.b(e.path,u.a.LocalizePathNameForSelectedControllerType(e.path))}),a=function(t){u.a.SetInputSourceForChord(n,t,e)};return l.createElement("div",{className:"ChordBindingInputType",__source:{fileName:d,lineNumber:50}},l.createElement(p.a,{vecOptions:r,sValueSelectedItem:e,sLocalizedSelectedItem:u.a.LocalizePathNameForSelectedControllerType(e),fnOptionSelected:a,bReadOnly:o,__source:{fileName:d,lineNumber:51}}))}n.d(t,"a",function(){return h});var r=n("TToO"),l=n("GiK3"),a=(n.n(l),n("Mn8c")),s=n("FBH1"),c=n("mVfh"),u=n("6CG6"),p=n("6Pre"),d="c:\\buildslave\\steamvr_webpack_rel_win32\\build\\src\\vrwebui\\src\\js\\controllerbinding_chords.tsx",m=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.d(t,e),t.prototype.OnActionOutputChanged=function(e){u.a.SetActionForChord(this.props.chord,e)},t.prototype.DeleteChord=function(){u.a.DeleteChord(this.props.chord)},t.prototype.DeleteSourceFromChord=function(e,t){u.a.DeleteSourceFromChord(this.props.chord,e)},t.prototype.AddSourceToChord=function(){var e=this.props.chord.inputs?this.props.chord.inputs.length:0;u.a.SetInputSourceForChord(this.props.chord,u.a.SelectedActionSetSources[e].path)},t.prototype.render=function(){var e=this,t=u.a.SelectedActionSetActions.filter(function(e){return"boolean"==e.type}),n="",r="none",a=!1;this.props.chord.output?(n=this.props.chord.output,r=this.props.chord.output.toLowerCase()):a=!0;var s=t.map(function(t,o){return e.props.chord.output&&t.name.toLowerCase()==e.props.chord.output.toLowerCase()&&(n=t.localized_name),new p.b(t.name.toLowerCase(),t.localized_name)}),m=u.a.SelectedActionSetSources;if(!m||0==m.length)return null;var h=void 0;return this.props.chord.inputs?h=this.props.chord.inputs.map(function(t,n){var r=l.createElement("div",{className:"Label ChordBindingPlusLabel",__source:{fileName:d,lineNumber:98}},l.createElement("img",{className:"ActionButtonImage ChordBindingImage",src:"images/bindingui/icon_plus.svg",__source:{fileName:d,lineNumber:98}}));return l.createElement("div",{className:"FlexFullHeightColumnCentered",key:n,__source:{fileName:d,lineNumber:99}},l.createElement("div",{className:"FlexRow ChordBindingEntry",__source:{fileName:d,lineNumber:100}},l.createElement("div",{className:"FlexColumn",__source:{fileName:d,lineNumber:101}},i(t[0],m,e.props.chord,e.props.bReadOnly),o(t[0],t[1],e.props.chord,e.props.bReadOnly)),!e.props.bReadOnly&&l.createElement("img",{onClick:function(){e.DeleteSourceFromChord(t[0],t[1])},className:"ActionButtonImage ChordBindingEntryDelete",src:"images/bindingui/icon_trash.svg",__source:{fileName:d,lineNumber:105}})),n!=e.props.chord.inputs.length-1&&r)}):a||this.AddSourceToChord(),l.createElement("div",{className:"FlexColumn",__source:{fileName:d,lineNumber:114}},l.createElement("div",{className:"FlexRow ChordBindingRow",__source:{fileName:d,lineNumber:115}},l.createElement("div",{className:"FlexColumn ChordBindingSet",__source:{fileName:d,lineNumber:116}},l.createElement(p.a,{sHeaderClass:"ChordBindingAction",vecOptions:s,sValueSelectedItem:r,sModalTitleString:Object(c.b)("#BindingUI_Chord_SelectActionModalHeader"),bShowOptionsOnStart:a,sLocalizedSelectedItem:n,fnOptionSelected:this.OnActionOutputChanged,bReadOnly:this.props.bReadOnly,__source:{fileName:d,lineNumber:117}})),l.createElement("img",{className:"ActionButtonImage ChordBindingImage",src:"images/bindingui/icon_arrow_right.svg",__source:{fileName:d,lineNumber:119}}),l.createElement("div",{className:"FlexFullHeightColumnCentered ChordBindingSet",__source:{fileName:d,lineNumber:120}},h),!this.props.bReadOnly&&l.createElement("div",{className:"FlexFullHeightColumnCentered ChordEntryActionColumn",__source:{fileName:d,lineNumber:123}},l.createElement("div",{onClick:this.AddSourceToChord,className:"Label ChordManageButtons ChordBindingBigButton AllCaps",__source:{fileName:d,lineNumber:124}},l.createElement("img",{className:"ActionButtonImage",src:"images/bindingui/icon_add.svg",__source:{fileName:d,lineNumber:124}}),Object(c.b)("#BindingUI_AddChordInput")),l.createElement("div",{onClick:this.DeleteChord,className:"Label ChordManageButtons ChordBindingBigButton AllCaps",__source:{fileName:d,lineNumber:125}},l.createElement("img",{className:"ActionButtonImage",src:"images/bindingui/icon_trash.svg",__source:{fileName:d,lineNumber:125}}),Object(c.b)("#BindingUI_DeleteChord")))),l.createElement("div",{className:"FlexRow ChordButtonRow",__source:{fileName:d,lineNumber:128}}))},r.c([s.b],t.prototype,"OnActionOutputChanged",null),r.c([s.b],t.prototype,"DeleteChord",null),r.c([s.b],t.prototype,"DeleteSourceFromChord",null),r.c([s.b],t.prototype,"AddSourceToChord",null),t=r.c([a.a],t)}(l.Component),h=function(e){function t(t){return e.call(this,t)||this}return r.d(t,e),t.prototype.AddChord=function(){u.a.AddChord()},t.prototype.render=function(){var e=this,t=[],n=u.a.SelectedActionSetChords;return n&&n.length&&(t=n.map(function(t,o){return l.createElement("div",{key:o,__source:{fileName:d,lineNumber:163}},l.createElement(m,{chord:t,bReadOnly:e.props.bReadOnly,__source:{fileName:d,lineNumber:164}}),o!=n.length-1&&l.createElement("hr",{__source:{fileName:d,lineNumber:165}}))})),l.createElement("div",{className:"FlexColumn ChordBindingModal",__source:{fileName:d,lineNumber:169}},l.createElement("div",{className:"ChordBindingHeader FlexColumn",__source:{fileName:d,lineNumber:170}},l.createElement("div",{className:"FlexFullWidthRowCentered",__source:{fileName:d,lineNumber:171}},l.createElement("img",{className:"ActionButtonImage ActionButtonImageLarge ChordManageTopButton",src:"images/bindingui/icon_modal_edit_header.svg",__source:{fileName:d,lineNumber:172}}),l.createElement("div",{className:"Label Title TitleCenter AllCaps",__source:{fileName:d,lineNumber:173}},Object(c.b)("#BindingUI_ChordTitle")))),l.createElement("div",{className:"FlexColumn ChordBindingContents ChordBindingChordsList",__source:{fileName:d,lineNumber:176}},t,!this.props.bReadOnly&&l.createElement("div",{className:"Label ChordManageButtons ChordBindingBigButton AllCaps AddChordButton",onClick:this.AddChord,__source:{fileName:d,lineNumber:178}},l.createElement("img",{className:"ActionButtonImage",src:"images/bindingui/icon_add.svg",__source:{fileName:d,lineNumber:178}}),Object(c.b)("#BindingUI_AddChord"))),l.createElement("div",{className:"ChordBindingCloseButton Label AllCaps",onClick:this.props.fnCloseModal,__source:{fileName:d,lineNumber:180}},Object(c.b)("#Button_Close")))},r.c([s.b],t.prototype,"AddChord",null),t=r.c([a.a],t)}(l.Component)},"1OpY":function(e,t,n){"use strict";n.d(t,"a",function(){return y});var o=n("TToO"),i=n("GiK3"),r=(n.n(i),n("Mn8c")),l=n("NQlb"),a=n.n(l),s=n("N87Q"),c=(n.n(s),n("FBH1")),u=n("mVfh"),p=n("6CG6"),d=n("nhcq"),m=n("6Pre"),h=n("APa2"),f=n("ukV5"),_=n("4PsW"),b="c:\\buildslave\\steamvr_webpack_rel_win32\\build\\src\\vrwebui\\src\\js\\bindinglistui.tsx",g=function(e){function t(t){var n=e.call(this,t)||this;return n.state={bIsVisible:!0},n}return o.d(t,e),t.prototype.CloseDialog=function(){this.setState({bIsVisible:!1})},t.prototype.render=function(){return i.createElement(a.a,{visible:this.state.bIsVisible,onClose:this.CloseDialog,showCloseButton:!1,animation:"fade",className:"BindingChordsModal",closeOnEsc:!0,__source:{fileName:b,lineNumber:27}},i.createElement("div",{className:"SaveDialogWrapper FlexColumn LoadErrorDialogWrapper",__source:{fileName:b,lineNumber:28}},i.createElement("div",{className:"Label TitleCenter",__source:{fileName:b,lineNumber:29}},this.props.sError),i.createElement("div",{className:"FlexRow SaveBottomButtonRow LoadErrorCloseButton",__source:{fileName:b,lineNumber:32}},i.createElement("div",{onClick:this.CloseDialog,className:"ButtonControl",__source:{fileName:b,lineNumber:33}},Object(u.b)("#Button_Close")))))},o.c([c.b],t.prototype,"CloseDialog",null),t=o.c([r.a],t)}(i.Component),S=function(e){function t(t){var n=e.call(this,t)||this;return n.state={bShowDeleteConfirmModal:!1,bShowSelectConfirmModal:!1},n.props.result.steamIDOwner.length&&"0"!=n.props.result.steamIDOwner&&f.a.RequestUserInformation(n.props.result.steamIDOwner),n}return o.d(t,e),t.prototype.OnDelete=function(){this.setState({bShowDeleteConfirmModal:!0})},t.prototype.OnDeleteConfirmed=function(){this.setState({bShowDeleteConfirmModal:!1}),p.a.DeleteBinding(this.props.result.url).then(function(){d.a.RefreshBindingList()})},t.prototype.OnDeleteCancel=function(){this.setState({bShowDeleteConfirmModal:!1})},t.prototype.renderDeleteConfirmModal=function(e){return i.createElement(a.a,{visible:this.state.bShowDeleteConfirmModal,onClose:this.OnDeleteCancel,showCloseButton:!1,animation:"fade",className:"ModeSettingsModal",closeOnEsc:!0,__source:{fileName:b,lineNumber:71}},this.state.bShowDeleteConfirmModal&&i.createElement("div",{className:"FlexFullHeightColumnCentered",__source:{fileName:b,lineNumber:73}},i.createElement("div",{className:"Label",__source:{fileName:b,lineNumber:74}},Object(u.b)("#BindingUI_List_Delete_Confirm",e.name)),i.createElement("div",{className:"FlexRow",__source:{fileName:b,lineNumber:75}},i.createElement("div",{className:"ButtonControl",onClick:this.OnDeleteConfirmed,__source:{fileName:b,lineNumber:76}},Object(u.b)("#Button_Delete")),i.createElement("div",{className:"ButtonControl",onClick:this.OnDeleteCancel,__source:{fileName:b,lineNumber:77}},Object(u.b)("#Button_Cancel")))))},t.prototype.OnSelect=function(e){this.props.fnSelectBinding(e,!this.props.bCurrentlySelectedBinding)},t.prototype.render=function(){var e=this,t=new Date,n=new Date(1e3*this.props.result.time),o=t.getTime()-n.getTime()>1728e5,r=o?n.toLocaleDateString():n.toLocaleString(),l=this.props.result,a="developer"==l.type,s="0"!=l.steamIDOwner&&!a,c=void 0,d=void 0;if(a){if(!l.name||0==l.name.length){c=h.a.GetApp(p.a.SelectedApp);var m="";c&&(m=c.name),p.a.SelectedBindingIsLegacy?l.name=Object(u.b)("#BindingUI_List_Legacy_Binding_Title",m):l.name=Object(u.b)("#BindingUI_List_Developer_Binding_Title",m)}l.description&&0!=l.description.length||(p.a.SelectedBindingIsLegacy?l.description=Object(u.b)("#BindingUI_List_Legacy_Binding_Description"):l.description=Object(u.b)("#BindingUI_List_Developer_Binding_Description"))}var _=void 0;s&&(_=f.a.GetUserInformation(l.steamIDOwner).avatar_url,d=f.a.GetUserInformation(l.steamIDOwner).persona_name);var g=this.props.bCurrentlySelectedBinding,S=g?Object(u.b)("#BindingUI_List_Edit"):Object(u.b)("#BindingUI_List_View"),y=l.name;return"autosave"==l.type&&(y=Object(u.b)("#BindingUI_List_Autosave",l.name)),i.createElement("div",{className:"BindingEntry FlexRow",__source:{fileName:b,lineNumber:127}},c&&i.createElement("img",{className:"AppImage",src:h.a.GetAppImageURL(c.key),__source:{fileName:b,lineNumber:128}}),_&&i.createElement("img",{className:"SteamCommunityProfileImage",src:_,__source:{fileName:b,lineNumber:129}}),s&&!_&&i.createElement("div",{className:"SteamCommunityProfileImage",__source:{fileName:b,lineNumber:130}}),i.createElement("div",{className:"FlexColumn BindingDetails",__source:{fileName:b,lineNumber:131}},i.createElement("div",{className:"BindingName",__source:{fileName:b,lineNumber:132}},y),i.createElement("div",{className:"BindingDescription",__source:{fileName:b,lineNumber:133}},l.description),d&&i.createElement("div",{className:"BindingSteamPersonaName Label",__source:{fileName:b,lineNumber:134}},Object(u.b)("#BindingUI_List_PublishedBy",d)),l.time>0&&i.createElement("div",{className:"BindingLastUpdated",__source:{fileName:b,lineNumber:135}},Object(u.b)("#BindingUI_List_LastUpdated"),r)),i.createElement("div",{className:"FlexRow BindingEntryActionButtons",__source:{fileName:b,lineNumber:137}},l.owned&&!this.props.bCurrentlySelectedBinding&&i.createElement("div",{className:"BindingListEntryButton DeleteButton ButtonControl",onClick:function(){e.OnDelete()},__source:{fileName:b,lineNumber:138}},i.createElement("img",{className:"ActionButtonImage",src:"images/bindingui/icon_trash.svg",__source:{fileName:b,lineNumber:138}})),!p.a.HasBindingUriFailedToLoad(l.url)&&i.createElement("div",{className:"BindingListEntryButton ButtonControl",onClick:function(){e.OnSelect(l.url)},__source:{fileName:b,lineNumber:140}},S)),this.renderDeleteConfirmModal(l))},o.c([c.b],t.prototype,"OnDelete",null),o.c([c.b],t.prototype,"OnDeleteConfirmed",null),o.c([c.b],t.prototype,"OnDeleteCancel",null),o.c([c.b],t.prototype,"renderDeleteConfirmModal",null),o.c([c.b],t.prototype,"OnSelect",null),t=o.c([r.a],t)}(i.Component),y=function(e){function t(t){var n=e.call(this,t)||this;return n.state={bAppSelectListScrolled:!1},n}return o.d(t,e),t.prototype.OnScroll=function(e){this.setState({bAppSelectListScrolled:e.currentTarget.scrollTop>0})},t.prototype.CreateBinding=function(){this.SelectBinding(p.a.SelectedBindingURL,!1)},t.prototype.SelectBinding=function(e,t){if(console.log("select binding",e),d.a.Loading=!0,t)p.a.SetBindingURL(e),p.a.LoadControllerConfiguration(),d.a.ViewCurrentBinding(),setTimeout(function(){d.a.Loading=!1},1);else{var n=p.a.SelectedControllerTypeInfo;p.a.SelectConfig(p.a.SelectedApp,n?n.name:"",e).then(function(){p.a.ReloadCurrentApp().then(function(){d.a.EditCurrentBinding(),setTimeout(function(){d.a.Loading=!1},1)})})}},t.prototype.OnControllerDropdownChanged=function(e){p.a.SetSelectedController(e),d.a.RefreshBindingList()},t.prototype.ComputeResultsSection=function(e,t){var n=this,o=(d.a.CurrentBinding&&d.a.CurrentBinding.type,d.a.BindingQueryResults),r=[];o&&o.length>0&&(r=o.filter(t).map(function(e,t){return i.createElement(S,{key:t,currentBinding:d.a.CurrentBinding,result:e,fnSelectBinding:n.SelectBinding,bCurrentlySelectedBinding:!1,__source:{fileName:b,lineNumber:210}})}));return r.length>0&&i.createElement("div",{__source:{fileName:b,lineNumber:215}},i.createElement("div",{className:"BindingListSectionHeader",__source:{fileName:b,lineNumber:216}},Object(u.b)(e)),i.createElement("div",{className:"FlexRowWithWrap BindingListSection",__source:{fileName:b,lineNumber:217}},r))},t.prototype.CreateControllerTypeDropdown=function(){var e=[],t=h.a.IsAppAllowedPrivateInputs(p.a.SelectedApp);p.a.ControllerTypes.forEach(function(n){(t||"InputValueVisibility_SteamVRInternal"!=n.visibility)&&"InputValueVisibility_None"!=n.visibility&&e.push(n)}),e.sort(function(e,t){return e.priority-t.priority});var n=[];e.forEach(function(e){n.push(new m.b(e.name,p.a.LocalizeDriverString(e.resource_root,e.name)))});var o="",r="",l=p.a.SelectedControllerTypeInfo;l&&l.profile&&(l.profile.input_bindingui_right.transform&&(o=l.profile.input_bindingui_right.transform),r=l.profile.input_bindingui_right.uri);var a=p.a.DeviceForSelectedControllerType(2),s="TrackedDeviceClass_GenericTracker"==a.class;return i.createElement("div",{className:"FlexColumn ControllerTypeWrapper",__source:{fileName:b,lineNumber:248}},i.createElement("div",{className:"BindingListSectionHeader Label",__source:{fileName:b,lineNumber:249}},Object(u.b)("#BindingList_ControllerOption")),i.createElement("div",{className:"FlexRow ControllerTypeButton BindingEntry",__source:{fileName:b,lineNumber:250}},i.createElement("img",{className:"ControllerImage",src:r,style:{transform:o},__source:{fileName:b,lineNumber:251}}),i.createElement(m.a,{vecOptions:n,sModalClass:"PinTop",sValueSelectedItem:a?a.controller_type:"",sLocalizedSelectedItem:p.a.LocalizeControllerString(a,a?a.controller_type:""),fnOptionSelected:this.OnControllerDropdownChanged,__source:{fileName:b,lineNumber:252}}),s&&i.createElement("div",{className:"ButtonControl Label AllCaps InlineDropdownLabel",onClick:d.a.ShowTrackerEdit,__source:{fileName:b,lineNumber:253}},Object(u.b)("#BindingList_TrackerEdit"))))},t.prototype.render=function(){var e=h.a.GetApp(p.a.SelectedApp),t="";e&&(t=e.name);var n=d.a.CurrentBinding,o="BindingListContent AppBindingSection";this.state.bAppSelectListScrolled&&(o+=" Scrolled");var r="#BindingUI_List_DeveloperSection";p.a.SelectedBindingIsLegacy&&(r="#BindingUI_List_LegacySection");var l=[];return void 0!=d.a.BindingQueryResults&&(l=d.a.BindingQueryResults.filter(function(e){return"autosave"!=e.type})),i.createElement("div",{className:"FlexColumn FullPage",__source:{fileName:b,lineNumber:274}},i.createElement(_.a,{fnOnClick:d.a.ShowAppSelect,strTitle:Object(u.b)("#BindingList_PageTitle",t),__source:{fileName:b,lineNumber:275}}),i.createElement("div",{className:"BindingUITopSection FlexRow",__source:{fileName:b,lineNumber:276}},i.createElement("div",{className:"CurrentSection FlexColumn",__source:{fileName:b,lineNumber:277}},i.createElement("div",{className:"BindingListSectionHeader",__source:{fileName:b,lineNumber:278}},Object(u.b)("#BindingUI_List_CurrentSection")),n&&i.createElement(S,{result:n,currentBinding:d.a.CurrentBinding,fnSelectBinding:this.SelectBinding,bCurrentlySelectedBinding:!0,__source:{fileName:b,lineNumber:279}})),this.CreateControllerTypeDropdown()),i.createElement("hr",{__source:{fileName:b,lineNumber:283}}),i.createElement("div",{className:o,onScroll:this.OnScroll,__source:{fileName:b,lineNumber:284}},this.ComputeResultsSection(r,function(e){return"developer"==e.type&&e.url!=p.a.SelectedBindingURL}),this.ComputeResultsSection("#BindingUI_List_ImportSection",function(e){return"local_file"==e.type&&e.url!=p.a.SelectedBindingURL}),this.ComputeResultsSection("#BindingUI_List_PersonalSection",function(e){return"personal"==e.type&&e.url!=p.a.SelectedBindingURL}),this.ComputeResultsSection("#BindingUI_List_OwnedSection",function(e){return"public"==e.type&&e.owned&&e.url!=p.a.SelectedBindingURL}),this.ComputeResultsSection("#BindingUI_List_PublicSection",function(e){return"public"==e.type&&!e.owned&&e.url!=p.a.SelectedBindingURL}),0==l.length&&i.createElement("div",{__source:{fileName:b,lineNumber:301}},i.createElement("div",{__source:{fileName:b,lineNumber:302}},i.createElement("div",{className:"Label",__source:{fileName:b,lineNumber:303}},Object(u.b)("#BindingUI_List_NoBindingsFound"))),i.createElement("div",{className:"ButtonControl DeveloperLabel Inline",onClick:this.CreateBinding,__source:{fileName:b,lineNumber:305}},Object(u.b)("#BindingUI_List_CreateBinding")))),d.a.ShowBindingListError&&i.createElement(g,{sError:d.a.BindingListError,__source:{fileName:b,lineNumber:309}}))},o.c([c.b],t.prototype,"OnScroll",null),o.c([c.b],t.prototype,"CreateBinding",null),o.c([c.b],t.prototype,"SelectBinding",null),o.c([c.b],t.prototype,"OnControllerDropdownChanged",null),o.c([c.b],t.prototype,"ComputeResultsSection",null),o.c([c.b],t.prototype,"CreateControllerTypeDropdown",null),t=o.c([r.a],t)}(i.Component)},"1rjz":function(e,t,n){"use strict";n.d(t,"a",function(){return u});var o=n("TToO"),i=n("GiK3"),r=(n.n(i),n("N87Q")),l=(n.n(r),n("FBH1")),a=n("6CG6"),s="c:\\buildslave\\steamvr_webpack_rel_win32\\build\\src\\vrwebui\\src\\js\\bindingui\\inputoptions.tsx",c=function(e){function t(t){var n=e.call(this,t)||this;return n.state={bValue:a.a.GetOptionValue(n.props.sOptionName)},n}return o.d(t,e),t.prototype.onCheckboxChanged=function(e){a.a.SetOptionValue(this.props.sOptionName,e),this.setState({bValue:e})},t.prototype.render=function(){var e=this,t="InputOption"+this.props.sOptionName;return i.createElement("div",{className:"FlexRow SetupLegacyRow",__source:{fileName:s,lineNumber:25}},i.createElement("div",{className:"FlexColumn",__source:{fileName:s,lineNumber:26}},i.createElement("input",{id:t,type:"checkbox",checked:this.state.bValue,value:this.props.sOptionName,onChange:function(t){e.onCheckboxChanged(t.target.checked)},__source:{fileName:s,lineNumber:27}})),i.createElement("label",{className:"InputSettingsLabel",htmlFor:t,__source:{fileName:s,lineNumber:29}},this.props.sOptionLocalizedName))},o.c([l.b],t.prototype,"onCheckboxChanged",null),t}(i.Component),u=function(e){function t(t){return e.call(this,t)||this}return o.d(t,e),t.prototype.onCheckboxChanged=function(e,t){a.a.SetOptionValue(e,t),this.forceUpdate()},t.prototype.render=function(){var e=a.a.ManifestOptions.map(function(e,t){return i.createElement(c,{sOptionName:e.name,sOptionLocalizedName:e.localized_name,key:e.name,__source:{fileName:s,lineNumber:49}})});return i.createElement("div",{className:"BindingSectionWrapper",__source:{fileName:s,lineNumber:51}},i.createElement("div",{className:"Label",__source:{fileName:s,lineNumber:52}},e))},o.c([l.b],t.prototype,"onCheckboxChanged",null),t}(i.Component)},"39d6":function(e,t,n){"use strict";n.d(t,"a",function(){return m});var o=n("TToO"),i=n("GiK3"),r=(n.n(i),n("N87Q")),l=(n.n(r),n("FBH1")),a=n("mVfh"),s=n("6CG6"),c=n("Mn8c"),u=n("6Pre"),p="c:\\buildslave\\steamvr_webpack_rel_win32\\build\\src\\vrwebui\\src\\js\\bindingui\\simulatedactions.tsx",d=function(e){function t(t){var n=e.call(this,t)||this;return n.state={sName:n.props.simAction.name,sOutputAction:n.props.simAction.output?n.props.simAction.output:"none"},n}return o.d(t,e),t.prototype.onNameChanged=function(e){this.setState({sName:e});var t=this.props.simAction;t.name=e;var n=s.a.ComputeSimulatedActionPathFromId(t.id);s.a.SetSimulatedActionByPath(n,t)},t.prototype.onActionChanged=function(e){this.setState({sOutputAction:e});var t=this.props.simAction;t.output="none"==e?"":e;var n=s.a.ComputeSimulatedActionPathFromId(t.id);s.a.SetSimulatedActionByPath(n,t)},t.prototype.onDelete=function(){var e=s.a.ComputeSimulatedActionPathFromId(this.props.simAction.id);s.a.DeleteSimulatedActionByPath(e)},t.prototype.render=function(){var e=this,t=s.a.GetLiteralVector1ActionBindings.map(function(e,t){return new u.b(e.name,e.localized_name)});t.push(new u.b("none",Object(a.b)("#SourceInputAction_none")));var n="InputOption"+this.props.simAction.id;return i.createElement("div",{className:"FlexRow SetupLegacyRow",__source:{fileName:p,lineNumber:47}},i.createElement("div",{className:"SimulatedActionType Label",__source:{fileName:p,lineNumber:48}},Object(a.b)("#SimulatedAction_FakeTrigger")),i.createElement("input",{id:n+"name",type:"text",value:this.state.sName,onChange:function(t){e.onNameChanged(t.target.value)},className:"ActionAliasUserSuppliedName",__source:{fileName:p,lineNumber:49}}),i.createElement(u.a,{vecOptions:t,sValueSelectedItem:this.state.sOutputAction,sHeaderClass:"BindingLabelAction",fnOptionSelected:this.onActionChanged,__source:{fileName:p,lineNumber:50}}),i.createElement("div",{className:"Label ButtonControl",onClick:this.onDelete,__source:{fileName:p,lineNumber:51}},Object(a.b)("#DeleteSimulatedAction")))},o.c([l.b],t.prototype,"onNameChanged",null),o.c([l.b],t.prototype,"onActionChanged",null),o.c([l.b],t.prototype,"onDelete",null),t}(i.Component),m=function(e){function t(t){return e.call(this,t)||this}return o.d(t,e),t.prototype.onAddSimulatedAction=function(){s.a.AddSimulatedAction("fake_trigger")},t.prototype.CreateEntry=function(e){switch(e.type){case"fake_trigger":return i.createElement(d,{key:e.id,simAction:e,__source:{fileName:p,lineNumber:76}});default:return null}},t.prototype.render=function(){var e=this;return i.createElement("div",{className:"BindingSectionWrapper",__source:{fileName:p,lineNumber:83}},i.createElement("div",{className:"FlexColumn",__source:{fileName:p,lineNumber:84}},i.createElement("div",{className:"LegacySectionHeader Label",__source:{fileName:p,lineNumber:85}},Object(a.b)("#LegacySetup_SimulatedActionHeader")),s.a.SimulatedActions.map(function(t,n){return e.CreateEntry(t)}),i.createElement("div",{className:"Label ButtonControl",onClick:this.onAddSimulatedAction,__source:{fileName:p,lineNumber:89}},Object(a.b)("#AddSimulatedAction"))))},o.c([l.b],t.prototype,"onAddSimulatedAction",null),t=o.c([c.a],t)}(i.Component)},"3y8m":function(e,t,n){"use strict";n.d(t,"b",function(){return o}),n.d(t,"a",function(){return b});var o,i=n("TToO"),r=n("GiK3"),l=(n.n(r),n("Mn8c")),a=n("IXHb"),s=n.n(a),c=n("FBH1"),u=n("mVfh"),p=n("6CG6"),d=n("6Pre"),m="c:\\buildslave\\steamvr_webpack_rel_win32\\build\\src\\vrwebui\\src\\js\\controllerbinding_poses.tsx";!function(e){e[e.None=0]="None",e[e.Pose=1]="Pose",e[e.Haptics=2]="Haptics",e[e.Skeleton=3]="Skeleton"}(o||(o={}));var h=function(e){function t(t){var n=e.call(this,t)||this;return n.state={SVGElement:void 0,WrapperHTMLElement:void 0},n.currentAction=void 0,n}return i.d(t,e),t.prototype.componentDidUpdate=function(){this.UpdateSVGPath()},t.prototype.BindSVGRef=function(e){this.setState({SVGElement:e}),this.UpdateSVGPath()},t.prototype.BindWrapperElement=function(e){this.setState({WrapperHTMLElement:e}),this.UpdateSVGPath()},t.prototype.UpdateSVGPath=function(){if(this.state.SVGElement){var e=this.state.SVGElement.children.namedItem("SourcePath"),t=this.state.SVGElement.children.namedItem("SourceLine"),n=this.state.SVGElement.children.namedItem("SourceCircle"),o=i.a({},this.props.endPoint),r=i.a({},this.props.startPoint);if(this.state.WrapperHTMLElement){var l=this.state.WrapperHTMLElement.getBoundingClientRect(),a=this.state.WrapperHTMLElement.parentElement.parentElement.parentElement.getBoundingClientRect();r.y+=l.top-a.top+l.height/2}var s=r.x+20+","+r.y+" "+o.x+","+o.y;e.setAttribute("points",s);var c=r.x+","+r.y+" "+(r.x+20)+","+r.y;t.setAttribute("points",c),n.setAttribute("cx",o.x+""),n.setAttribute("cy",o.y+"")}},t.prototype.OnActionChanged=function(e){switch(this.props.type){case"pose":return this.OnPoseActionChanged(e);case"vibration":return this.OnHapticsActionChanged(e);case"skeleton":return this.OnSkeletonActionChanged(e);default:console.log("Unknown type: ",this.props.type)}},t.prototype.FullInputPaths=function(){var e=this;return this.props.vecDevicePathsToSet.map(function(t){return t+e.props.sInputPath})},t.prototype.CurrentAction=function(){return this.currentAction},t.prototype.OnPoseActionChanged=function(e){this.FullInputPaths().forEach(function(t){p.a.SetPoseForInputPath(t,e)})},t.prototype.OnHapticsActionChanged=function(e){this.FullInputPaths().forEach(function(t){p.a.SetHapticsForInputPath(t,e)})},t.prototype.OnSkeletonActionChanged=function(e){this.FullInputPaths().forEach(function(t){p.a.SetSkeletonForInputPath(t,e)})},t.prototype.render=function(){var e,t=this,n="",o=Object(u.b)("#SourceInputMode_none"),i=this.FullInputPaths()[0],l=p.a.LocalizePathNameForSelectedControllerType(i);switch(this.props.type){case"pose":e=p.a.GetPoseActionByPath(i);break;case"skeleton":e=p.a.GetSkeletonActionByPath(i);break;case"vibration":e=p.a.GetHapticsActionByPath(i);break;default:console.log("ControllerPoseBindingItem doesn't know how to handle items of type:",this.props.type)}var a=p.a.SelectedActionSetActions,c=a.filter(function(e){return!!("skeleton"!=t.props.type||"skeleton"==e.type&&e.skeleton&&t.props.InputSource.skeleton&&e.skeleton.toLowerCase()==t.props.InputSource.skeleton.toLowerCase())&&e.type==t.props.type}).map(function(i,r){return e&&e[0].output.toLowerCase()==i.name.toLowerCase()&&(t.currentAction=i,n=i.name,o=i.localized_name),new d.b(i.name,i.localized_name)});c.push(new d.b("none",Object(u.b)("#SourceInputMode_none")));return r.createElement("div",{className:"PoseActionListEntryWrapper",ref:this.BindWrapperElement,__source:{fileName:m,lineNumber:135}},r.createElement("div",{className:"FlexRow PoseActionListEntry",__source:{fileName:m,lineNumber:136}},r.createElement("div",{className:"Label PoseActionLabel",__source:{fileName:m,lineNumber:137}},l),r.createElement("div",{__source:{fileName:m,lineNumber:139}},r.createElement(d.a,{vecOptions:c,sValueSelectedItem:n,sHeaderClass:"PoseActionLabelDropdown",bReadOnly:!1,sLocalizedSelectedItem:o,fnOptionSelected:this.OnActionChanged,__source:{fileName:m,lineNumber:140}}),r.createElement(s.a,{onReflow:this.UpdateSVGPath,__source:{fileName:m,lineNumber:141}}))),void 0!=this.CurrentAction()&&this.props.endPoint.x>0&&this.props.endPoint.y>0&&r.createElement("svg",{className:"BindingPoseLineSVG",xmlns:"http://www.w3.org/2000/svg",ref:this.BindSVGRef,__source:{fileName:m,lineNumber:145}},r.createElement("defs",{__source:{fileName:m,lineNumber:146}},r.createElement("radialGradient",{id:"buttonGradient",__source:{fileName:m,lineNumber:147}},r.createElement("stop",{offset:"0%",stopColor:"var(--bordercolor)",stopOpacity:"0.8",__source:{fileName:m,lineNumber:148}}),r.createElement("stop",{offset:"100%",stopColor:"var(--bordercolor)",stopOpacity:"0",__source:{fileName:m,lineNumber:149}}))),r.createElement("polyline",{id:"SourceLine",stroke:"var(--bordercolor)",strokeWidth:"0.1rem",fill:"transparent",__source:{fileName:m,lineNumber:152}}),r.createElement("polyline",{id:"SourcePath",stroke:"var(--bordercolor)",strokeWidth:"0.1rem",fill:"transparent",__source:{fileName:m,lineNumber:153}}),r.createElement("circle",{id:"SourceCircle",r:"2rem",fill:"url(#buttonGradient)",__source:{fileName:m,lineNumber:154}})),this.props.bIncludeHR&&r.createElement("hr",{__source:{fileName:m,lineNumber:157}}))},i.c([c.b],t.prototype,"BindSVGRef",null),i.c([c.b],t.prototype,"BindWrapperElement",null),i.c([c.b],t.prototype,"UpdateSVGPath",null),i.c([c.b],t.prototype,"OnActionChanged",null),i.c([c.b],t.prototype,"OnPoseActionChanged",null),i.c([c.b],t.prototype,"OnHapticsActionChanged",null),i.c([c.b],t.prototype,"OnSkeletonActionChanged",null),t=i.c([l.a],t)}(r.Component),f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.d(t,e),t.prototype.render=function(){var e=void 0;switch(this.props.eActionType){case o.Pose:e="pose";break;case o.Haptics:e="vibration";break;case o.Skeleton:e="skeleton"}var t=p.a.SelectedActionSetActions.filter(function(t){return t.type==e});if(0==t.length)return null;var n=p.a.SelectedControllerTypeInfo.profile.input_source,i=[];if("controller_handed"==p.a.SelectedControllerTypeInfo.profile.input_bindingui_mode)i=["/user/hand/left","/user/hand/right"];else{var l=p.a.DeviceForSelectedControllerType();l.root_path&&i.push(l.root_path),l.root_path_alt&&i.push(l.root_path_alt)}if(0==i.length)return console.log("Missing base root path for controller"),null;var a=(p.a.GetPoseActionBindings,[]),s=0;for(var c in n)for(var d=n[c],f=0,_=i;f<_.length;f++){var b=_[f];if(d.type==e){var g="none";if("/user/hand/right"==b?g="right":"/user/hand/left"==b&&(g="left"),!d.side||d.side==g){var S=b+c,y="left"==g,v=y?this.props.ptLeftController.x:this.props.ptRightController.x,N=y?this.props.ptLeftController.y:this.props.ptRightController.y,C=new p.b(0,0);if(n.hasOwnProperty(c)&&(C.x=d.binding_image_point[0],C.y=d.binding_image_point[1],C.x*=this.props.nPointScale,C.y*=this.props.nPointScale),y?C.x=v-C.x:C.x+=v,C.y+=N,!y||!this.props.bSlaveSecondaryControllerBinding){var A=new p.b(this.props.ptPoseListOffset.x+5,0),B=(s++,t.length,[b]);this.props.bSlaveSecondaryControllerBinding&&(B=i),a.push(r.createElement(h,{key:S,InputSource:d,sInputPath:c,type:e,vecDevicePathsToSet:B,startPoint:A,endPoint:C,__source:{fileName:m,lineNumber:271}}))}}}}var O=void 0;switch(this.props.eActionType){case o.Pose:O=Object(u.b)("#BindingUI_PoseListTitle");break;case o.Haptics:O=Object(u.b)("#BindingUI_HapticsListTitle");break;case o.Skeleton:O=Object(u.b)("#BindingUI_SkeletonListTitle")}return r.createElement("div",{className:"FlexColumn",__source:{fileName:m,lineNumber:286}},r.createElement("div",{className:"Label Title AllCaps",__source:{fileName:m,lineNumber:287}},O),a)},t=i.c([l.a],t)}(r.Component),_=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.d(t,e),t.prototype.render=function(){var e=p.a.SelectedControllerTypeInfo.profile.input_source,t=new p.b(e[this.props.vecPosePath[0]].binding_image_point[0],e[this.props.vecPosePath[0]].binding_image_point[1]);t.x*=this.props.nPointScale,t.y*=this.props.nPointScale,this.props.bLeftHandController?t.x=this.props.ptController.x-t.x:t.x+=this.props.ptController.x,t.y+=this.props.ptController.y;var n="";this.props.vecPosePath.map(function(e,t){0!=t&&(n+=","),n+=p.a.LocalizeStringForSelectedControllerType(e)});var o=this.props.bLeftHandController?"start":"end",i=this.props.bLeftHandController?6:-6;return r.createElement("svg",{className:"BindingPosePointSVG ",xmlns:"http://www.w3.org/2000/svg",__source:{fileName:m,lineNumber:323}},r.createElement("defs",{__source:{fileName:m,lineNumber:324}},r.createElement("radialGradient",{id:"buttonGradient",__source:{fileName:m,lineNumber:325}},r.createElement("stop",{offset:"0%",stopColor:"var(--bordercolor)",stopOpacity:"1",__source:{fileName:m,lineNumber:326}}),r.createElement("stop",{offset:"100%",stopColor:"var(--bordercolor)",stopOpacity:"0",__source:{fileName:m,lineNumber:327}})),r.createElement("filter",{id:"background",x:"-10%",y:"-10%",width:"120%",height:"120%",__source:{fileName:m,lineNumber:329}},r.createElement("feFlood",{floodColor:"#1d4e62e0",__source:{fileName:m,lineNumber:330}}),r.createElement("feComposite",{in:"SourceGraphic",__source:{fileName:m,lineNumber:331}})),r.createElement("filter",{id:"shadow",x:"-20%",y:"-20%",width:"140%",height:"140%",__source:{fileName:m,lineNumber:333}},r.createElement("feGaussianBlur",{stdDeviation:"2 2",result:"shadow",__source:{fileName:m,lineNumber:334}}),r.createElement("feOffset",{dx:"1",dy:"1",__source:{fileName:m,lineNumber:335}}))),r.createElement("text",{textAnchor:o,filter:"url(#shadow)",x:t.x+i,y:t.y,style:{fill:"black",fontSize:24},__source:{fileName:m,lineNumber:338}},n),r.createElement("text",{textAnchor:o,filter:"url(#background)",x:t.x+i,y:t.y,style:{fill:"var(--descriptiontext)",fontSize:24},__source:{fileName:m,lineNumber:339}},n),r.createElement("circle",{id:"SourceCircle",cx:t.x,cy:t.y,r:"0.5rem",fill:"url(#buttonGradient)",__source:{fileName:m,lineNumber:340}}))},t=i.c([l.a],t)}(r.Component),b=function(e){function t(t){var n=e.call(this,t)||this;return n.m_LeftControllerImage=void 0,n.m_RightControllerImage=void 0,n.m_SVGElement=void 0,n.m_PropsListDiv=void 0,n.state={ptLeftController:new p.b(0,0),ptRightController:new p.b(0,0),nPointScale:0,ptDivList:new p.b(0,0)},n}return i.d(t,e),t.prototype.OnUpdateControllerPicturePosition=function(){if(this.m_LeftControllerImage&&!this.props.bSlaveSecondaryControllerBinding){var e=1,t=0,n=0,o=this.m_LeftControllerImage;if(o){var i=o.getBoundingClientRect();o.naturalWidth>0&&(n=i.right-o.parentElement.parentElement.parentElement.getBoundingClientRect().left,t=i.top-o.parentElement.parentElement.parentElement.getBoundingClientRect().top)}this.setState({ptLeftController:new p.b(n,t)})}if(this.m_RightControllerImage){var e=1,t=0,n=0,o=this.m_RightControllerImage;if(o){var i=o.getBoundingClientRect();o.naturalWidth>0&&(e=i.height/o.naturalHeight,n=i.left-o.parentElement.parentElement.parentElement.getBoundingClientRect().left,n+=(i.width-o.naturalWidth*e)/2,t=i.top-o.parentElement.parentElement.parentElement.getBoundingClientRect().top)}this.setState({ptRightController:new p.b(n,t),nPointScale:e})}if(this.m_PropsListDiv){var r=this.m_PropsListDiv.getBoundingClientRect(),l=this.m_PropsListDiv.parentElement.parentElement.getBoundingClientRect();this.setState({ptDivList:new p.b(r.width,r.top-l.top)})}},t.prototype.BindLeftControllerImage=function(e){this.m_LeftControllerImage=e,this.OnUpdateControllerPicturePosition()},t.prototype.BindRightControllerImage=function(e){this.m_RightControllerImage=e,this.OnUpdateControllerPicturePosition()},t.prototype.BindPropsListDiv=function(e){this.m_PropsListDiv=e,this.OnUpdateControllerPicturePosition()},t.prototype.render=function(){var e=this,t="",n="",i="",l="",a=p.a.SelectedControllerTypeInfo,c=void 0,d=void 0;switch(this.props.eActionSourceType){case o.Pose:c="pose",d=Object(u.b)("#BindingUI_PoseTitle");break;case o.Haptics:c="vibration",d=Object(u.b)("#BindingUI_HapticsTitle");break;case o.Skeleton:c="skeleton",d=Object(u.b)("#BindingUI_SkeletonTitle")}l=a.profile.input_bindingui_right.uri,n=a.profile.input_bindingui_right.transform,this.props.bSlaveSecondaryControllerBinding||(t=a.profile.input_bindingui_left.transform,i=a.profile.input_bindingui_left.uri);var h=function(e,t,n,o,i){var r=e.profile.input_source[o];if(r.type==c&&(void 0==r.side||r.side==n)){var l=new p.b(r.binding_image_point[0],r.binding_image_point[1]);t.hasOwnProperty(l.toString())||(t[l.toString()]=[]),t[l.toString()].push(o)}},b={},g={};Object.keys(a.profile.input_source).forEach(h.bind(null,a,b,"left")),Object.keys(a.profile.input_source).forEach(h.bind(null,a,g,"right"));var S=Object.keys(b).map(function(t,n){return r.createElement(_,{key:n,vecPosePath:b[t],ptController:e.state.ptLeftController,nPointScale:e.state.nPointScale,ptPoseListOffset:e.state.ptDivList,bLeftHandController:!0,__source:{fileName:m,lineNumber:458}})}),y=Object.keys(g).map(function(t,n){return r.createElement(_,{key:n,vecPosePath:g[t],ptController:e.state.ptRightController,nPointScale:e.state.nPointScale,ptPoseListOffset:e.state.ptDivList,bLeftHandController:!1,__source:{fileName:m,lineNumber:461}})});return r.createElement("div",{className:"FlexFullHeightColumnCentered",__source:{fileName:m,lineNumber:463}},r.createElement("div",{className:"FlexRow PoseTitleBar",__source:{fileName:m,lineNumber:464}},r.createElement("img",{className:"ActionButtonImage ActionButtonImageLarge ChordManageTopButton",src:"images/bindingui/icon_modal_edit_header.svg",__source:{fileName:m,lineNumber:465}}),r.createElement("div",{className:"Label Title TitleCenter AllCaps",__source:{fileName:m,lineNumber:466}},d)),r.createElement("div",{className:"FlexFullWidthRowCentered PoseMainContent PositionRelative",__source:{fileName:m,lineNumber:468}},r.createElement("div",{className:"PoseBindingPoints",__source:{fileName:m,lineNumber:469}},!this.props.bSlaveSecondaryControllerBinding&&S,y),r.createElement("div",{className:"FlexColumn PoseActionsList",ref:this.BindPropsListDiv,__source:{fileName:m,lineNumber:473}},r.createElement(f,{eActionType:this.props.eActionSourceType,bSingleControllerMode:this.props.bSingleControllerMode,ptRightController:this.state.ptRightController,ptLeftController:this.state.ptLeftController,bReadOnly:this.props.bReadOnly,nPointScale:this.state.nPointScale,ptPoseListOffset:this.state.ptDivList,bSlaveSecondaryControllerBinding:this.props.bSlaveSecondaryControllerBinding,__source:{fileName:m,lineNumber:474}}),r.createElement(s.a,{onReflow:this.OnUpdateControllerPicturePosition,__source:{fileName:m,lineNumber:475}})),r.createElement("div",{className:"FlexRow PoseControllerPictures",__source:{fileName:m,lineNumber:477}},!this.props.bSlaveSecondaryControllerBinding&&r.createElement("div",{className:"ControllerImageContainer",__source:{fileName:m,lineNumber:478}},r.createElement("img",{className:"ControllerImage",src:i,style:{transform:t},ref:this.BindLeftControllerImage,__source:{fileName:m,lineNumber:478}})),r.createElement("div",{className:"ControllerImageContainer",__source:{fileName:m,lineNumber:479}},r.createElement("img",{className:"ControllerImage",src:l,style:{transform:n},ref:this.BindRightControllerImage,__source:{fileName:m,lineNumber:479}}))),r.createElement(s.a,{onReflow:this.OnUpdateControllerPicturePosition,__source:{fileName:m,lineNumber:481}})),r.createElement("div",{className:"ChordBindingCloseButton Label AllCaps",onClick:this.props.fnCloseModal,__source:{fileName:m,lineNumber:483}},Object(u.b)("#Button_Close")))},i.c([c.b],t.prototype,"OnUpdateControllerPicturePosition",null),i.c([c.b],t.prototype,"BindLeftControllerImage",null),i.c([c.b],t.prototype,"BindRightControllerImage",null),i.c([c.b],t.prototype,"BindPropsListDiv",null),t=i.c([l.a],t)}(r.Component)},"6CG6":function(e,t,n){"use strict";function o(){return new Promise(function(e,t){u.a.get("/input/getstate.json").then(function(t){e(t.data)}).catch(function(e){t(e)})})}function i(e){return new Promise(function(t,n){u.a.get("/input/getactions.json?app_key="+e).then(function(e){t(e.data)}).catch(function(e){n(e)})})}function r(e,t,n){return new Promise(function(o,i){u.a.get("/input/loadbindingfromurl.json?binding_url="+encodeURI(n)+"&controller_type="+encodeURI(t)+"&app_key="+encodeURI(e)).then(function(e){o()}).catch(function(e){i(e)})})}n.d(t,"c",function(){return N}),n.d(t,"b",function(){return C}),n.d(t,"a",function(){return I});var l,a=n("TToO"),s=n("FBH1"),c=n("mtWM"),u=n.n(c),p=n("y986"),d=n("mVfh"),m=n("Ywy1"),h=n("nhcq"),f=n("APa2"),_=function(){function e(){}return a.c([p.l],e.prototype,"path",void 0),a.c([p.l],e.prototype,"mode",void 0),a.c([p.l],e.prototype,"parameters",void 0),a.c([p.l],e.prototype,"inputs",void 0),e}(),b=function(){function e(){}return a.c([p.l],e.prototype,"path",void 0),a.c([p.l],e.prototype,"output",void 0),e}(),g=function(){function e(){}return a.c([p.l],e.prototype,"path",void 0),a.c([p.l],e.prototype,"output",void 0),e}(),S=function(){function e(){}return a.c([p.l],e.prototype,"path",void 0),a.c([p.l],e.prototype,"output",void 0),e}(),y=function(){function e(){}return a.c([p.l],e.prototype,"output",void 0),a.c([p.l],e.prototype,"inputs",void 0),e}(),v=function(){function e(){}return a.c([p.l],e.prototype,"chords",void 0),a.c([p.l],e.prototype,"poses",void 0),a.c([p.l],e.prototype,"haptics",void 0),a.c([p.l],e.prototype,"sources",void 0),a.c([p.l],e.prototype,"skeleton",void 0),e}(),N=(function(){function e(e,t){this.app_key=e,this.name=t}}(),function(){function e(){this.vecRequired=[],this.vecSuggested=[]}return e}()),C=(function(){function e(){}}(),function(){function e(){}}(),function(){function e(){}a.c([p.l],e.prototype,"device_path_string",void 0),a.c([p.l],e.prototype,"device_path_handle",void 0),a.c([p.l],e.prototype,"role",void 0),a.c([p.l],e.prototype,"controller_role",void 0)}(),function(){function e(){}a.c([p.l],e.prototype,"trackers",void 0),a.c([p.l],e.prototype,"valid_roles",void 0)}(),function(){function e(e,t){this.x=e,this.y=t,this.toString.bind(this)}return e.prototype.toString=function(){return this.x+","+this.y},e}()),A=function(){function e(e,t,n,o,i,r){var l=this;this.m_BindingUISource=void 0,this.m_sResourceRoot=void 0,this.m_ControllerProfile=void 0,this.m_sDeviceInputPath=void 0,this.m_eButtonSide=void 0,this.m_sInputPath=void 0,this.m_sActionSet=void 0,this.m_BindingStoreObserverDisposer=void 0,this.m_iNewSourceEntry=-1,this.m_sResourceRoot=e,this.m_sDeviceInputPath=t,this.m_ControllerProfile=n,this.m_eButtonSide=o,this.m_sInputPath=i,this.m_sActionSet=r,this.m_BindingStoreObserverDisposer=Object(p.m)(I,function(e){"m_LoadedBinding"==e.name&&l.UpdateBindingSource()}),this.UpdateBindingSource(),I.RegisterBindingWatcher(this.UpdateBindingSource.bind(this))}return e.prototype.cancelWatcher=function(){this.m_BindingStoreObserverDisposer(),I.UnregisterBindingWatcher(this.UpdateBindingSource)},e.prototype.UpdateBindingSource=function(){this.m_BindingUISource=I.GetActionBinding(this.GetFullInputPath,this.m_sActionSet)},Object.defineProperty(e.prototype,"GetFullInputPath",{get:function(){var e=this.m_sDeviceInputPath+this.m_sInputPath;return e=e.replace(/([^:]\/)\/+/g,"$1")},enumerable:!0,configurable:!0}),e.prototype.GetSVGEndPoint=function(){return new C(this.m_ControllerProfile.input_source[this.m_sInputPath].binding_image_point[0],this.m_ControllerProfile.input_source[this.m_sInputPath].binding_image_point[1])},Object.defineProperty(e.prototype,"GetButtonSide",{get:function(){return this.m_eButtonSide},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"GetNumModes",{get:function(){return this.m_BindingUISource?this.m_BindingUISource.length:0},enumerable:!0,configurable:!0}),e.prototype.GetActionForInputType=function(e,t){if(this.m_BindingUISource&&this.m_BindingUISource[e].inputs&&this.m_BindingUISource[e].inputs.has(t)){var n=this.m_BindingUISource[e].inputs.get(t).output,o=I.GetActionByName(n);if(!o){var i=I.GetSimulatedActionByPath(n);i&&(o=I.CreateActionDefinitionForSimulatedAction(i))}var r=I.GetAliasInfo(n);return o&&r&&r.alias_name&&(o=Object.assign({},o),o.localized_name=r.alias_name),o}},e.prototype.GetClickAction=function(e){return this.GetActionForInputType(e,"click")},e.prototype.GetTouchAction=function(e){return this.GetActionForInputType(e,"touch")},e.prototype.GetPositionAction=function(e){return this.GetActionForInputType(e,"position")},e.prototype.GetHeldAction=function(e){return this.GetActionForInputType(e,"held")},e.prototype.GetLongAction=function(e){return this.GetActionForInputType(e,"long")},e.prototype.GetSingleAction=function(e){return this.GetActionForInputType(e,"single")},e.prototype.GetDoubleAction=function(e){return this.GetActionForInputType(e,"double")},e.prototype.GetNorthAction=function(e){return this.GetActionForInputType(e,"north")},e.prototype.GetEastAction=function(e){return this.GetActionForInputType(e,"east")},e.prototype.GetSouthAction=function(e){return this.GetActionForInputType(e,"south")},e.prototype.GetWestAction=function(e){return this.GetActionForInputType(e,"west")},e.prototype.GetCenterAction=function(e){return this.GetActionForInputType(e,"center")},e.prototype.GetScrollAction=function(e){return this.GetActionForInputType(e,"scroll")},e.prototype.GetPullAction=function(e){return this.GetActionForInputType(e,"pull")},e.prototype.GetForceAction=function(e){return this.GetActionForInputType(e,"force")},e.prototype.GetGrabAction=function(e){return this.GetActionForInputType(e,"grab")},e.prototype.GetValueAction=function(e){return this.GetActionForInputType(e,"value")},Object.defineProperty(e.prototype,"GetControllerInputName",{get:function(){return I.LocalizeDriverString(this.m_sResourceRoot,this.m_sInputPath)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"GetModes",{get:function(){return this.m_BindingUISource?this.m_BindingUISource:[]},enumerable:!0,configurable:!0}),e.prototype.GetMode=function(e){return this.m_BindingUISource&&e>=0&&e<this.m_BindingUISource.length?this.m_BindingUISource[e].mode:"none"},Object.defineProperty(e.prototype,"GetInputSourceType",{get:function(){return this.m_ControllerProfile.input_source[this.m_sInputPath].type},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"GetInputSource",{get:function(){return this.m_ControllerProfile.input_source[this.m_sInputPath]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"GetInputSourceClickSupport",{get:function(){return!(this.m_ControllerProfile.input_source[this.m_sInputPath].force&&!this.m_ControllerProfile.input_source[this.m_sInputPath].click)&&(("knuckles"!=this.m_ControllerProfile.controller_type||"/input/trackpad"!=this.m_sInputPath)&&(!(!this.m_ControllerProfile.input_source[this.m_sInputPath].click&&!this.m_ControllerProfile.input_source[this.m_sInputPath].touch)&&(this.m_ControllerProfile.input_source[this.m_sInputPath].click||this.m_ControllerProfile.input_source[this.m_sInputPath].touch)))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"GetInputSourceTouchSupport",{get:function(){return!(!this.m_ControllerProfile.input_source[this.m_sInputPath].touch&&!this.m_ControllerProfile.input_source[this.m_sInputPath].proximity)&&(this.m_ControllerProfile.input_source[this.m_sInputPath].touch||this.m_ControllerProfile.input_source[this.m_sInputPath].proximity)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"GetInputSourceForceSupport",{get:function(){return!!this.m_ControllerProfile.input_source[this.m_sInputPath].force&&this.m_ControllerProfile.input_source[this.m_sInputPath].force},enumerable:!0,configurable:!0}),e.prototype.SetInputMode=function(e,t){if(!this.m_BindingUISource||t<0||t>=this.m_BindingUISource.length)return void console.error("SetInputMode: Invalid mode index for new mode");this.ClearNewModeIfSet(t),I.SetInputModeForInputSource(this.GetFullInputPath,t,e)},e.prototype.AddInputMode=function(e){this.m_iNewSourceEntry=I.AddInputModeForSource(this.GetFullInputPath,e)},e.prototype.DeleteInputMode=function(e){if(!this.m_BindingUISource||e<0||e>=this.m_BindingUISource.length)return void console.error("SetInputMode: Invalid mode index for new mode");I.DeleteInputModeForSource(this.GetFullInputPath,e)},e.prototype.ClearNewModeIfSet=function(e){-1!=this.m_iNewSourceEntry&&this.m_iNewSourceEntry==e&&(this.m_iNewSourceEntry=-1)},e.prototype.BHasModeSelectionPending=function(e){return-1!=this.m_iNewSourceEntry&&this.m_iNewSourceEntry==e},e.prototype.SetClickAction=function(e,t){I.SetActionForInputModeType(this.GetFullInputPath,e,"click",t,["button","trackpad","joystick","trigger","toggle_button","complex_button"])},e.prototype.SetTouchAction=function(e,t){I.SetActionForInputModeType(this.GetFullInputPath,e,"touch",t,["button","trackpad","joystick","trigger","toggle_button","complex_button"])},e.prototype.SetHeldAction=function(e,t){I.SetActionForInputModeType(this.GetFullInputPath,e,"held",t,["button","complex_button"])},e.prototype.SetLongAction=function(e,t){I.SetActionForInputModeType(this.GetFullInputPath,e,"long",t,["button","complex_button"])},e.prototype.SetSingleAction=function(e,t){I.SetActionForInputModeType(this.GetFullInputPath,e,"single",t,["button","complex_button"])},e.prototype.SetDoubleAction=function(e,t){I.SetActionForInputModeType(this.GetFullInputPath,e,"double",t,["button","complex_button"])},e.prototype.SetPositionAction=function(e,t){I.SetActionForInputModeType(this.GetFullInputPath,e,"position",t,["trackpad","joystick"])},e.prototype.SetNorthAction=function(e,t){I.SetActionForInputModeType(this.GetFullInputPath,e,"north",t,["dpad","dpad_click","dpad_touch"])},e.prototype.SetEastAction=function(e,t){I.SetActionForInputModeType(this.GetFullInputPath,e,"east",t,["dpad","dpad_click","dpad_touch"])},e.prototype.SetSouthAction=function(e,t){I.SetActionForInputModeType(this.GetFullInputPath,e,"south",t,["dpad","dpad_click","dpad_touch"])},e.prototype.SetWestAction=function(e,t){I.SetActionForInputModeType(this.GetFullInputPath,e,"west",t,["dpad","dpad_click","dpad_touch"])},e.prototype.SetCenterAction=function(e,t){I.SetActionForInputModeType(this.GetFullInputPath,e,"center",t,["dpad","dpad_click","dpad_touch"])},e.prototype.SetScrollAction=function(e,t){I.SetActionForInputModeType(this.GetFullInputPath,e,"scroll",t,["trackpad_scroll"])},e.prototype.SetPullAction=function(e,t){I.SetActionForInputModeType(this.GetFullInputPath,e,"pull",t,["trigger"])},e.prototype.SetForceAction=function(e,t){I.SetActionForInputModeType(this.GetFullInputPath,e,"force",t,["force_sensor"])},e.prototype.SetGrabAction=function(e,t){I.SetActionForInputModeType(this.GetFullInputPath,e,"grab",t,["grab"])},e.prototype.SetValueAction=function(e,t){I.SetActionForInputModeType(this.GetFullInputPath,e,"value",t,["scalar_constant"])},e.prototype.CopyActions=function(e){var t=this;I.ClearModesForInputPath(this.GetFullInputPath),e.GetModes.map(function(e,n){I.AddInputModeForSource(t.GetFullInputPath,e.mode),e.inputs.forEach(function(e,o){I.SetActionForInputModeType(t.GetFullInputPath,n,o,e.output,[])})})},e.prototype.BindingsMatch=function(e){var t=e.GetModes;if(this.GetModes.length!=t.length)return!1;for(var n=this,o=0;o<t.length;o++){var i=function(e){var o=t[e],i=n.GetModes.filter(function(e){return e.mode==o.mode});if(i.length>0){var r=!0;return i[0].inputs.forEach(function(e,t){o.inputs.has(t)&&o.inputs.get(t).output==e.output||(r=!1)}),{value:r}}return{value:!1}}(o);if("object"==typeof i)return i.value}return!0},e.prototype.SetClickParameter=function(e,t,n){I.SetParameterForInputModeType(this.GetFullInputPath,e,"click",t,n)},e.prototype.SetTouchParameter=function(e,t,n){I.SetParameterForInputModeType(this.GetFullInputPath,e,"touch",t,n)},e.prototype.SetParameter=function(e,t,n,o){I.SetParameterForInputModeType(this.GetFullInputPath,e,t,n,o)},e.prototype.GetClickParameter=function(e,t){return I.GetParameterForInputModeType(this.GetFullInputPath,e,"click",t)},e.prototype.GetTouchParameter=function(e,t){return I.GetParameterForInputModeType(this.GetFullInputPath,e,"touch",t)},e.prototype.GetParameter=function(e,t,n){return I.GetParameterForInputModeType(this.GetFullInputPath,e,t,n)},e.prototype.GetTrackpadInvertState=function(e){switch(I.GetParameterForInputModeType(this.GetFullInputPath,e,"trackpad","invert")){case"x":return"x";case"y":return"y";case"xy":return"xy";default:return""}},e.prototype.SetTrackpadInvertState=function(e,t){var n="";switch(t){case"x":n="x";break;case"y":n="y";break;case"xy":n="xy"}I.SetParameterForInputModeType(this.GetFullInputPath,e,"trackpad","invert",n)},a.c([p.l],e.prototype,"m_BindingUISource",void 0),a.c([p.l],e.prototype,"m_sResourceRoot",void 0),a.c([p.l],e.prototype,"m_ControllerProfile",void 0),a.c([p.l],e.prototype,"m_sDeviceInputPath",void 0),a.c([p.l],e.prototype,"m_eButtonSide",void 0),a.c([p.l],e.prototype,"m_sInputPath",void 0),a.c([p.l],e.prototype,"m_sActionSet",void 0),a.c([s.b],e.prototype,"cancelWatcher",null),a.c([p.c],e.prototype,"UpdateBindingSource",null),a.c([p.e],e.prototype,"GetFullInputPath",null),a.c([s.b],e.prototype,"GetSVGEndPoint",null),a.c([p.e],e.prototype,"GetButtonSide",null),a.c([p.e],e.prototype,"GetNumModes",null),a.c([s.b],e.prototype,"GetActionForInputType",null),a.c([s.b],e.prototype,"GetClickAction",null),a.c([s.b],e.prototype,"GetTouchAction",null),a.c([s.b],e.prototype,"GetPositionAction",null),a.c([s.b],e.prototype,"GetHeldAction",null),a.c([s.b],e.prototype,"GetLongAction",null),a.c([s.b],e.prototype,"GetSingleAction",null),a.c([s.b],e.prototype,"GetDoubleAction",null),a.c([s.b],e.prototype,"GetNorthAction",null),a.c([s.b],e.prototype,"GetEastAction",null),a.c([s.b],e.prototype,"GetSouthAction",null),a.c([s.b],e.prototype,"GetWestAction",null),a.c([s.b],e.prototype,"GetCenterAction",null),a.c([s.b],e.prototype,"GetScrollAction",null),a.c([s.b],e.prototype,"GetPullAction",null),a.c([s.b],e.prototype,"GetForceAction",null),a.c([s.b],e.prototype,"GetGrabAction",null),a.c([s.b],e.prototype,"GetValueAction",null),a.c([p.e],e.prototype,"GetControllerInputName",null),a.c([p.e],e.prototype,"GetModes",null),a.c([s.b],e.prototype,"GetMode",null),a.c([p.e],e.prototype,"GetInputSourceType",null),a.c([p.e],e.prototype,"GetInputSource",null),a.c([p.e],e.prototype,"GetInputSourceClickSupport",null),a.c([p.e],e.prototype,"GetInputSourceTouchSupport",null),a.c([p.e],e.prototype,"GetInputSourceForceSupport",null),a.c([p.c],e.prototype,"SetInputMode",null),a.c([p.c],e.prototype,"AddInputMode",null),a.c([p.c],e.prototype,"DeleteInputMode",null),a.c([s.b],e.prototype,"ClearNewModeIfSet",null),a.c([s.b],e.prototype,"BHasModeSelectionPending",null),a.c([p.c],e.prototype,"SetClickAction",null),a.c([p.c],e.prototype,"SetTouchAction",null),a.c([p.c],e.prototype,"SetHeldAction",null),a.c([p.c],e.prototype,"SetLongAction",null),a.c([p.c],e.prototype,"SetSingleAction",null),a.c([p.c],e.prototype,"SetDoubleAction",null),a.c([p.c],e.prototype,"SetPositionAction",null),a.c([p.c],e.prototype,"SetNorthAction",null),a.c([p.c],e.prototype,"SetEastAction",null),a.c([p.c],e.prototype,"SetSouthAction",null),a.c([p.c],e.prototype,"SetWestAction",null),a.c([p.c],e.prototype,"SetCenterAction",null),a.c([p.c],e.prototype,"SetScrollAction",null),a.c([p.c],e.prototype,"SetPullAction",null),a.c([p.c],e.prototype,"SetForceAction",null),a.c([p.c],e.prototype,"SetGrabAction",null),a.c([p.c],e.prototype,"SetValueAction",null),a.c([p.c],e.prototype,"CopyActions",null),a.c([s.b],e.prototype,"BindingsMatch",null),a.c([p.c],e.prototype,"SetClickParameter",null),a.c([p.c],e.prototype,"SetTouchParameter",null),a.c([p.c],e.prototype,"SetParameter",null),a.c([p.c],e.prototype,"GetClickParameter",null),a.c([p.c],e.prototype,"GetTouchParameter",null),a.c([p.c],e.prototype,"GetParameter",null),a.c([s.b],e.prototype,"GetTrackpadInvertState",null),a.c([p.c],e.prototype,"SetTrackpadInvertState",null),e}(),B=function(){function e(e,t,n){this.m_sSaveType=e,this.m_OutstandingSaveBindingResolve=t,this.m_OutstandingSaveBindingReject=n}return e.prototype.resolve=function(e){this.m_OutstandingSaveBindingResolve(e)},e.prototype.reject=function(e){this.m_OutstandingSaveBindingReject(e)},Object.defineProperty(e.prototype,"SaveType",{get:function(){return this.m_sSaveType},enumerable:!0,configurable:!0}),a.c([s.b],e.prototype,"resolve",null),a.c([s.b],e.prototype,"reject",null),e}();!function(e){e[e.eWebSocketState_Unknown=0]="eWebSocketState_Unknown",e[e.eWebSocketState_Disconnected=1]="eWebSocketState_Disconnected",e[e.eWebSocketState_Connecting=2]="eWebSocketState_Connecting",e[e.eWebSocketState_Connected=3]="eWebSocketState_Connected"}(l||(l={}));var O=function(){function e(){this.m_wsWebSocketToServer=void 0,this.m_eWebSocketState=l.eWebSocketState_Unknown,this.m_timerWebSocket=void 0,this.m_dateStartTime=new Date,this.m_InputState=void 0,this.m_sLoadedBindingURI=void 0,this.m_LoadedBinding=void 0,this.m_ModifiedBindingSet=p.l.map(),this.m_ModifiedOptions=p.l.map(),this.m_ModifiedAliases=p.l.map(),this.m_sName=void 0,this.m_sDescription=void 0,this.m_SelectedApp=void 0,this.m_SelectedAppActions=void 0,this.m_sSelectedActionSet=void 0,this.m_sSelectedControllerType=void 0,this.m_KnownControllerTypes=p.l.map(),this.m_TrackerBindingSetup=void 0,this.m_bControllerTypeSelectedByUser=!1,this.m_OutstandingSaveBindingCalls=[],this.m_vecBindingSetWatchers=Array(),this.m_mapUnoundActions=new Map,this.m_bIsMissingRequiredActions=!1,this.m_rKnownFailedBindingUris=[],this.m_ControllerWatchers=new Map,this.m_ModifiedSimulatedActions=p.l.map(),this.m_nNextSimulatedActionId=1}return e.prototype.OpenWebSocketToHost=function(){var e=this;return new Promise(function(t,n){e.m_eWebSocketState!=l.eWebSocketState_Connecting&&e.m_eWebSocketState!=l.eWebSocketState_Connected&&(e.m_wsWebSocketToServer&&delete e.m_wsWebSocketToServer,e.m_wsWebSocketToServer=new WebSocket("ws://"+window.location.host),e.m_wsWebSocketToServer.addEventListener("open",function(n){e.OnWebSocketOpen(n),t()}),e.m_wsWebSocketToServer.addEventListener("message",function(t){e.OnWebSocketMessage(t)}),e.m_wsWebSocketToServer.addEventListener("close",function(t){e.OnWebSocketClose(t)}),e.m_eWebSocketState=l.eWebSocketState_Connecting),e.m_timerWebSocket||(e.m_timerWebSocket=setTimeout(e.OpenWebSocketToHost,1e3))})},e.prototype.Init=function(){return a.b(this,void 0,void 0,function(){return a.e(this,function(e){switch(e.label){case 0:return[4,this.OpenWebSocketToHost()];case 1:return e.sent(),[4,this.GetInputState()];case 2:return e.sent(),[2]}})})},Object.defineProperty(e.prototype,"SteamVRUnavailable",{get:function(){return this.m_eWebSocketState==l.eWebSocketState_Connecting||this.m_eWebSocketState==l.eWebSocketState_Unknown?Date.now()-this.m_dateStartTime.getTime()>1e4:this.m_eWebSocketState!=l.eWebSocketState_Connected},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ConnectedDevices",{get:function(){return void 0==this.m_InputState?Array():this.m_InputState.devices.filter(function(e){return"TrackedDeviceClass_Controller"==e.class||"TrackedDeviceClass_HMD"==e.class||"TrackedDeviceClass_GenericTracker"==e.class})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ControllerTypes",{get:function(){return this.m_InputState.controller_types},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ActionSets",{get:function(){var e=this;if(void 0==this.m_SelectedAppActions||void 0==this.m_SelectedAppActions.action_sets)return[];var t=[];return this.m_SelectedAppActions.action_sets.forEach(function(n){if("hidden"!=n.usage){var o=!0;n.required_options&&n.required_options.forEach(function(t){e.GetOptionValue(t)||(o=!1)});var i=!1;n.forbidden_options&&n.forbidden_options.forEach(function(t){e.GetOptionValue(t)&&(i=!0)}),o&&!i&&t.push(n)}}),t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ManifestOptions",{get:function(){return void 0==this.m_SelectedAppActions||void 0==this.m_SelectedAppActions.action_sets||void 0==this.m_SelectedAppActions.options?[]:this.m_SelectedAppActions.options},enumerable:!0,configurable:!0}),e.prototype.GetOptionDefault=function(e){var t=!1;return this.ManifestOptions.forEach(function(n){n.name==e&&(t=n.default)}),t},e.prototype.GetOptionValue=function(e){return this.m_ModifiedOptions.has(e)?this.m_ModifiedOptions.get(e):void 0},Object.defineProperty(e.prototype,"ShowHiddenAliases",{get:function(){return this.GetOptionValue("show_hidden_aliases")},enumerable:!0,configurable:!0}),e.prototype.SetOptionValue=function(e,t){this.m_ModifiedOptions.set(e,t)},e.prototype.GetAliasInfo=function(e){return this.m_ModifiedAliases.has(e)?this.m_ModifiedAliases.get(e):null},e.prototype.SetAliasName=function(e,t){if(this.m_ModifiedAliases.has(e)){var n=this.m_ModifiedAliases.get(e);return n.alias_name=t,this.m_ModifiedAliases.set(e,n)}var n={alias_name:t,hidden:!1};return this.m_ModifiedAliases.set(e,n)},e.prototype.SetAliasHidden=function(e,t){if(this.m_ModifiedAliases.has(e)){var n=this.m_ModifiedAliases.get(e);return n.hidden=t,this.m_ModifiedAliases.set(e,n)}var n={alias_name:"",hidden:t};return this.m_ModifiedAliases.set(e,n)},e.prototype.SetHiddenOnAllAliases=function(e){var t=this;this.m_SelectedAppActions.action_sets.forEach(function(n){n.actions.forEach(function(n){if(e)if(t.m_ModifiedAliases.has(n.name)){var o=t.m_ModifiedAliases.get(n.name);o.hidden=e,t.m_ModifiedAliases.set(n.name,o)}else{var o={alias_name:"",hidden:e};t.m_ModifiedAliases.set(n.name,o)}else if(t.m_ModifiedAliases.has(n.name)){var o=t.m_ModifiedAliases.get(n.name);o.hidden=e,t.m_ModifiedAliases.set(n.name,o)}})})},e.prototype.ComputeSimulatedActionPathFromId=function(e){return"/simactions/"+e},e.prototype.GetSimulatedActionByPath=function(e){return this.m_ModifiedSimulatedActions.has(e)?this.m_ModifiedSimulatedActions.get(e):void 0},e.prototype.SetSimulatedActionByPath=function(e,t){this.m_ModifiedSimulatedActions.set(e,t)},e.prototype.AddSimulatedAction=function(e){var t={name:"",type:e,id:this.m_nNextSimulatedActionId++,output:""},n=this.ComputeSimulatedActionPathFromId(t.id);this.m_ModifiedSimulatedActions.set(n,t)},e.prototype.DeleteSimulatedActionByPath=function(e){this.m_ModifiedSimulatedActions.delete(e)},Object.defineProperty(e.prototype,"SimulatedActions",{get:function(){return Array.from(this.m_ModifiedSimulatedActions.values())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"SelectedApp",{get:function(){return this.m_SelectedApp?this.m_SelectedApp.key:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"CurrentAppCanAccessPrivateInputs",{get:function(){return f.a.IsAppAllowedPrivateInputs(this.m_SelectedApp.key)||this.m_InputState.send_system_button_to_all_apps},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ShowHiddenInputs",{get:function(){return this.m_InputState.show_hidden_inputs},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"IsSteamAvailable",{get:function(){return!this.m_InputState||this.m_InputState.is_steam_available},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"BDevMode",{get:function(){return this.m_InputState.dev_mode},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"SelectedControllerTypeInfo",{get:function(){if(void 0!=this.m_InputState&&void 0!=this.m_sSelectedControllerType)return this.GetControllerTypeInfo(this.m_sSelectedControllerType)},enumerable:!0,configurable:!0}),e.prototype.GetControllerTypeInfo=function(e){return this.m_InputState.controller_types.find(function(t){return t.name==e})},e.prototype.DeviceForSelectedControllerType=function(e){var t=this,n=this.SelectedControllerTypeInfo;if(n){var o=!1,i=this.m_InputState.devices.find(function(i){if(i.controller_type==t.m_sSelectedControllerType){if(o=!0,!e)return!0;if("controller_handed"!=n.profile.input_bindingui_mode)return!0;var r=1==e?"/left":"/right";if(i.root_path&&i.root_path.indexOf(r)>=0)return!0}return!1});return i||(o?this.m_InputState.devices.find(function(e){return e.controller_type==t.m_sSelectedControllerType}):void 0)}},Object.defineProperty(e.prototype,"CurrentBindingSaveType",{get:function(){if(void 0!=this.m_LoadedBinding)return"developer"==this.m_LoadedBinding.save_type&&I.SelectedBindingIsLegacy?"developer_legacy":this.m_LoadedBinding.save_type},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"SelectedActionSet",{get:function(){return this.m_sSelectedActionSet},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"SelectedActionSetDetails",{get:function(){var e=this;if(void 0!=this.m_SelectedAppActions&&void 0!=this.m_sSelectedActionSet)return this.m_SelectedAppActions.action_sets.find(function(t){return t.name==e.m_sSelectedActionSet})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"SelectedActionSetActions",{get:function(){return this.GetActionSetActions(this.m_sSelectedActionSet)},enumerable:!0,configurable:!0}),e.prototype.GetSelectedAppDefaultBinding=function(e){if(void 0!=this.m_SelectedAppActions)return this.m_SelectedAppActions.default_bindings&&this.m_SelectedAppActions.default_bindings.hasOwnProperty(e)?this.m_SelectedAppActions.default_bindings[e]:void 0},e.prototype.GetActionSetActions=function(e){if(void 0==this.m_SelectedAppActions||void 0==e)return[];var t=this.m_SelectedAppActions.action_sets.find(function(t){return t.name==e});return t?t.actions:[]},e.prototype.GetActionByName=function(e){if(void 0!=this.m_SelectedApp&&this.m_SelectedAppActions.action_sets){var t=e.toLowerCase(),n=void 0;return this.m_SelectedAppActions.action_sets.forEach(function(e){if(e.actions){var o=e.actions.find(function(e){return e.name.toLowerCase()==t});o&&(n=o)}}),n}},Object.defineProperty(e.prototype,"UnboundActions",{get:function(){this.m_bIsMissingRequiredActions=!1;for(var e=0,t=this.ActionSets;e<t.length;e++){var n=t[e],o=[],i=[];if(!n.actions)break;for(var r=0,l=n.actions;r<l.length;r++){var a=l[r];if("optional"!=a.requirement&&!this.IsActionBound(n,a.name)){var s=this.GetAliasInfo(a.name);if(s){if(s.hidden)continue;s.alias_name&&(a=Object.assign({},a),a.localized_name=s.alias_name)}"mandatory"==a.requirement?o.push(a):i.push(a)}}if(o.length>0&&(this.m_bIsMissingRequiredActions=!0),this.m_mapUnoundActions.has(n.name)){var c=this.m_mapUnoundActions.get(n.name);c.vecRequired=o,c.vecSuggested=i}else this.m_mapUnoundActions.set(n.name,{vecRequired:o,vecSuggested:i})}var u=this.DeviceForSelectedControllerType();return u&&"TrackedDeviceClass_HMD"==u.class&&(this.m_bIsMissingRequiredActions=!1),"gamepad"==this.m_sSelectedControllerType&&(this.m_bIsMissingRequiredActions=!1),this.m_mapUnoundActions},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"HasUnboundActions",{get:function(){return this.UnboundActions,this.m_bIsMissingRequiredActions},enumerable:!0,configurable:!0}),e.prototype.IsActionBound=function(e,t){t=t.toLowerCase();var n=this.GetActionSetSources(e.name);if(n)for(var o=0,i=n;o<i.length;o++){var r=i[o],l=function(e){var n=!1;if(e.inputs.forEach(function(e){e.output.toLowerCase()==t&&(n=!0)}),n)return{value:!0}}(r);if("object"==typeof l)return l.value}var a=this.GetActionSetChords(e.name);if(a)for(var s=0,c=a;s<c.length;s++){var u=c[s];if(u.output&&u.output.toLowerCase()==t)return!0}var p=this.GetActionSetPoses(e.name);if(p)for(var d=0,m=p;d<m.length;d++){var h=m[d];if(h.output&&h.output.toLowerCase()==t)return!0}var f=this.GetActionSetHaptics(e.name);if(f)for(var _=0,b=f;_<b.length;_++){var g=b[_];if(g.output&&g.output.toLowerCase()==t)return!0}var S=this.GetActionSetSkeleton(e.name);if(S)for(var y=0,v=S;y<v.length;y++){var N=v[y];if(N.output&&N.output.toLowerCase()==t)return!0}return!1},e.prototype.GetActionSetPoses=function(e){return this.m_ModifiedBindingSet.has(e)?this.m_ModifiedBindingSet.get(e).poses:[]},Object.defineProperty(e.prototype,"SelectedActionSetPoses",{get:function(){return this.GetActionSetPoses(this.m_sSelectedActionSet)},enumerable:!0,configurable:!0}),e.prototype.GetActionSetHaptics=function(e){return this.m_ModifiedBindingSet.has(e)?this.m_ModifiedBindingSet.get(e).haptics:[]},Object.defineProperty(e.prototype,"SelectedActionSetHaptics",{get:function(){return this.GetActionSetHaptics(this.m_sSelectedActionSet)},enumerable:!0,configurable:!0}),e.prototype.GetActionSetSkeleton=function(e){return this.m_ModifiedBindingSet.has(e)?this.m_ModifiedBindingSet.get(e).skeleton:[]},Object.defineProperty(e.prototype,"SelectedActionSetSkeletons",{get:function(){return this.GetActionSetSkeleton(this.m_sSelectedActionSet)},enumerable:!0,configurable:!0}),e.prototype.GetActionSetChords=function(e){return this.m_ModifiedBindingSet.has(e)?this.m_ModifiedBindingSet.get(e).chords:[]},Object.defineProperty(e.prototype,"SelectedActionSetChords",{get:function(){return this.GetActionSetChords(this.m_sSelectedActionSet)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"SelectedActionSetChordCount",{get:function(){var e=this.SelectedActionSetChords;return e?e.length:0},enumerable:!0,configurable:!0}),e.prototype.GetActionSetSources=function(e){if(void 0!=this.m_ModifiedBindingSet&&void 0!=e){var t=this.m_ModifiedBindingSet;return t.has(e)?t.get(e).sources:void 0}},Object.defineProperty(e.prototype,"SelectedActionSetSources",{get:function(){return this.GetActionSetSources(this.m_sSelectedActionSet)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"BSelectedActionSetHasPoses",{get:function(){return void 0!=this.m_LoadedBinding&&void 0!=this.m_sSelectedActionSet&&void 0!=this.SelectedActionSetActions&&this.SelectedActionSetActions.filter(function(e){return"pose"==e.type}).length>0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"BSelectedActionSetHasBoundPoses",{get:function(){if(!this.BSelectedActionSetHasPoses||!this.SelectedActionSetPoses||void 0==this.SelectedActionSetActions)return!1;for(var e=0,t=this.SelectedActionSetPoses;e<t.length;e++){var n=t[e];if(n.output&&"none"!=n.output)return!0}return!1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"BSelectedActionSetHasHaptics",{get:function(){return void 0!=this.m_LoadedBinding&&void 0!=this.m_sSelectedActionSet&&void 0!=this.SelectedActionSetActions&&this.SelectedActionSetActions.filter(function(e){return"vibration"==e.type}).length>0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"BSelectedActionSetHasBoundHaptics",{get:function(){if(!this.BSelectedActionSetHasHaptics||!this.SelectedActionSetHaptics||void 0==this.SelectedActionSetActions)return!1;for(var e=0,t=this.SelectedActionSetHaptics;e<t.length;e++){var n=t[e];if(n.output&&"none"!=n.output)return!0}return!1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"BSelectedActionSetHasSkeletons",{get:function(){return void 0!=this.m_LoadedBinding&&void 0!=this.m_sSelectedActionSet&&void 0!=this.SelectedActionSetActions&&(0!=this.SelectedActionSetActions.filter(function(e){return"skeleton"==e.type}).length&&(void 0!=this.DeviceForSelectedControllerType()&&this.DeviceForSelectedControllerType().components.filter(function(e){return"InputValueType_Skeleton"==e.type}).length>0))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"BSelectedActionSetHasBoundSkeletons",{get:function(){if(!this.BSelectedActionSetHasSkeletons||!this.SelectedActionSetSkeletons||void 0==this.SelectedActionSetActions)return!1;for(var e=0,t=this.SelectedActionSetSkeletons;e<t.length;e++){var n=t[e];if(n.output&&"none"!=n.output)return!0}return!1},enumerable:!0,configurable:!0}),e.prototype.SetSelectedApp=function(e){if(void 0==this.m_SelectedApp||e!=this.m_SelectedApp.key){this.m_rKnownFailedBindingUris=[],this.m_ControllerWatchers.clear();var t=f.a.GetApp(e);t&&(this.m_SelectedApp=t,this.ReloadCurrentApp())}},e.prototype.ReloadCurrentApp=function(){return a.b(this,void 0,void 0,function(){var e=this;return a.e(this,function(t){return this.m_sSelectedActionSet=void 0,[2,new Promise(function(t,n){e.LoadActionManifest().then(function(){var n=e.ActionSets;n.length>0&&(void 0==e.m_sSelectedActionSet||!e.m_SelectedAppActions.action_sets.hasOwnProperty(e.m_sSelectedActionSet))&&(e.m_sSelectedActionSet=n[0].name);var o=e.LoadControllerConfiguration();o?o.then(function(e){t()}):t()})})]})})},e.prototype.SetSelectedController=function(e){if(e!=this.m_sSelectedControllerType){var t=this.m_InputState.controller_types.find(function(t){return t.name==e});t&&(this.m_ControllerWatchers.clear(),this.m_sSelectedControllerType=t.name,this.m_bControllerTypeSelectedByUser=!0,this.LoadControllerConfiguration())}},e.prototype.SetSelectedActionSet=function(e){e!=this.m_sSelectedActionSet&&(this.m_sSelectedActionSet=e)},e.prototype.LocalizeStringForSelectedControllerType=function(e){var t=this.SelectedControllerTypeInfo;return t&&t.resource_root?this.LocalizeDriverString(t.resource_root,e):e},e.prototype.LocalizePathNameForSelectedControllerType=function(e){var t=["/user/hand/secondary","/user/hand/primary","/user/hand/left","/user/hand/right","/user/head"],n=void 0;return t.forEach(function(t){if(0==e.indexOf(t))return void(n=t)}),n?Object(d.b)("#"+n)+" "+this.LocalizeStringForSelectedControllerType(e.replace(n,"")):e},Object.defineProperty(e.prototype,"SelectedControllerTypeLocalizedName",{get:function(){var e=this.SelectedControllerTypeInfo;return e?e.resource_root?this.LocalizeDriverString(e.resource_root,e.name):e.name:""},enumerable:!0,configurable:!0}),e.prototype.LocalizeControllerString=function(e,t){var n=Object(d.b)("#"+t);return n!="#"+t?n:e&&this.m_InputState&&this.m_InputState.localization.hasOwnProperty(e.resource_root)&&this.m_InputState.localization[e.resource_root].hasOwnProperty(t.toLowerCase())?this.m_InputState.localization[e.resource_root][t.toLowerCase()]:t},e.prototype.LocalizeDriverString=function(e,t){var n=Object(d.b)("#"+t);return n!="#"+t?n:this.m_InputState&&this.m_InputState.localization.hasOwnProperty(e)&&this.m_InputState.localization[e].hasOwnProperty(t.toLowerCase())?this.m_InputState.localization[e][t.toLowerCase()]:t},e.prototype.LocalizeInputPathName=function(e,t){var n=["/user/hand/secondary","/user/hand/primary","/user/hand/left","/user/hand/right"],o=void 0;return n.forEach(function(e){if(0==t.indexOf(e))return void(o=e)}),o?Object(d.b)("#"+o)+" "+this.LocalizeControllerString(e,t.replace(o,"")):t},e.prototype.RegisterBindingWatcher=function(e){void 0==this.m_vecBindingSetWatchers.find(function(t){return t==e})&&this.m_vecBindingSetWatchers.push(e)},e.prototype.UnregisterBindingWatcher=function(e){var t=this.m_vecBindingSetWatchers.indexOf(e);t>=0&&this.m_vecBindingSetWatchers.splice(t,1)},e.prototype.GetActionBinding=function(e,t){if(void 0!=this.m_ModifiedBindingSet){var n=this.m_ModifiedBindingSet;if(n.has(t)){var o=n.get(t).sources;if(o){var i=o.filter(function(t){return t.path==e});if(i)return i}}}},e.prototype.GetInputModesForSourceType=function(e,t){var n=[];switch(e){case"button":n=["button","-","toggle_button","scalar_constant"];break;case"trackpad":n=["trackpad","dpad","-","trackpad_scroll","radial","button","toggle_button"];break;case"trigger":n=["trigger","button","-","toggle_button","scalar_constant"];break;case"joystick":n=["joystick","dpad","-","trackpad_scroll","radial","button","toggle_button"];break;case"pinch":n=["grab"];break;default:n=[]}return t&&(n.push("force_sensor"),"trigger"==e&&n.push("grab")),n},e.prototype.GetBooleanInputOptionsForMode=function(e){switch(e){case"button":case"toggle_button":return["click","touch"];case"button":return["single","double","held","long","click","touch"];case"trackpad":return["click","touch"];case"dpad_click":case"dpad_touch":case"dpad":return["left","right","up","down"];case"trackpad_scroll":return[];case"trigger":return["click","touch"];case"force_sensor":default:return[]}},e.prototype.GetActionBindingsOfType=function(e,t){var n=this;if(void 0==this.m_SelectedApp||void 0==this.m_sSelectedActionSet||void 0==this.m_SelectedAppActions.action_sets)return[];var o=this.SelectedActionSetDetails;if(!o)return[];if(void 0==o.actions)return[];var i=[];return o.actions.forEach(function(o){var r=n.m_ModifiedAliases.get(o.name);if(o.type==e&&(!r||!r.hidden||t))if(r&&r.alias_name){var l=Object.assign({},o);l.localized_name=r.alias_name,i.push(l)}else i.push(o)}),t||this.m_ModifiedSimulatedActions.forEach(function(t){n.GetActionTypeFromSimulatedActionType(t.type)==e&&(n.ComputeSimulatedActionPathFromId(t.id),t.name?t.name:(Object(d.b)("UnnamedSimAction"),t.id),i.push(n.CreateActionDefinitionForSimulatedAction(t)))}),i},e.prototype.GetActionTypeFromSimulatedActionType=function(e){switch(e){case"fake_trigger":return"boolean";default:return"unknown"}},e.prototype.CreateActionDefinitionForSimulatedAction=function(e){return{name:this.ComputeSimulatedActionPathFromId(e.id),localized_name:e.name?e.name:Object(d.b)("UnnamedSimAction")+e.id,type:this.GetActionTypeFromSimulatedActionType(e.type)}},Object.defineProperty(e.prototype,"GetBooleanActionBindings",{get:function(){return this.GetActionBindingsOfType("boolean")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"GetVector1ActionBindings",{get:function(){return this.GetActionBindingsOfType("vector1")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"GetLiteralVector1ActionBindings",{get:function(){return this.GetActionBindingsOfType("vector1",!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"GetVector2ActionBindings",{get:function(){return this.GetActionBindingsOfType("vector2")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"GetVector3ActionBindings",{get:function(){return this.GetActionBindingsOfType("vector3")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"GetPoseActionBindings",{get:function(){return this.GetActionBindingsOfType("pose")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"GetHapticsActionBindings",{get:function(){return this.GetActionBindingsOfType("vibration")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"GetSkeletonActionBindings",{get:function(){return this.GetActionBindingsOfType("skeleton")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ConfigName",{get:function(){return this.m_sName},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ConfigDescription",{get:function(){return this.m_sDescription},enumerable:!0,configurable:!0}),e.prototype.GetPoseAction=function(e){if(this.m_ModifiedBindingSet.has(this.m_sSelectedActionSet)){var t=this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).poses;if(void 0!=t){var n=t.filter(function(t){return t.output.toLowerCase()==e.toLowerCase()});return n.length?n:void 0}}},e.prototype.GetPoseActionByPath=function(e){if(this.m_ModifiedBindingSet.has(this.m_sSelectedActionSet)){var t=this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).poses;if(void 0!=t){var n=t.filter(function(t){return t.path.toLowerCase()==e.toLowerCase()});return n.length?n:void 0}}},e.prototype.GetHapticsAction=function(e){if(this.m_ModifiedBindingSet.has(this.m_sSelectedActionSet)){var t=this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).haptics;if(void 0!=t){var n=t.filter(function(t){return t.output.toLowerCase()==e.toLowerCase()});return n.length?n:void 0}}},e.prototype.GetHapticsActionByPath=function(e){if(this.m_ModifiedBindingSet.has(this.m_sSelectedActionSet)){var t=this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).haptics;if(void 0!=t){var n=t.filter(function(t){return t.path.toLowerCase()==e.toLowerCase()});return n.length?n:void 0}}},e.prototype.GetSkeletonAction=function(e){if(this.m_ModifiedBindingSet.has(this.m_sSelectedActionSet)){var t=this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).skeleton;if(void 0!=t){var n=t.filter(function(t){return t.output.toLowerCase()==e.toLowerCase()});return n.length?n:void 0}}},e.prototype.GetSkeletonActionByPath=function(e){if(this.m_ModifiedBindingSet.has(this.m_sSelectedActionSet)){var t=this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).skeleton;if(void 0!=t){var n=t.filter(function(t){return t.path.toLowerCase()==e.toLowerCase()});return n.length?n:void 0}}},e.prototype.NotifyWatchersOfChange=function(){console.log("Binding file changed"),this.m_vecBindingSetWatchers.forEach(function(e){e()}),this.AutosaveBinding()},e.prototype.SetActionForInputModeType=function(e,t,n,o,i){if(!this.m_ModifiedBindingSet.has(this.m_sSelectedActionSet))return void console.error("SetActionForInputModeType: Invalid action set specified");var r=function(){function e(e,t){this.mode=e,this.sourceIdx=t}return e}(),l=[];if(this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).sources.filter(function(t,n){t.path==e&&l.push(new r(t,n))}),l.length<=t)return void console.warn("Invalid mode index (",t,") for path ",e);var a=l[t].sourceIdx;if(a>=0){var s=this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).sources[a];if(s.inputs&&s.inputs.has(n)&&s.inputs.get(n).output==o)return void console.log("Trying to set new action to old action for type",n," action is ",o);if(i.length>0&&!i.find(function(e){return e==s.mode}))return void console.log("Trying to set invalid input type of ",n," for current mode ",s.mode);s.inputs||(s.inputs=p.l.map()),"none"==o?s.inputs.has(n)&&s.inputs.delete(n):s.inputs.has(n)?s.inputs.get(n).output=o:s.inputs.set(n,{output:o}),this.NotifyWatchersOfChange()}},e.prototype.SetParameterForInputModeType=function(e,t,n,o,i){if(!this.m_ModifiedBindingSet.has(this.m_sSelectedActionSet))return void console.error("SetParameterForInputModeType: Invalid action set specified");var r=[];if(this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).sources.filter(function(t,n){t.path==e&&r.push(n)}),r.length<=t)return void console.warn("Invalid mode index (",t,") for path ",e);var l=r[t];if(l>=0){var a=this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).sources[l];if(!a.inputs)return void console.log("SetParameterForInputModeType: Trying to set parameter for missing input type of ",n," for current mode ",a.mode);a.parameters||(a.parameters=p.l.map()),a.parameters.get(o)!=i&&(void 0==i?a.parameters.delete(o):a.parameters.set(o,i),this.NotifyWatchersOfChange())}},e.prototype.GetParameterForInputModeType=function(e,t,n,o){if(!this.m_ModifiedBindingSet.has(this.m_sSelectedActionSet))return console.error("SetParameterForInputModeType: Invalid action set specified"),null;var i=[];if(this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).sources.filter(function(t,n){t.path==e&&i.push(n)}),i.length<=t)return console.warn("Invalid mode index (",t,") for path ",e),null;var r=i[t];if(r>=0){var l=this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).sources[r];return l.inputs?l.parameters&&l.parameters.has(o)?l.parameters.get(o):null:(console.log("GetParameterForInputModeType: Trying to get parameter for missing input type of ",n," for current mode ",l.mode),null)}return null},e.prototype.AddActionSetIfRequired=function(){if(!this.m_ModifiedBindingSet.has(this.m_sSelectedActionSet)){var e=new v;e.sources=[],this.m_ModifiedBindingSet.set(this.m_sSelectedActionSet,e)}},e.prototype.AddInputModeForSource=function(e,t){this.AddActionSetIfRequired();var n=new _;return n.mode=t,n.path=e,n.inputs=p.l.map(),this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).sources.push(n),this.NotifyWatchersOfChange(),this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).sources.filter(function(t){return t.path.toLowerCase()==e.toLowerCase()}).length-1},e.prototype.DeleteInputModeForSource=function(e,t){if(!this.m_ModifiedBindingSet.has(this.m_sSelectedActionSet))return void console.error("AddInputModeForType: Invalid action set specified");var n=[];if(this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).sources.filter(function(t,o){t.path.toLowerCase()==e.toLowerCase()&&n.push(o)}),n.length<=t)return void console.warn("Invalid mode index (",t,") for path ",e);var o=n[t];if(-1==o)return void console.error("DeleteInputModeForSource: Mode not found for source");this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).sources.splice(o,1),this.NotifyWatchersOfChange()},e.prototype.SetInputModeForInputSource=function(e,t,n){if(!this.m_ModifiedBindingSet.has(this.m_sSelectedActionSet))return void console.error("SetActionForInputModeType: Invalid action set specified");var o=[];if(this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).sources.filter(function(t,n){t.path.toLowerCase()==e.toLowerCase()&&o.push(n)}),o.length<=t)return void console.warn("Invalid mode index (",t,") for path ",e);var i=o[t];if(-1==i)return void console.error("SetActionForInputModeType: trying to change a mode for a source that we don't have already");var r=this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).sources[i];if(r.path==e){if(r.mode==n)return void console.log("Trying to set new input mode to old mode!");var l=JSON.parse(JSON.stringify(r)),a=new _;switch(a.mode=n,a.path=e,a.inputs=p.l.map(),n){case"button":case"toggle_button":switch(l.mode){case"complex_button":l.inputs.single&&(a.inputs.set("single",l.inputs.single),a.inputs.set("click",l.inputs.single)),l.inputs.long&&a.inputs.set("long",l.inputs.long),l.inputs.press&&a.inputs.set("press",l.inputs.press),l.inputs.double&&a.inputs.set("double",l.inputs.double),l.inputs.touch&&a.inputs.set("touch",l.inputs.touch);break;case"button":case"toggle_button":case"trackpad":case"trigger":l.inputs.click&&a.inputs.set("click",l.inputs.click),l.inputs.touch&&a.inputs.set("touch",l.inputs.touch)}break;case"complex_button":switch(l.mode){case"toggle_button":case"button":l.inputs.click&&a.inputs.set("single",l.inputs.click);break;case"trackpad":case"trigger":l.inputs.click&&a.inputs.set("single",l.inputs.click)}break;case"trackpad":switch(l.mode){case"complex_button":l.inputs.single&&a.inputs.set("click",l.inputs.single);break;case"toggle_button":case"button":case"trigger":l.inputs.click&&a.inputs.set("click",l.inputs.click),l.inputs.touch&&a.inputs.set("touch",l.inputs.touch)}break;case"trigger":switch(l.mode){case"complex_button":l.inputs.single&&a.inputs.set("click",l.inputs.single);break;case"toggle_button":case"trackpad":case"button":l.inputs.click&&a.inputs.set("click",l.inputs.click),l.inputs.touch&&a.inputs.set("touch",l.inputs.touch)}}return this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).sources[i]=a,void this.NotifyWatchersOfChange()}},e.prototype.ClearModesForInputPath=function(e){if(!this.m_ModifiedBindingSet.has(this.m_sSelectedActionSet))return void console.error("ClearModesForInputPath: Invalid action set specified");this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).sources=this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).sources.filter(function(t){return t.path.toLowerCase()!=e.toLowerCase()})},e.prototype.SetInputPathForPose=function(e,t){if(!this.m_ModifiedBindingSet.has(this.m_sSelectedActionSet))return void console.error("SetActionForPose: Invalid action set specified");this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).poses||(this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).poses=new Array);var n=this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).poses.findIndex(function(t){return t.path.toLowerCase()==e.path.toLowerCase()&&t.output.toLowerCase()==e.output.toLowerCase()});if(-1==n&&(n=this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).poses.push(new b)-1,this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).poses[n].output=e.output),this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).poses[n].path==t)return void console.log("Trying to set new pose action path to old action path!");this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).poses[n].path=t,this.NotifyWatchersOfChange()},e.prototype.SetPoseForInputPath=function(e,t){if(!this.m_ModifiedBindingSet.has(this.m_sSelectedActionSet))return void console.error("SetActionForPose: Invalid action set specified");this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).poses||(this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).poses=new Array);var n=this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).poses.findIndex(function(t){return t.path.toLowerCase()==e.toLowerCase()});if(-1==n&&(n=this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).poses.push(new b)-1,this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).poses[n].path=e),this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).poses[n].output==t)return void console.log("Trying to set new pose action path to old action path!");this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).poses[n].output=t,this.NotifyWatchersOfChange()},e.prototype.AddDefaultPose=function(e,t){this.AddActionSetIfRequired(),this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).poses||(this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).poses=new Array);var n=this.DeviceForSelectedControllerType().components.filter(function(e){return"InputValueType_Pose"==e.type}).map(function(e){return t+e.path})[0],o=function(){function e(){}return e}(),i=new o;i.output=e,i.path=n,this.SetInputPathForPose(i,n)},e.prototype.SetInputPathForHaptics=function(e,t){if(!this.m_ModifiedBindingSet.has(this.m_sSelectedActionSet))return void console.error("SetInputPathForHaptics: Invalid action set specified");this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).haptics||(this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).haptics=new Array);var n=this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).haptics.findIndex(function(t){return t.path.toLowerCase()==e.path.toLowerCase()&&t.output.toLowerCase()==e.output.toLowerCase()});if(-1==n&&(n=this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).haptics.push(new g)-1,this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).haptics[n].output=e.output),this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).haptics[n].path==t)return void console.log("Trying to set new haptics action path to old action path!");this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).haptics[n].path=t,this.NotifyWatchersOfChange()},e.prototype.SetHapticsForInputPath=function(e,t){if(!this.m_ModifiedBindingSet.has(this.m_sSelectedActionSet))return void console.error("SetHapticsForInputPath: Invalid action set specified");this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).haptics||(this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).haptics=new Array);var n=this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).haptics.findIndex(function(t){return t.path.toLowerCase()==e.toLowerCase()});if(-1==n&&(n=this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).haptics.push(new b)-1,this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).haptics[n].path=e),this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).haptics[n].output==t)return void console.log("Trying to set new haptic action path to old action path!");this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).haptics[n].output=t,this.NotifyWatchersOfChange()},e.prototype.AddDefaultHaptics=function(e,t){this.AddActionSetIfRequired(),this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).haptics||(this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).haptics=new Array);var n=this.DeviceForSelectedControllerType().components.filter(function(e){return"InputValueType_Haptic"==e.type}).map(function(e){return t+e.path})[0],o=function(){function e(){}return e}(),i=new o;i.output=e,i.path=n,this.SetInputPathForHaptics(i,n)},e.prototype.SetInputPathForSkeleton=function(e,t){if(!this.m_ModifiedBindingSet.has(this.m_sSelectedActionSet))return void console.error("SetInputPathForSkeleton: Invalid action set specified");this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).skeleton||(this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).skeleton=new Array);var n=this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).skeleton.findIndex(function(t){return t.path.toLowerCase()==e.path.toLowerCase()&&t.output.toLowerCase()==e.output.toLowerCase()});if(-1==n&&(n=this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).skeleton.push(new S)-1,this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).skeleton[n].output=e.output),this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).skeleton[n].path==t)return void console.log("Trying to set new skeleton action path to old action path!");this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).skeleton[n].path=t,this.NotifyWatchersOfChange()},e.prototype.SetSkeletonForInputPath=function(e,t){if(!this.m_ModifiedBindingSet.has(this.m_sSelectedActionSet))return void console.error("SetSkeletonForInputPath: Invalid action set specified");this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).skeleton||(this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).skeleton=new Array);var n=this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).skeleton.findIndex(function(t){return t.path.toLowerCase()==e.toLowerCase()});if(-1==n&&(n=this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).skeleton.push(new b)-1,this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).skeleton[n].path=e),this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).skeleton[n].output==t)return void console.log("Trying to set new skeleton action path to old action path!");this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).skeleton[n].output=t,this.NotifyWatchersOfChange()},e.prototype.AddDefaultSkeleton=function(e,t){this.AddActionSetIfRequired(),this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).skeleton||(this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).skeleton=new Array);var n=this.DeviceForSelectedControllerType().components.filter(function(e){return"InputValueType_Skeleton"==e.type}).map(function(e){return t+e.path})[0],o=function(){function e(){}return e}(),i=new o;i.output=e,i.path=n,this.SetInputPathForSkeleton(i,n)},e.prototype.SetActionForChord=function(e,t){if(!this.m_ModifiedBindingSet.has(this.m_sSelectedActionSet))return void console.error("SetActionForChord: Invalid action set specified");var n=this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).chords.findIndex(function(t){return t==e});return-1==n?void console.error("SetActionForChord: Invalid chord  specified ",e):this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).chords[n].output==t?void console.log("Trying to set new chord action to old action!"):(this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).chords[n].output=t,void this.NotifyWatchersOfChange())},e.prototype.DeleteChord=function(e){if(!this.m_ModifiedBindingSet.has(this.m_sSelectedActionSet))return void console.error("DeleteChordForSource: Invalid action set specified");var t=this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).chords.findIndex(function(t){return t==e});if(-1==t)return void console.error("DeleteChordForSource: Invalid chord  specified ",e);this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).chords.splice(t,1),this.NotifyWatchersOfChange()},e.prototype.AddChord=function(){this.AddActionSetIfRequired(),this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).chords||(this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).chords=new Array);this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).chords.push(new y);this.NotifyWatchersOfChange()},e.prototype.DeleteSourceFromChord=function(e,t){if(!this.m_ModifiedBindingSet.has(this.m_sSelectedActionSet))return void console.error("DeleteSourceFromChord: Invalid action set specified");var n=this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).chords.findIndex(function(t){return t==e});if(-1==n)return void console.error("DeleteSourceFromChord: Invalid chord  specified ",e);var o=this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).chords[n].inputs.findIndex(function(e){return e[0]==t});-1!=o&&(this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).chords[n].inputs.splice(o,1),this.NotifyWatchersOfChange())},e.prototype.SetInputTypeForChord=function(e,t,n){if(!this.m_ModifiedBindingSet.has(this.m_sSelectedActionSet))return void console.error("SetInputsForChord: Invalid action set specified");var o=this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).chords.findIndex(function(t){return t==e});if(-1==o)return void console.error("SetInputsForChord: Invalid chord  specified ",e);var i=this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).chords[o].inputs.findIndex(function(e){return e[0]==t});return-1==i?void console.log("Invalid bounds for new input chord, trying to add type without source"):this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).chords[o].inputs[i][1]==n?void console.log("Trying to set new chord inputs to old inputs!"):(this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).chords[o].inputs[i][1]=n,void this.NotifyWatchersOfChange())},e.prototype.SetInputSourceForChord=function(e,t,n){if(!this.m_ModifiedBindingSet.has(this.m_sSelectedActionSet))return void console.error("SetInputsForChord: Invalid action set specified");var o=this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).chords.findIndex(function(t){return t==e});if(-1==o)return void console.error("SetInputsForChord: Invalid chord  specified ",e);var i=this.GetActionBinding(t,this.SelectedActionSet);if(!i)return void console.log("Failed to find action binding for path");var r="click";if(i.length&&(r=this.GetBooleanInputOptionsForMode(i[0].mode)[0]),void 0==n)this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).chords[o].inputs||(this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).chords[o].inputs=new Array),this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).chords[o].inputs.push([t,r]);else{var l=this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).chords[o].inputs.findIndex(function(e){return e[0]==n});if(-1==l)return void console.log("Trying to set replace chord input path when we didn't have that path!");if(this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).chords[o].inputs[l][0]==t)return void console.log("Trying to set new chord inputs to old inputs!");this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).chords[o].inputs[l][0]=t,this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).chords[o].inputs[l][1]=r}this.NotifyWatchersOfChange()},e.prototype.LoadActionManifest=function(){return a.b(this,void 0,void 0,function(){var e=this;return a.e(this,function(t){return[2,new Promise(function(t,n){i(e.m_SelectedApp.key).then(function(n){void 0==n.error?(e.m_SelectedAppActions=n,void 0==e.m_sLoadedBindingURI&&n.current_binding_url.hasOwnProperty(e.m_sSelectedControllerType)&&(e.m_sLoadedBindingURI=n.current_binding_url[e.m_sSelectedControllerType])):(e.m_SelectedAppActions=void 0,e.m_sLoadedBindingURI=void 0),t()})})]})})},Object.defineProperty(e.prototype,"SelectedBindingURL",{get:function(){return void 0!=this.m_sSelectedControllerType&&void 0!=this.m_SelectedAppActions&&void 0!=this.m_SelectedAppActions.current_binding_url&&this.m_SelectedAppActions.current_binding_url.hasOwnProperty(this.m_sSelectedControllerType)?this.m_SelectedAppActions.current_binding_url[this.m_sSelectedControllerType]:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"LoadedBindingURL",{get:function(){return this.m_sLoadedBindingURI},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"SelectedBindingIsLegacy",{get:function(){return!this.m_SelectedAppActions||this.m_SelectedAppActions.legacy},enumerable:!0,configurable:!0}),e.prototype.LoadControllerConfiguration=function(){var e=this;if(this.m_SelectedAppActions&&this.m_sLoadedBindingURI&&void 0!=this.SelectedControllerTypeInfo){if(void 0!=this.m_OutstandingConfigLoad&&console.warn("About to start second binding load when one is already pending",this.m_OutstandingConfigLoad),this.m_sLoadedBindingURI.length>0){var t=new Promise(function(t,n){e.m_OutstandingConfigLoad=t,r(e.m_SelectedApp.key,e.SelectedControllerTypeInfo.name,e.m_sLoadedBindingURI).then(function(e){console.log("LoadControllerConfiguration: ajax request successful")}).catch(function(e){n(e)})});return t}var t=new Promise(function(e,t){e()});return t}return null},e.prototype.GetInputState=function(){return a.b(this,void 0,void 0,function(){var e=this;return a.e(this,function(t){switch(t.label){case 0:return[4,o().then(function(t){console.log("GetInputState: ",t);var n=e.m_KnownControllerTypes.size;e.m_KnownControllerTypes.clear(),t.devices.map(function(n){var o=t.controller_types.find(function(e){return e.name==n.controller_type});o&&e.m_KnownControllerTypes.set(n.controller_type,o.profile)}),e.m_SelectedApp&&n!=e.m_KnownControllerTypes.size&&e.ReloadCurrentApp(),e.m_InputState=t;var o,i=!1;for(var r in t.controller_types){var l=t.controller_types[r];(void 0==o||l.priority<o.priority)&&(o=l)}var a=e.FindDeviceClassForControllerType(e.m_sSelectedControllerType);if(void 0!=o&&e.m_sSelectedControllerType!=o.name&&!e.m_bControllerTypeSelectedByUser){var s=e.FindDeviceClassForControllerType(o.name);h.a.IsSafeToResetControllerType(a,s)&&(e.m_sSelectedControllerType=o.name,i=!0,void 0!=a&&h.a.RefreshBindingList())}i&&e.LoadControllerConfiguration()})];case 1:return t.sent(),[2]}})})},Object.defineProperty(e.prototype,"TrackerBindings",{get:function(){var e=this;return void 0==this.m_TrackerBindingSetup&&this.GetTrackerBindings().then(function(t){e.m_TrackerBindingSetup=t}),this.m_TrackerBindingSetup},enumerable:!0,configurable:!0}),e.prototype.GetTrackerBindings=function(){return a.b(this,void 0,void 0,function(){return a.e(this,function(e){return[2,new Promise(function(e,t){u.a.get("/input/gettrackerbindings.json").then(function(t){e(t.data)}).catch(function(e){t(e)})})]})})},e.prototype.SetTrackerBinding=function(e,t,n){var o=this,i={device_path:e,role:t,controller_role:n},r=JSON.stringify(i);console.log("Saving tracker binding "+e),u.a.post("/input/settrackerbinding.action",r).then(function(e){console.log("SetTrackerBinding response: ",e.data),o.GetTrackerBindings()}).catch(function(e){})},e.prototype.PulseHaptics=function(e){var t={path_handle:e},n=JSON.stringify(t);u.a.post("/input/pulsehaptics.action",n).then(function(e){console.log("PulseHaptics response: ",e.data)}).catch(function(e){})},e.prototype.FindDeviceClassForControllerType=function(e){var t=this.m_InputState.devices.find(function(t){return t.controller_type==e});return void 0==t?void 0:t.class},Object.defineProperty(e.prototype,"KnownControllerTypes",{get:function(){var e=[];return this.m_KnownControllerTypes.forEach(function(t){e.push(t)}),e},enumerable:!0,configurable:!0}),e.prototype.AutosaveBinding=function(){if(!this.m_sName){var e=I.DeviceForSelectedControllerType(),t=I.LocalizeControllerString(e,e?e.controller_type:"");this.m_sName=Object(d.b)("#BindingUI_SaveDefaultName",this.m_SelectedApp.name,t)}this.SaveCurrentBinding(this.m_sName,this.m_sDescription,"autosave").then(function(e){I.SetBindingURL(e.uri)})},e.prototype.SaveCurrentBinding=function(e,t,n){return a.b(this,void 0,void 0,function(){var o,i,r,l=this;return a.e(this,function(a){return this.HasUnboundActions?(console.log("Aborting save: Missing at least one required action"),[2,new Promise(function(e,t){t()})]):(this.m_sName=e,this.m_sDescription=t,o={app_key:this.SelectedApp,controller_type:this.DeviceForSelectedControllerType().controller_type,save_type:n},o.binding={name:e,description:t,app_key:this.SelectedApp,controller_type:this.DeviceForSelectedControllerType().controller_type,bindings:this.m_ModifiedBindingSet,options:this.m_ModifiedOptions,alias_info:this.m_ModifiedAliases,simulated_actions:Array.from(this.m_ModifiedSimulatedActions.values())},i=JSON.stringify(o),console.log("Saving binding "+e+" for app "+this.SelectedApp),r=new Promise(function(e,t){var o=new B(n,e,t);l.m_OutstandingSaveBindingCalls.push(o),u.a.post("/input/savebinding.action",i).then(function(e){e.data.error?(console.log("SaveCurrentBinding failed:",e.data.error),t(e.data.error)):console.log("SaveCurrentBinding Successful")}).catch(function(e){t(e)})}),[2,r])})})},e.prototype.PublishBindingToWorkshop=function(e){return a.b(this,void 0,void 0,function(){var t,n;return a.e(this,function(o){switch(o.label){case 0:return t={app_key:this.SelectedApp,description:e},t.binding={bindings:this.m_ModifiedBindingSet,controller_type:this.DeviceForSelectedControllerType().controller_type},n=JSON.stringify(t),[4,new Promise(function(e,t){u.a.post("/input/submitworkshopbinding.action",n).then(function(t){console.log("PublishBindingToWorkshop response: ",t),e()}).catch(function(e){t(e)})})];case 1:return o.sent(),[2]}})})},e.prototype.OnWebSocketOpen=function(e){var t=this;console.log("Websocket connected"),this.m_eWebSocketState=l.eWebSocketState_Connected,this.WebSocketSend("input_open"),this.m_timerWebSocket&&clearTimeout(this.m_timerWebSocket),window.addEventListener("beforeunload",function(){t.WebSocketSend("input_close")})},e.prototype.OnWebSocketClose=function(e){console.log("Websocket closed ",e),this.m_eWebSocketState=l.eWebSocketState_Disconnected,this.OpenWebSocketToHost()},e.prototype.WebSocketSend=function(e){void 0!=this.m_wsWebSocketToServer&&1==this.m_wsWebSocketToServer.readyState&&this.m_wsWebSocketToServer.send(e)},e.prototype.OnWorkshopUploadComplete=function(e){if(console.log("OnWorkshopUploadComplete: ",e),e.app_key!=this.SelectedApp)return void console.log("Ignoring binding load for an app we aren't viewing");if(this.m_OutstandingSaveBindingCalls.length<=0)return void console.log("Got workshop upload result without pending resolve");var t=this.m_OutstandingSaveBindingCalls.shift();e.success?(t.resolve(e),this.LoadActionManifest()):t.reject(e)},e.prototype.OnPendingFileSaved=function(e){if(console.log("OnPendingFileSaved: ",e),e.app_key!=this.SelectedApp)return void console.log("Ignoring pending file saved for an app we aren't viewing")},Object.defineProperty(e.prototype,"SaveNoticeText",{get:function(){if(this.m_OutstandingSaveBindingCalls.length>0){var e=!1;return this.m_OutstandingSaveBindingCalls.forEach(function(t){"personal"!=t.SaveType&&"public"!=t.SaveType||(e=!0)}),e?"#SaveNotice_Uploading":"#SaveNotice_Saving"}},enumerable:!0,configurable:!0}),e.prototype.OnBindingConfigLoaded=function(e){var t=this;if(console.log("OnBindingConfigLoaded: ",e," selected action set:",this.m_sSelectedActionSet),e.app_key!=this.SelectedApp)return void console.log("Ignoring binding load for an app we aren't viewing");if(e.uri!=this.m_sLoadedBindingURI)return void console.log("Ignoring binding load for an config url we aren't viewing");this.m_ControllerWatchers.clear(),this.m_LoadedBinding=e,this.m_ModifiedBindingSet=p.l.map();var n=Object(d.b)("#unknown_application"),o=f.a.GetApp(I.SelectedApp);if(o&&(n=o.name),this.m_sName="",this.m_sDescription="",e.binding_config&&("developer"==e.type?this.SelectedBindingIsLegacy?(this.m_sName=Object(d.b)("#BindingUI_List_Legacy_Binding_Title",n),this.m_sDescription=Object(d.b)("#BindingUI_List_Legacy_Binding_Description")):(this.m_sName=Object(d.b)("#BindingUI_List_Developer_Binding_Title",n),this.m_sDescription=Object(d.b)("#BindingUI_List_Developer_Binding_Description")):(e.binding_config.hasOwnProperty("name")&&(this.m_sName=e.binding_config.name),e.binding_config.hasOwnProperty("description")&&(this.m_sDescription=e.binding_config.description))),""==this.m_sName){var i=I.DeviceForSelectedControllerType(),r=I.LocalizeControllerString(i,i?i.controller_type:"");this.m_sName=Object(d.b)("#BindingUI_SaveDefaultName",n,r)}e.binding_config&&e.binding_config.bindings&&(Object.keys(e.binding_config.bindings).forEach(function(n){var o=new v;o.chords=e.binding_config.bindings[n].chords,o.poses=e.binding_config.bindings[n].poses,o.haptics=e.binding_config.bindings[n].haptics,o.skeleton=e.binding_config.bindings[n].skeleton,o.sources=new Array,e.binding_config.bindings[n].sources.forEach(function(e){var t=new _;t.mode=e.mode,t.path=e.path,t.inputs=p.l.map(),e.hasOwnProperty("inputs")&&Object.keys(e.inputs).forEach(function(n){t.inputs.set(n,e.inputs[n])}),void 0!=e.parameters&&Object.keys(e.parameters).length>0&&(t.parameters=p.l.map(),e.hasOwnProperty("parameters")&&Object.keys(e.parameters).forEach(function(n){t.parameters.set(n,e.parameters[n])})),o.sources.push(t)}),t.m_ModifiedBindingSet.set(n,o)}),this.m_ModifiedOptions.clear(),e.binding_config.options&&(Object.keys(e.binding_config.options).forEach(function(n){t.m_ModifiedOptions.set(n,e.binding_config.options[n])}),this.ManifestOptions.forEach(function(e){t.m_ModifiedOptions.has(e.name)||t.m_ModifiedOptions.set(e.name,e.default)})),this.m_ModifiedAliases.clear(),e.binding_config.alias_info&&Object.keys(e.binding_config.alias_info).forEach(function(n){t.m_ModifiedAliases.set(n,e.binding_config.alias_info[n])}),this.m_ModifiedSimulatedActions.clear(),e.binding_config.simulated_actions&&e.binding_config.simulated_actions.forEach(function(e){var n=t.ComputeSimulatedActionPathFromId(e.id);t.m_ModifiedSimulatedActions.set(n,e),e.id>=t.m_nNextSimulatedActionId&&(t.m_nNextSimulatedActionId=e.id+1)})),this.m_vecBindingSetWatchers.forEach(function(e){e()}),void 0!=this.m_OutstandingConfigLoad&&(this.m_OutstandingConfigLoad(e),this.m_OutstandingConfigLoad=void 0)},e.prototype.OnControllerTypeChanged=function(e){},e.prototype.QueryBindingList=function(e,t){var n=this;return void 0!=this.m_OutstandingQueryResolve&&console.warn("About to start second binding list query when one is already pending",this.m_OutstandingQueryResolve),new Promise(function(o,i){n.m_OutstandingQueryResolve=o,u.a.get("/input/queryworkshopbindings.json?app_key="+e+"&controller_type="+t).then(function(e){console.log("QueryBindingList: ajax request successful")}).catch(function(e){i(e)})})},e.prototype.DeleteBinding=function(e){var t=this;void 0!=this.m_OutstandingDeleteResolve&&console.warn("About to start second binding delete when one is already pending",this.m_OutstandingDeleteResolve);var n={url:e},o=JSON.stringify(n);return new Promise(function(n,i){t.m_OutstandingDeleteResolve=n,t.m_sOutstandingDeleteURL=e,u.a.post("/input/deleteconfig.action",o).then(function(e){console.log("Delete ajax request successful")}).catch(function(e){i(e)})})},e.prototype.OnBindingDeleteComplete=function(e){if(void 0==this.m_OutstandingDeleteResolve)return void console.warn("Missing outstanding query resolve for binding delete");e.url==this.m_sOutstandingDeleteURL&&(this.m_sOutstandingDeleteURL=void 0,this.m_OutstandingDeleteResolve(e),this.m_OutstandingDeleteResolve=void 0,console.log("OnDeleteComplete: ",e))},e.prototype.OnBindingLoadFailed=function(e){var t=this;f.a.UpdateApplications().then(function(){if(f.a.ShouldShowBindingFailureForApp(e.app_key)&&t.ShouldShowBindingFailureForControllerType(e.controller_type)&&h.a.ShouldShowBindingFailure()){t.m_rKnownFailedBindingUris.push(e.uri),t.SetSelectedApp(e.app_key);var n=f.a.GetApp(e.app_key);h.a.ShowBindingList(Object(d.b)(e.error,n?n.name:Object(d.b)("#unknown_application"))),m.e.IsAvailable()&&m.e.ShowBindingUI()}})},e.prototype.ShouldShowBindingFailureForControllerType=function(e){if(void 0==e||""==e)return!1;var t=this.FindDeviceClassForControllerType(e);return"TrackedDeviceClass_HMD"!=t&&"TrackedDeviceClass_TrackingReference"!=t},e.prototype.HasBindingUriFailedToLoad=function(e){return-1!=this.m_rKnownFailedBindingUris.indexOf(e)},e.prototype.OnQueryResults=function(e){if(console.log("OnQueryResults: ",e),void 0==this.m_OutstandingQueryResolve)return void console.warn("Missing outstanding query resolve for binding query");this.m_OutstandingQueryResolve(e),this.m_OutstandingQueryResolve=void 0},e.prototype.SelectConfig=function(e,t,n){var o=this;if(this.m_sLoadedBindingURI=n,console.log("Selecting config "+n+" for app "+e),this.SelectedBindingURL==n)return console.debug("Selecting the config we already have set",n),new Promise(function(e,t){e()});var i={app_key:e,controller_type:t,url:n},r=JSON.stringify(i);return void 0!=this.m_OutstandingSelectConfigResolve&&console.warn("About to start second select config when one is already pending",this.m_OutstandingSelectConfigResolve),new Promise(function(e,t){o.m_OutstandingSelectConfigResolve=e,u.a.post("/input/selectconfig.action",r).then(function(e){console.log("selectconfig ajax request successful")}).catch(function(e){t(e)})})},e.prototype.OnSelectConfigComplete=function(e){if(void 0==this.m_OutstandingSelectConfigResolve)return void console.warn("Missing outstanding query resolve for select config");this.m_OutstandingSelectConfigResolve(),this.m_OutstandingSelectConfigResolve=void 0,console.log("OnSelectConfigComplete: ",e)},e.prototype.OnTrackersBindingChanged=function(e){var t=this;this.GetTrackerBindings().then(function(e){t.m_TrackerBindingSetup=e})},e.prototype.OnActionManifestReloaded=function(e){e.app_key==this.SelectedApp&&this.ReloadCurrentApp()},e.prototype.OnActionManifestLoadFailed=function(e){h.a.ShowActionManifestLoadFailed(e.app_key,e.error,e.error_param,e.path)},e.prototype.OnShowActionOrigins=function(e){h.a.ShowActionOrigins(e.app_key,e.action_set,e.origin_to_highlight)},e.prototype.SetBindingURL=function(e){this.m_sLoadedBindingURI=e},e.prototype.OnActionBindingsReloaded=function(e){this.GetInputState()},e.prototype.GetControllerWatcherForSource=function(e,t,n,o){return this.GetControllerWatcherForSourceFromControllerType(this.GetControllerTypeInfo(e.controller_type),t,n,o)},e.prototype.GetControllerWatcherForSourceFromControllerType=function(e,t,n,o){var i=""+e.name+t+n+o;if(!this.m_ControllerWatchers.has(i)){var r="";if("controller_handed"==e.profile.input_bindingui_mode)switch(t){case 1:r="/user/hand/left";break;case 2:r="/user/hand/right"}else{var l=I.ConnectedDevices.find(function(t){return t.controller_type==e.name});l&&l.root_path?r=l.root_path:console.log("Unable to find device path for controller type ",e)}this.m_ControllerWatchers.set(i,new A(e.resource_root,r,e.profile,t,n,o))}return this.m_ControllerWatchers.get(i)},e.prototype.OnWebSocketMessage=function(e){var t=JSON.parse(e.data);if("jsonid"in t&&"vr_input_get_notifications"==t.jsonid)for(var n in t.notifications){var o=t.notifications[n];switch(o.type){case"pending_file_saved":this.OnPendingFileSaved(o);break;case"workshop_upload_complete":this.OnWorkshopUploadComplete(o);break;case"binding_loaded":this.OnBindingConfigLoaded(o);break;case"controller_type_changed":this.OnControllerTypeChanged(o);break;case"query_results":this.OnQueryResults(o);break;case"action_bindings_reloaded":this.OnActionBindingsReloaded(o);break;case"delete_binding_complete":this.OnBindingDeleteComplete(o);break;case"binding_load_failed":this.OnBindingLoadFailed(o);break;case"select_config_complete":this.OnSelectConfigComplete(o);break;case"trackers_binding_changed":this.OnTrackersBindingChanged(o);break;case"action_manifest_reloaded":this.OnActionManifestReloaded(o);break;case"action_manifest_load_failed":this.OnActionManifestLoadFailed(o);break;case"show_action_origins":this.OnShowActionOrigins(o)}}},Object.defineProperty(e.prototype,"BindingConfig",{get:function(){return void 0==this.m_ModifiedBindingSet?"":JSON.stringify(this.m_ModifiedBindingSet,null,"\t")},enumerable:!0,configurable:!0}),a.c([p.l],e.prototype,"m_eWebSocketState",void 0),a.c([p.l],e.prototype,"m_InputState",void 0),a.c([p.l],e.prototype,"m_sLoadedBindingURI",void 0),a.c([p.l],e.prototype,"m_LoadedBinding",void 0),a.c([p.l],e.prototype,"m_ModifiedBindingSet",void 0),a.c([p.l],e.prototype,"m_ModifiedOptions",void 0),a.c([p.l],e.prototype,"m_ModifiedAliases",void 0),a.c([p.l],e.prototype,"m_sName",void 0),a.c([p.l],e.prototype,"m_sDescription",void 0),a.c([p.l],e.prototype,"m_SelectedApp",void 0),a.c([p.l],e.prototype,"m_SelectedAppActions",void 0),a.c([p.l],e.prototype,"m_sSelectedActionSet",void 0),a.c([p.l],e.prototype,"m_sSelectedControllerType",void 0),a.c([p.l],e.prototype,"m_KnownControllerTypes",void 0),a.c([p.l],e.prototype,"m_TrackerBindingSetup",void 0),a.c([p.l],e.prototype,"m_OutstandingSaveBindingCalls",void 0),a.c([p.l],e.prototype,"m_ModifiedSimulatedActions",void 0),a.c([s.b],e.prototype,"OpenWebSocketToHost",null),a.c([p.e],e.prototype,"SteamVRUnavailable",null),a.c([p.e],e.prototype,"ConnectedDevices",null),a.c([p.e],e.prototype,"ControllerTypes",null),a.c([p.e],e.prototype,"ActionSets",null),a.c([p.e],e.prototype,"ManifestOptions",null),a.c([p.e],e.prototype,"ShowHiddenAliases",null),a.c([p.c],e.prototype,"SetOptionValue",null),a.c([p.c],e.prototype,"SetHiddenOnAllAliases",null),a.c([p.c],e.prototype,"AddSimulatedAction",null),a.c([p.c],e.prototype,"DeleteSimulatedActionByPath",null),a.c([p.e],e.prototype,"SelectedApp",null),a.c([p.e],e.prototype,"CurrentAppCanAccessPrivateInputs",null),a.c([p.e],e.prototype,"ShowHiddenInputs",null),a.c([p.e],e.prototype,"IsSteamAvailable",null),a.c([p.e],e.prototype,"BDevMode",null),a.c([p.e],e.prototype,"SelectedControllerTypeInfo",null),a.c([s.b],e.prototype,"GetControllerTypeInfo",null),a.c([p.e],e.prototype,"CurrentBindingSaveType",null),a.c([p.e],e.prototype,"SelectedActionSet",null),a.c([p.e],e.prototype,"SelectedActionSetDetails",null),a.c([p.e],e.prototype,"SelectedActionSetActions",null),a.c([s.b],e.prototype,"GetSelectedAppDefaultBinding",null),a.c([s.b],e.prototype,"GetActionByName",null),a.c([p.e],e.prototype,"SelectedActionSetPoses",null),a.c([p.e],e.prototype,"SelectedActionSetHaptics",null),a.c([p.e],e.prototype,"SelectedActionSetSkeletons",null),a.c([p.e],e.prototype,"SelectedActionSetChords",null),a.c([p.e],e.prototype,"SelectedActionSetChordCount",null),a.c([p.e],e.prototype,"SelectedActionSetSources",null),a.c([p.e],e.prototype,"BSelectedActionSetHasPoses",null),a.c([p.e],e.prototype,"BSelectedActionSetHasBoundPoses",null),a.c([p.e],e.prototype,"BSelectedActionSetHasHaptics",null),a.c([p.e],e.prototype,"BSelectedActionSetHasBoundHaptics",null),a.c([p.e],e.prototype,"BSelectedActionSetHasSkeletons",null),a.c([p.e],e.prototype,"BSelectedActionSetHasBoundSkeletons",null),a.c([p.c],e.prototype,"SetSelectedApp",null),a.c([p.c],e.prototype,"SetSelectedController",null),a.c([p.c],e.prototype,"SetSelectedActionSet",null),a.c([s.b],e.prototype,"LocalizeStringForSelectedControllerType",null),a.c([s.b],e.prototype,"LocalizePathNameForSelectedControllerType",null),a.c([p.e],e.prototype,"SelectedControllerTypeLocalizedName",null),a.c([s.b],e.prototype,"LocalizeControllerString",null),a.c([s.b],e.prototype,"LocalizeDriverString",null),a.c([s.b],e.prototype,"LocalizeInputPathName",null),a.c([p.c],e.prototype,"RegisterBindingWatcher",null),a.c([p.c],e.prototype,"UnregisterBindingWatcher",null),a.c([p.c],e.prototype,"GetActionBinding",null),a.c([s.b],e.prototype,"GetInputModesForSourceType",null),a.c([s.b],e.prototype,"GetBooleanInputOptionsForMode",null),a.c([s.b],e.prototype,"GetActionBindingsOfType",null),a.c([p.e],e.prototype,"GetBooleanActionBindings",null),a.c([p.e],e.prototype,"GetVector1ActionBindings",null),a.c([p.e],e.prototype,"GetLiteralVector1ActionBindings",null),a.c([p.e],e.prototype,"GetVector2ActionBindings",null),a.c([p.e],e.prototype,"GetVector3ActionBindings",null),a.c([p.e],e.prototype,"GetPoseActionBindings",null),a.c([p.e],e.prototype,"GetHapticsActionBindings",null),a.c([p.e],e.prototype,"GetSkeletonActionBindings",null),a.c([p.e],e.prototype,"ConfigName",null),a.c([p.e],e.prototype,"ConfigDescription",null),a.c([s.b],e.prototype,"GetPoseAction",null),a.c([s.b],e.prototype,"GetPoseActionByPath",null),a.c([s.b],e.prototype,"GetHapticsAction",null),a.c([s.b],e.prototype,"GetHapticsActionByPath",null),a.c([s.b],e.prototype,"GetSkeletonAction",null),a.c([s.b],e.prototype,"GetSkeletonActionByPath",null),a.c([s.b],e.prototype,"NotifyWatchersOfChange",null),a.c([p.c],e.prototype,"SetActionForInputModeType",null),a.c([p.c],e.prototype,"SetParameterForInputModeType",null),a.c([s.b],e.prototype,"AddActionSetIfRequired",null),a.c([p.c],e.prototype,"AddInputModeForSource",null),a.c([p.c],e.prototype,"DeleteInputModeForSource",null),a.c([p.c],e.prototype,"SetInputModeForInputSource",null),a.c([p.c],e.prototype,"ClearModesForInputPath",null),a.c([p.c],e.prototype,"SetInputPathForPose",null),a.c([p.c],e.prototype,"SetPoseForInputPath",null),a.c([p.c],e.prototype,"AddDefaultPose",null),a.c([p.c],e.prototype,"SetInputPathForHaptics",null),a.c([p.c],e.prototype,"SetHapticsForInputPath",null),a.c([p.c],e.prototype,"AddDefaultHaptics",null),a.c([p.c],e.prototype,"SetInputPathForSkeleton",null),a.c([p.c],e.prototype,"SetSkeletonForInputPath",null),a.c([p.c],e.prototype,"AddDefaultSkeleton",null),a.c([p.c],e.prototype,"SetActionForChord",null),a.c([p.c],e.prototype,"DeleteChord",null),a.c([p.c],e.prototype,"AddChord",null),a.c([p.c],e.prototype,"DeleteSourceFromChord",null),a.c([p.c],e.prototype,"SetInputTypeForChord",null),a.c([p.c],e.prototype,"SetInputSourceForChord",null),a.c([p.c],e.prototype,"LoadActionManifest",null),a.c([p.e],e.prototype,"SelectedBindingURL",null),a.c([p.e],e.prototype,"LoadedBindingURL",null),a.c([p.e],e.prototype,"SelectedBindingIsLegacy",null),a.c([s.b],e.prototype,"LoadControllerConfiguration",null),a.c([p.c],e.prototype,"GetInputState",null),a.c([p.e],e.prototype,"TrackerBindings",null),a.c([p.c],e.prototype,"GetTrackerBindings",null),a.c([s.b],e.prototype,"SetTrackerBinding",null),a.c([s.b],e.prototype,"PulseHaptics",null),a.c([s.b],e.prototype,"FindDeviceClassForControllerType",null),a.c([p.e],e.prototype,"KnownControllerTypes",null),a.c([s.b],e.prototype,"AutosaveBinding",null),a.c([s.b],e.prototype,"OnWebSocketOpen",null),a.c([s.b],e.prototype,"OnWebSocketClose",null),a.c([s.b],e.prototype,"WebSocketSend",null),a.c([s.b],e.prototype,"OnWorkshopUploadComplete",null),a.c([s.b],e.prototype,"OnPendingFileSaved",null),a.c([p.e],e.prototype,"SaveNoticeText",null),a.c([s.b],e.prototype,"OnBindingConfigLoaded",null),a.c([s.b],e.prototype,"OnControllerTypeChanged",null),a.c([s.b],e.prototype,"QueryBindingList",null),a.c([s.b],e.prototype,"DeleteBinding",null),a.c([s.b],e.prototype,"OnBindingDeleteComplete",null),a.c([s.b],e.prototype,"OnBindingLoadFailed",null),a.c([s.b],e.prototype,"ShouldShowBindingFailureForControllerType",null),a.c([s.b],e.prototype,"HasBindingUriFailedToLoad",null),a.c([s.b],e.prototype,"OnQueryResults",null),a.c([s.b],e.prototype,"SelectConfig",null),a.c([s.b],e.prototype,"OnSelectConfigComplete",null),a.c([s.b],e.prototype,"OnTrackersBindingChanged",null),a.c([s.b],e.prototype,"OnActionManifestReloaded",null),a.c([s.b],e.prototype,"OnActionManifestLoadFailed",null),a.c([s.b],e.prototype,"OnShowActionOrigins",null),a.c([s.b],e.prototype,"SetBindingURL",null),a.c([s.b],e.prototype,"OnActionBindingsReloaded",null),a.c([s.b],e.prototype,"GetControllerWatcherForSource",null),a.c([s.b],e.prototype,"GetControllerWatcherForSourceFromControllerType",null),a.c([s.b],e.prototype,"OnWebSocketMessage",null),a.c([p.e],e.prototype,"BindingConfig",null),e}(),I=new O;window.controllerBindingStore=I},APa2:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var o=n("TToO"),i=n("FBH1"),r=n("mtWM"),l=n.n(r),a=n("y986"),s=function(){function e(){this.m_Applications=a.l.map()}return e.prototype.Init=function(){return o.b(this,void 0,void 0,function(){return o.e(this,function(e){switch(e.label){case 0:return[4,this.UpdateApplications()];case 1:return e.sent(),[2]}})})},e.prototype.SetApplicationMap=function(e){var t=this;this.m_Applications.clear(),e.apps.forEach(function(e){t.m_Applications.set(e.key,e)})},e.prototype.UpdateApplications=function(){return o.b(this,void 0,void 0,function(){var e=this;return o.e(this,function(t){switch(t.label){case 0:return[4,this.QueryApplications().then(function(t){e.SetApplicationMap(t)})];case 1:return t.sent(),[2]}})})},e.prototype.QueryApplications=function(){return new Promise(function(e,t){l.a.get("/app/list.json").then(function(t){e(t.data)}).catch(function(e){t(e)})})},e.prototype.GetAppImageURL=function(e){return"/app/image?app_key="+e},e.prototype.GetApp=function(e){return this.m_Applications.has(e)?this.m_Applications.get(e):void 0},e.prototype.GetRecentApps=function(){var e=[];return this.m_Applications.forEach(function(t){t.is_internal||e.push(t)}),e.sort(function(e,t){return e.last_launch<t.last_launch?1:e.last_launch>t.last_launch?-1:e.name<t.name?1:e.name>t.name?-1:0}),e},e.prototype.GetCurrentSceneProcess=function(){var e=void 0;return this.m_Applications.forEach(function(t){t.current_scene_process&&!t.is_internal&&(e=t)}),e},e.prototype.IsAppAllowedPrivateInputs=function(e){return"openvr.component.vrcompositor"==e},e.prototype.ShouldShowBindingFailureForApp=function(e){if(void 0==e||""==e)return!1;if("openvr.component.vrcompositor"==e)return!0;if(void 0==this.GetApp(e))return!1;var t=this.GetCurrentSceneProcess();return void 0!=t&&t.key==e},o.c([a.l],e.prototype,"m_Applications",void 0),o.c([a.c],e.prototype,"SetApplicationMap",null),o.c([i.b],e.prototype,"QueryApplications",null),o.c([i.b],e.prototype,"GetAppImageURL",null),o.c([i.b],e.prototype,"GetApp",null),o.c([i.b],e.prototype,"GetRecentApps",null),o.c([i.b],e.prototype,"GetCurrentSceneProcess",null),o.c([i.b],e.prototype,"IsAppAllowedPrivateInputs",null),o.c([i.b],e.prototype,"ShouldShowBindingFailureForApp",null),e}(),c=new s;window.applications=c},AwaH:function(e,t,n){"use strict";n.d(t,"a",function(){return v});var o=n("TToO"),i=n("GiK3"),r=(n.n(i),n("Mn8c")),l=n("FBH1"),a=n("mVfh"),s=n("6CG6"),c=n("nhcq"),u=n("J4P+"),p=n("4PsW"),d=n("APa2"),m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},h="c:\\buildslave\\steamvr_webpack_rel_win32\\build\\src\\vrwebui\\src\\js\\inputdebuggerui.tsx",f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.d(t,e),t.prototype.render=function(){var e=u.a.GetScalarInputValue(this.props.container,this.props.path),t=Math.abs(e),n=50*t+"%";return i.createElement("div",{className:"FlexRow DebuggerInputWrapper",__source:{fileName:h,lineNumber:22}},i.createElement("div",{className:"FlexColumn DebuggerDeviceLabelWrapper",__source:{fileName:h,lineNumber:23}},i.createElement("div",{className:"Label",__source:{fileName:h,lineNumber:24}},this.props.name),i.createElement("div",{className:"Label",__source:{fileName:h,lineNumber:25}},this.props.path)),i.createElement("div",{className:"DebuggerScalarValueWrapper",__source:{fileName:h,lineNumber:27}},e<0&&i.createElement("div",{className:"DebuggerScalarValueLeft",style:{width:n},__source:{fileName:h,lineNumber:28}}),e>0&&i.createElement("div",{className:"DebuggerScalarValueRight",style:{width:n},__source:{fileName:h,lineNumber:29}})))},t=o.c([r.a],t)}(i.Component),_=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.d(t,e),t.prototype.render=function(){var e=u.a.GetBooleanInputValue(this.props.container,this.props.path),t="DebuggerBooleanValue"+(e?" DebuggerBooleanValueTrue":"");return i.createElement("div",{className:"FlexRow DebuggerInputWrapper",__source:{fileName:h,lineNumber:46}},i.createElement("div",{className:"FlexColumn DebuggerDeviceLabelWrapper",__source:{fileName:h,lineNumber:47}},i.createElement("div",{className:"Label",__source:{fileName:h,lineNumber:48}},this.props.name),"(",i.createElement("div",{className:"ActionPath",__source:{fileName:h,lineNumber:49}},this.props.path),")"),i.createElement("div",{className:t,__source:{fileName:h,lineNumber:51}}))},t=o.c([r.a],t)}(i.Component),b=function(){function e(){}return e}(),g=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.d(t,e),t.prototype.render=function(){return u.a.GetActionValue(this.props.container,this.props.path).map(function(e,t){var n="DebuggerBooleanValue"+(e.active?" DebuggerBooleanValueTrue":""),o="DebuggerBooleanValue"+(e.state?" DebuggerBooleanValueTrue":""),r="DebuggerBooleanValue"+(e.changed?" DebuggerBooleanValueTrue":"");return i.createElement("div",{className:"FlexColumn",__source:{fileName:h,lineNumber:75}},i.createElement("div",{className:"DebuggerBindingPath",__source:{fileName:h,lineNumber:76}},e.binding_path),i.createElement("div",{className:"FlexRow DebuggerActionDigitalWrapper DebuggerActionDataWrapper",__source:{fileName:h,lineNumber:77}},i.createElement("div",{className:n,__source:{fileName:h,lineNumber:78}}),i.createElement("div",{className:o,__source:{fileName:h,lineNumber:79}}),i.createElement("div",{className:r,__source:{fileName:h,lineNumber:80}})),i.createElement("div",{className:"FlexRow DebuggerActionDataWrapper",__source:{fileName:h,lineNumber:82}},i.createElement("div",{className:"DebuggerChangeTime",__source:{fileName:h,lineNumber:83}},e.update_time.toFixed(3)),i.createElement("div",{className:"DebuggerActiveOrigin",__source:{fileName:h,lineNumber:84}},e.active_origin)))})},t=o.c([r.a],t)}(i.Component),S=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.d(t,e),t.prototype.render=function(){return u.a.GetActionValue(this.props.container,this.props.path).map(function(e,t){var n="DebuggerBooleanValue"+(e.active?" DebuggerBooleanValueTrue":""),o="InputActionType_Vector2"==e.type||"InputActionType_Vector3"==e.type,r="InputActionType_Vector3"==e.type;return i.createElement("div",{className:"FlexColumn",__source:{fileName:h,lineNumber:105}},i.createElement("div",{className:"DebuggerBindingPath",__source:{fileName:h,lineNumber:106}},e.binding_path),i.createElement("div",{className:"FlexRow DebuggerActionDigitalWrapper DebuggerActionDataWrapper",__source:{fileName:h,lineNumber:107}},i.createElement("div",{className:n,__source:{fileName:h,lineNumber:108}}),i.createElement("div",{className:"DebuggerVectorValue",__source:{fileName:h,lineNumber:109}},"[",e.x.toFixed(2),o?", "+e.y.toFixed(2):"",r?", "+e.z.toFixed(2):""," ]"),i.createElement("div",{className:"DebuggerVectorValue",__source:{fileName:h,lineNumber:114}},"[",e.delta_x.toFixed(2),o?", "+e.delta_y.toFixed(2):"",r?", "+e.delta_z.toFixed(2):""," ]")),i.createElement("div",{className:"FlexRow DebuggerActionDataWrapper",__source:{fileName:h,lineNumber:120}},i.createElement("div",{className:"DebuggerChangeTime",__source:{fileName:h,lineNumber:121}},e.update_time.toFixed(3)),i.createElement("div",{className:"DebuggerActiveOrigin",__source:{fileName:h,lineNumber:122}},e.active_origin)))})},t=o.c([r.a],t)}(i.Component),y=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.d(t,e),t.prototype.render=function(){var e=s.a.GetActionByName(this.props.path),t=u.a.GetActionValue(this.props.container,this.props.path),n=void 0;return 1==t.length&&!t[0].binding_path||void 0==e?n=i.createElement("div",{className:"DebuggerBindingPath",__source:{fileName:h,lineNumber:142}},Object(a.b)("#InputDebugger_Unbound")):"boolean"==e.type?n=i.createElement(g,m({},this.props,{__source:{fileName:h,lineNumber:145}})):"vector1"!=e.type&&"vector2"!=e.type&&"vector3"!=e.type||(n=i.createElement(S,m({},this.props,{__source:{fileName:h,lineNumber:148}}))),i.createElement("div",{className:"FlexRow NoShrink",__source:{fileName:h,lineNumber:150}},i.createElement("div",{className:"FlexColumn",__source:{fileName:h,lineNumber:151}},i.createElement("div",{className:"Label",__source:{fileName:h,lineNumber:152}},e?e.localized_name:this.props.path,i.createElement("div",{className:"DebuggerActionPath",__source:{fileName:h,lineNumber:154}},"(",this.props.path,")")),n))},t=o.c([r.a],t)}(i.Component),v=function(e){function t(t){var n=e.call(this,t)||this;return s.a.ConnectedDevices.forEach(function(e){u.a.AddSubscribedContainer(e.container)}),n}return o.d(t,e),t.prototype.RenderDeviceComponent=function(e,t,n){switch(t.type){case"InputValueType_Boolean":return i.createElement(_,{key:n,name:t.path,container:e.container,path:t.path,__source:{fileName:h,lineNumber:177}});case"InputValueType_Scalar":return i.createElement(f,{key:n,name:t.path,container:e.container,path:t.path,__source:{fileName:h,lineNumber:179}})}},t.prototype.RenderDevice=function(e,t){var n=this;return i.createElement("div",{key:t,__source:{fileName:h,lineNumber:185}},i.createElement("div",{className:"Label DebuggerDeviceName",__source:{fileName:h,lineNumber:186}},e.root_path?e.root_path:Object(a.b)("#InputDebugger_UnknownPath")," -",e.controller_type),e.components.map(function(t,o){return n.RenderDeviceComponent(e,t,o)}))},t.prototype.render=function(){var e=this,t=[],n=s.a.SelectedApp,o=[];if(void 0!=n){var r=d.a.GetApp(n);if(r&&r.client_container_handle){u.a.GetAllActions(r.client_container_handle).forEach(function(e){var n=new b;n.container=r.client_container_handle,n.path=e,t.push(n)});u.a.GetAllInputValues(r.client_container_handle).forEach(function(e){switch(u.a.GetInputValue(r.client_container_handle,e).type){case"boolean":o.push(i.createElement(_,{key:e,name:e,container:r.client_container_handle,path:e,__source:{fileName:h,lineNumber:213}}));break;case"scalar":o.push(i.createElement(f,{key:e,name:e,container:r.client_container_handle,path:e,__source:{fileName:h,lineNumber:216}}))}})}}var l=s.a.ConnectedDevices;return i.createElement("div",{className:"FlexRowWithWrap",__source:{fileName:h,lineNumber:223}},i.createElement(p.a,{fnOnClick:c.a.EditCurrentBinding,strTitle:Object(a.b)("#InputDebugger_Title"),bShowBackButton:!0,__source:{fileName:h,lineNumber:224}}),i.createElement("div",{className:"FlexFullWidthRowCentered DebuggerMainContentWrapper",__source:{fileName:h,lineNumber:225}},i.createElement("div",{className:"FlexColumn DebuggerColumn",__source:{fileName:h,lineNumber:226}},i.createElement("div",{className:"Label",__source:{fileName:h,lineNumber:227}},Object(a.b)("#InputDebugger_Actions")),t.map(function(e,t){return i.createElement(y,m({key:t},e,{__source:{fileName:h,lineNumber:229}}))})),i.createElement("div",{className:"FlexColumn DebuggerColumn",__source:{fileName:h,lineNumber:232}},i.createElement("div",{className:"Label",__source:{fileName:h,lineNumber:233}},Object(a.b)("#InputDebugger_Filters")),o),i.createElement("div",{className:"FlexColumn DebuggerColumn",__source:{fileName:h,lineNumber:236}},i.createElement("div",{className:"Label",__source:{fileName:h,lineNumber:237}},Object(a.b)("#InputDebugger_Devices")),l.map(function(t,n){return e.RenderDevice(t,n)}))))},o.c([l.b],t.prototype,"RenderDeviceComponent",null),o.c([l.b],t.prototype,"RenderDevice",null),t=o.c([r.a],t)}(i.Component)},EKNN:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var o=n("TToO"),i=n("FBH1"),r=function(){function e(){this.m_wsWebSocketToServer=void 0,this.m_oHandlers={}}return e.prototype.OpenWebSocketToHost=function(){var e=this;return new Promise(function(t,n){console.log("Connecting..."),e.m_wsWebSocketToServer=new WebSocket("ws://"+window.location.host),e.m_wsWebSocketToServer.addEventListener("open",function(n){e.OnWebSocketOpen(n),t()}),e.m_wsWebSocketToServer.addEventListener("message",e.OnWebSocketMessage),e.m_wsWebSocketToServer.addEventListener("close",e.OnWebSocketClose)})},e.prototype.Init=function(e){return o.b(this,void 0,void 0,function(){return o.e(this,function(t){switch(t.label){case 0:return this.m_sMailboxName=e,this.connected=!1,[4,this.OpenWebSocketToHost()];case 1:return t.sent(),[2]}})})},e.prototype.OnWebSocketOpen=function(e){var t=this;this.connected=!0,this.WebSocketSend("mailbox_open "+this.m_sMailboxName),window.addEventListener("beforeunload",function(){t.WebSocketSend("websocket_close")})},e.prototype.OnWebSocketClose=function(e){console.log("Lost connection to host..."),this.connected=!1,this.OpenWebSocketToHost()},e.prototype.WebSocketSend=function(e){void 0!=this.m_wsWebSocketToServer&&1==this.m_wsWebSocketToServer.readyState&&this.m_wsWebSocketToServer.send(e)},e.prototype.OnWebSocketMessage=function(e){var t=JSON.parse(e.data);this.m_oHandlers.hasOwnProperty(t.type)?this.m_oHandlers[t.type](t):console.log("Received unhandled message: ",t)},e.prototype.RegisterHandler=function(e,t){this.m_oHandlers[e]=t},o.c([i.b],e.prototype,"OpenWebSocketToHost",null),o.c([i.b],e.prototype,"OnWebSocketOpen",null),o.c([i.b],e.prototype,"OnWebSocketClose",null),o.c([i.b],e.prototype,"WebSocketSend",null),o.c([i.b],e.prototype,"OnWebSocketMessage",null),e}()},"J4P+":function(e,t,n){"use strict";n.d(t,"a",function(){return u});var o=n("TToO"),i=n("FBH1"),r=n("mtWM"),l=n.n(r),a=n("y986"),s=(function(){function e(){}}(),function(){function e(){this.contents=a.l.map()}return o.c([a.l],e.prototype,"contents",void 0),e}()),c=function(){function e(){this.m_Containers=a.l.map()}return e.prototype.Init=function(){return o.b(this,void 0,void 0,function(){return o.e(this,function(e){switch(e.label){case 0:return this.AddSubscribedContainer("25769803776"),[4,this.UpdatePaths()];case 1:return e.sent(),[2]}})})},e.prototype.AddSubscribedContainer=function(e){if(!this.m_Containers.has(e)){var t=new s;t.handle=e,this.m_Containers.set(e,t)}},e.prototype.UpdateContainer=function(e,t){this.AddSubscribedContainer(e);var n=this.m_Containers.get(e);n.contents.clear(),t.entries.forEach(function(e){void 0!=e.path&&n.contents.set(e.path,e)})},e.prototype.QueryContainer=function(e){return o.b(this,void 0,void 0,function(){return o.e(this,function(t){return[2,new Promise(function(t,n){l.a.get("/properties.json?container="+e).then(function(n){t([e,n.data])}).catch(function(t){n([e,t])})})]})})},e.prototype.UpdatePaths=function(){return o.b(this,void 0,void 0,function(){var e,t,n,i=this;return o.e(this,function(o){switch(o.label){case 0:e=[],this.m_Containers.forEach(function(t){e.push(i.QueryContainer(t.handle))}),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,Promise.all(e)];case 2:return t=o.sent(),t.forEach(function(e){2!=e.length?console.log("Failed to update container. ",e.length,"entries in array"):"string"==typeof e[1]?console.log("Failed to update container ",e[0],":",e[1]):i.UpdateContainer(e[0],e[1])}),[3,4];case 3:throw n=o.sent(),console.log(n),n;case 4:return[2]}})})},e.prototype.GetAllActions=function(e){if(this.m_Containers.has(e)){var t=[];return this.m_Containers.get(e).contents.forEach(function(e){"k_unActionPropertyTag"==e.type&&void 0!=e.path&&t.push(e.path)}),t}},e.prototype.GetActionValue=function(e,t){if(this.m_Containers.has(e)){var n=this.m_Containers.get(e);if(n.contents.has(t)){var o=n.contents.get(t);if("k_unActionPropertyTag"==o.type)return o.value}}},e.prototype.GetAllInputValues=function(e){if(this.m_Containers.has(e)){var t=[];return this.m_Containers.get(e).contents.forEach(function(e){"k_unInputValuePropertyTag"==e.type&&void 0!=e.path&&t.push(e.path)}),t}},e.prototype.GetInputValue=function(e,t){if(this.m_Containers.has(e)){var n=this.m_Containers.get(e);if(n.contents.has(t)){var o=n.contents.get(t);if("k_unInputValuePropertyTag"==o.type){var i=o.value;if(!(i.length<1))return i[0]}}}},e.prototype.GetScalarInputValue=function(e,t){var n=this.GetInputValue(e,t);return void 0==n||"scalar"!=n.type?0:n.value},e.prototype.GetBooleanInputValue=function(e,t){var n=this.GetInputValue(e,t);return void 0!=n&&"boolean"==n.type&&n.value},o.c([a.l],e.prototype,"m_Containers",void 0),o.c([i.b],e.prototype,"AddSubscribedContainer",null),o.c([a.c],e.prototype,"UpdateContainer",null),o.c([i.b],e.prototype,"GetAllActions",null),o.c([i.b],e.prototype,"GetActionValue",null),o.c([i.b],e.prototype,"GetAllInputValues",null),o.c([i.b],e.prototype,"GetInputValue",null),o.c([i.b],e.prototype,"GetScalarInputValue",null),o.c([i.b],e.prototype,"GetBooleanInputValue",null),e}(),u=new c;window.paths=u},bD9n:function(e,t,n){"use strict";n.d(t,"a",function(){return g}),n.d(t,"b",function(){return S});var o=n("TToO"),i=n("GiK3"),r=(n.n(i),n("Mn8c")),l=n("IXHb"),a=n.n(l),s=n("FBH1"),c=n("mVfh"),u=n("6CG6"),p=n("tieU"),d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},m="c:\\buildslave\\steamvr_webpack_rel_win32\\build\\src\\vrwebui\\src\\js\\controllerbinding_controller.tsx",h=function(e){function t(t){var n=e.call(this,t)||this;return n.state={bInEditMode:!1},n}return o.d(t,e),t.prototype.OnEdit=function(e){this.setState({bInEditMode:e})},t.prototype.componentWillMount=function(){this.setState({bInEditMode:this.props.controllerWatcher[0].BHasModeSelectionPending(this.props.iMode)})},t.prototype.componentWillReceiveProps=function(e){e.iMode!=this.props.iMode&&this.setState({bInEditMode:this.props.controllerWatcher[0].BHasModeSelectionPending(e.iMode)})},t.prototype.render=function(){var e={controllerWatcher:this.props.controllerWatcher,iMode:this.props.iMode,sMode:this.props.sMode,ParentEdit:this.OnEdit,bReadOnly:this.props.bReadOnly,bStartInEditMode:this.state.bInEditMode,bShowModeOptionsDropDownOnStart:this.props.controllerWatcher[0].BHasModeSelectionPending(this.props.iMode),bToggleButtonMode:"toggle_button"==this.props.sMode,sActionSet:u.a.SelectedActionSet};switch(this.props.sMode){case"toggle_button":return i.createElement(p.a,d({},e,{__source:{fileName:m,lineNumber:41}}));case"trackpad":case"joystick":return i.createElement(p.h,d({},e,{__source:{fileName:m,lineNumber:44}}));case"complex_button":return i.createElement(p.c,d({},e,{__source:{fileName:m,lineNumber:46}}));case"button":return i.createElement(p.b,d({},e,{__source:{fileName:m,lineNumber:48}}));case"dpad":case"dpad_touch":case"dpad_click":return i.createElement(p.d,d({},e,{__source:{fileName:m,lineNumber:52}}));case"trackpad_scroll":return i.createElement(p.i,d({},e,{__source:{fileName:m,lineNumber:54}}));case"trigger":return i.createElement(p.j,d({},e,{__source:{fileName:m,lineNumber:56}}));case"force_sensor":return i.createElement(p.e,d({},e,{__source:{fileName:m,lineNumber:58}}));case"grab":return i.createElement(p.f,d({},e,{__source:{fileName:m,lineNumber:60}}));case"scalar_constant":return i.createElement(p.g,d({},e,{__source:{fileName:m,lineNumber:62}}));default:return i.createElement(p.k,d({},e,{__source:{fileName:m,lineNumber:64}}))}},o.c([s.b],t.prototype,"OnEdit",null),t=o.c([r.a],t)}(i.Component),f=function(){function e(e,t,n,o){this.x=e,this.y=t,this.width=n,this.nPointScale=o,this.toString.bind(this)}return e.prototype.toString=function(){return this.x+","+this.y+","+this.width+","+this.nPointScale},e}(),_=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.m_HTMLButton=void 0,t.m_SVGElement=void 0,t}return o.d(t,e),t.prototype.AddMode=function(){this.props.controllerWatcher.forEach(function(e){e.AddInputMode("none")})},t.prototype.componentWillUnmount=function(){this.props.controllerWatcher.forEach(function(e){e.cancelWatcher()})},t.prototype.BindButtonRef=function(e){this.m_HTMLButton=e,this.m_HTMLButton&&this.UpdateSVGPath()},t.prototype.BindSVGRef=function(e){this.m_SVGElement=e,this.UpdateSVGPath()},t.prototype.UpdateSVGPath=function(){if(this.m_HTMLButton&&this.m_SVGElement&&this.props.ptControllerImagePosition){var e=this.m_SVGElement.children.namedItem("SourcePath"),t=this.m_SVGElement.children.namedItem("SourceLine"),n=this.m_SVGElement.children.namedItem("SourceCircle"),o=this.props.controllerWatcher[0],i=2==this.props.eControllerButtonSide,r=0==this.props.eControllerButtonSide,l=this.m_HTMLButton.getBoundingClientRect(),a=this.m_SVGElement.getBoundingClientRect(),s=o.GetSVGEndPoint();s.x*=this.props.ptControllerImagePosition.nPointScale,s.y*=this.props.ptControllerImagePosition.nPointScale,r||i||(s.x=this.props.ptControllerImagePosition.width-s.x),s.x+=this.props.ptControllerImagePosition.x-a.left,s.y+=this.props.ptControllerImagePosition.y-a.top;var c=new u.b(0,l.top-a.top);c.x=i?l.left-10:l.right+10;var p=i?-20:20,d=c.x+p+","+c.y+" "+s.x+","+s.y;e.setAttribute("points",d);var m=c.x+","+c.y+" "+(c.x+p)+","+c.y;t.setAttribute("points",m),n.setAttribute("cx",s.x+""),n.setAttribute("cy",s.y+"")}},t.prototype.OnMouseEnter=function(e){this.UpdateSVGPath(),this.m_SVGElement&&this.m_SVGElement.classList.add("MenuSVGVisible")},t.prototype.OnMouseLeave=function(e){this.m_SVGElement&&this.m_SVGElement.classList.remove("MenuSVGVisible")},t.prototype.render=function(){var e=this,t=this.props.strSVGClass;t+=" MenuSVG";var n=this.props.controllerWatcher[0],o=0,r=n.GetModes.map(function(t,n){return++o,i.createElement(h,{key:n,sMode:t.mode,iMode:n,controllerWatcher:e.props.controllerWatcher,bReadOnly:e.props.bReadOnly,__source:{fileName:m,lineNumber:169}})});return i.createElement("div",{className:"FlexColumn BindingInputSection",onMouseEnter:this.OnMouseEnter,onMouseLeave:this.OnMouseLeave,__source:{fileName:m,lineNumber:171}},i.createElement("div",{className:"FlexRow",__source:{fileName:m,lineNumber:172}},i.createElement("div",{className:"Label Title",__source:{fileName:m,lineNumber:173}},n.GetControllerInputName),!this.props.bReadOnly&&i.createElement("div",{className:"Label FlexRightAlignChild",onClick:this.AddMode,__source:{fileName:m,lineNumber:174}},i.createElement("img",{className:"ActionButtonImage",src:"images/bindingui/icon_add.svg",__source:{fileName:m,lineNumber:174}}))),i.createElement("hr",{ref:this.BindButtonRef,__source:{fileName:m,lineNumber:176}}),o>0&&i.createElement("div",{className:"FlexColumn",__source:{fileName:m,lineNumber:177}},r),i.createElement(a.a,{onReflow:this.UpdateSVGPath,__source:{fileName:m,lineNumber:180}}),i.createElement("svg",{className:t,xmlns:"http://www.w3.org/2000/svg",ref:this.BindSVGRef,__source:{fileName:m,lineNumber:181}},i.createElement("defs",{__source:{fileName:m,lineNumber:182}},i.createElement("radialGradient",{id:"buttonGradient",__source:{fileName:m,lineNumber:183}},i.createElement("stop",{offset:"0%",stopColor:"var(--bordercolor)",stopOpacity:"0.8",__source:{fileName:m,lineNumber:184}}),i.createElement("stop",{offset:"100%",stopColor:"var(--bordercolor)",stopOpacity:"0",__source:{fileName:m,lineNumber:185}}))),i.createElement("polyline",{id:"SourceLine",stroke:"var(--bordercolor)",strokeWidth:"0.1rem",fill:"transparent",__source:{fileName:m,lineNumber:188}}),i.createElement("polyline",{id:"SourcePath",stroke:"var(--bordercolor)",strokeWidth:"0.1rem",fill:"transparent",__source:{fileName:m,lineNumber:189}}),i.createElement("circle",{id:"SourceCircle",r:"2rem",fill:"url(#buttonGradient)",__source:{fileName:m,lineNumber:190}})))},o.c([s.b],t.prototype,"AddMode",null),o.c([s.b],t.prototype,"BindButtonRef",null),o.c([s.b],t.prototype,"BindSVGRef",null),o.c([s.b],t.prototype,"UpdateSVGPath",null),o.c([s.b],t.prototype,"OnMouseEnter",null),o.c([s.b],t.prototype,"OnMouseLeave",null),t=o.c([r.a],t)}(i.Component),b=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.d(t,e),t.prototype.render=function(){var e=this,t=u.a.SelectedControllerTypeInfo;if(!t||!t.profile||!this.props.selectedActionSet)return null;var n=(u.a.SelectedControllerTypeLocalizedName,[]);Object.keys(t.profile.input_source).forEach(function(e){n.push({name:e,order:t.profile.input_source[e].order})}),n.sort(function(e,t){return e.order-t.order});var o=n.map(function(n,o){var r=t.profile.input_source[n.name];if("pose"==r.type||"vibration"==r.type)return null;if("InputValueVisibility_SteamVRInternal"==r.visibility&&!u.a.CurrentAppCanAccessPrivateInputs)return null;if("InputValueVisibility_AvailableButHidden"==r.visibility&&!u.a.ShowHiddenInputs)return null;if(void 0!=r.side)switch(r.side){case"left":if(1!=e.props.eControllerButtonSide)return null;break;case"right":if(2!=e.props.eControllerButtonSide)return null}var l=[];return l.push(u.a.GetControllerWatcherForSourceFromControllerType(t,e.props.eControllerButtonSide,n.name,e.props.selectedActionSet.name)),e.props.eControllerButtonOtherSide&&0!=e.props.eControllerButtonOtherSide.valueOf()&&l.push(u.a.GetControllerWatcherForSourceFromControllerType(t,e.props.eControllerButtonOtherSide,n.name,e.props.selectedActionSet.name)),i.createElement(_,{key:o,controllerWatcher:l,strSVGClass:e.props.strSVGClass,bReadOnly:e.props.bReadOnly,eControllerButtonSide:e.props.eControllerButtonSide,ptControllerImagePosition:e.props.ptControllerImagePosition,__source:{fileName:m,lineNumber:259}})});return i.createElement("div",{__source:{fileName:m,lineNumber:261}},o)},t=o.c([r.a],t)}(i.Component),g=function(e){function t(t){var n=e.call(this,t)||this;return n.m_LeftControllerImage=void 0,n.m_RightControllerImage=void 0,n.props.bSingleMode?n.state={bMirrorBinding:!0,ptLeftController:new f(0,0,0,0),ptRightController:new f(0,0,0,0),bScrolledBindingList:!1}:n.props.selectedActionSet&&"single"!=n.props.selectedActionSet.usage?(n.state={bMirrorBinding:!1,ptLeftController:new f(0,0,0,0),ptRightController:new f(0,0,0,0),bScrolledBindingList:!1},n.props.fnSetMirroredMode(!1)):n.props.selectedActionSet&&(n.state={bMirrorBinding:!0,ptLeftController:new f(0,0,0,0),ptRightController:new f(0,0,0,0),bScrolledBindingList:!1},n.props.fnSetMirroredMode(!0)),n}return o.d(t,e),t.prototype.componentWillReceiveProps=function(e){var t=!1,n=e.selectedActionSet;if(n&&(!this.props.selectedActionSet||n.name!=this.props.selectedActionSet.name)){if("single"==n.usage){t=!0;var o=Object.keys(u.a.SelectedControllerTypeInfo.profile.input_source);o.map(function(e,o){var i=u.a.GetControllerWatcherForSourceFromControllerType(u.a.SelectedControllerTypeInfo,1,e,n.name),r=u.a.GetControllerWatcherForSourceFromControllerType(u.a.SelectedControllerTypeInfo,2,e,n.name);t=t&&r.BindingsMatch(i)})}this.setState({bMirrorBinding:t}),this.props.fnSetMirroredMode(t)}},t.prototype.ToggleMirrorMode=function(e){var t=this;if("single"==this.props.selectedActionSet.usage){var n=this.state.bMirrorBinding;if(this.setState({bMirrorBinding:e}),this.props.fnSetMirroredMode(!this.state.bMirrorBinding),!n){var o=Object.keys(u.a.SelectedControllerTypeInfo.profile.input_source);o.map(function(e,n){var o=u.a.GetControllerWatcherForSourceFromControllerType(u.a.SelectedControllerTypeInfo,1,e,t.props.selectedActionSet.name);u.a.GetControllerWatcherForSourceFromControllerType(u.a.SelectedControllerTypeInfo,2,e,t.props.selectedActionSet.name).CopyActions(o)})}}},t.prototype.UpdatePositionHelper=function(e){var t=1,n=0,o=0,i=0;if(e){var r=e.getBoundingClientRect();if(i=r.width,e.naturalWidth>0)return t=r.height/e.naturalHeight,o=r.left,n=r.top,new f(o,n,i,t)}},t.prototype.OnUpdateControllerPicturePosition=function(){this.setState({ptLeftController:this.UpdatePositionHelper(this.m_LeftControllerImage)}),this.setState({ptRightController:this.UpdatePositionHelper(this.m_RightControllerImage)})},t.prototype.BindLeftControllerImage=function(e){this.m_LeftControllerImage=e,this.setState({ptLeftController:this.UpdatePositionHelper(e)})},t.prototype.BindRightControllerImage=function(e){this.m_RightControllerImage=e,this.setState({ptRightController:this.UpdatePositionHelper(e)})},t.prototype.OnScroll=function(e){this.setState({bScrolledBindingList:e.currentTarget.scrollTop>0}),this.props.fnScrolledBindingList(e)},t.prototype.render=function(){var e=this,t=u.a.SelectedControllerTypeInfo;if(!t)return null;var n="",o="";this.props.bSingleMode||(n=t.profile.input_bindingui_left.transform?t.profile.input_bindingui_left.transform:"",o=t.profile.input_bindingui_left.uri?t.profile.input_bindingui_left.uri:"");var r=t.profile.input_bindingui_right.transform?t.profile.input_bindingui_right.transform:"",l=t.profile.input_bindingui_right.uri?t.profile.input_bindingui_right.uri:"",s="",p=this.props.selectedActionSet,d=!1,h=0;if(!this.props.bSingleMode){if(void 0==p)return console.warn("ControllerBindingHandedControllers::render - Got undefined actionSet."),null;"single"==p.usage&&(s=this.state.bMirrorBinding?"Mirrored":"",d=!this.props.bReadOnly,this.state.bMirrorBinding&&(h=2))}var f=u.a.SelectedControllerTypeLocalizedName,_=Object(c.b)("#BindingUI_LeftHandController",f),g=Object(c.b)("#BindingUI_RightHandController",f),S="BindingSection FlexRow";this.state.bScrolledBindingList&&(S+=" Scrolled");var y=this.props.bReadOnly?"View":"Edit",v=u.a.SelectedActionSetChordCount>0?Object(c.b)("#BindingUI_"+y+"Chords"):Object(c.b)("#BindingUI_AddChords"),N=u.a.BSelectedActionSetHasBoundPoses?Object(c.b)("#BindingUI_"+y+"Poses"):Object(c.b)("#BindingUI_AddPoses"),C=u.a.BSelectedActionSetHasBoundHaptics?Object(c.b)("#BindingUI_"+y+"Haptics"):Object(c.b)("#BindingUI_AddHaptics"),A=u.a.BSelectedActionSetHasBoundSkeletons?Object(c.b)("#BindingUI_"+y+"Skeleton"):Object(c.b)("#BindingUI_AddSkeleton"),B=!this.props.bReadOnly||u.a.SelectedActionSetChords&&u.a.SelectedActionSetChords.length>0;return i.createElement("div",{className:"BindingSectionWrapper "+(this.props.bSingleMode?" BindingButtonRowSingleDevice":""),onScroll:this.OnScroll,__source:{fileName:m,lineNumber:404}},i.createElement("div",{className:"BindingControllerImageColumns FlexColumn",__source:{fileName:m,lineNumber:405}},i.createElement("div",{className:"FlexRow",__source:{fileName:m,lineNumber:407}},!this.props.bSingleMode&&i.createElement("div",{className:"FlexColumn ControllerImageColumn",__source:{fileName:m,lineNumber:408}},i.createElement("img",{className:"ControllerImage ControllerImageLeft",src:o,style:{transform:n},ref:this.BindLeftControllerImage,onLoad:this.OnUpdateControllerPicturePosition,__source:{fileName:m,lineNumber:409}}),i.createElement(a.a,{onReflow:this.OnUpdateControllerPicturePosition,__source:{fileName:m,lineNumber:410}})),i.createElement("div",{className:s+" ControllerImageColumn FlexColumn",__source:{fileName:m,lineNumber:413}},i.createElement("img",{className:"ControllerImage ControllerImageRight",src:l,style:{transform:r},ref:this.BindRightControllerImage,onLoad:this.OnUpdateControllerPicturePosition,__source:{fileName:m,lineNumber:414}}),i.createElement(a.a,{onReflow:this.OnUpdateControllerPicturePosition,__source:{fileName:m,lineNumber:415}}))),i.createElement("div",{className:"FlexColumnCentered ControllerImageColumnButtons",__source:{fileName:m,lineNumber:418}},i.createElement("div",{className:"FlexFullWidthRowCentered",__source:{fileName:m,lineNumber:419}},B&&i.createElement("div",{className:"Label TitleCenter ToggleMirror ButtonControl",onClick:this.props.fnOpenChordBindingsModal,__source:{fileName:m,lineNumber:420}},v),u.a.BSelectedActionSetHasPoses&&i.createElement("div",{className:"Label TitleCenter ToggleMirror ButtonControl",onClick:this.props.fnOpenPoseBindingsModal,__source:{fileName:m,lineNumber:421}},N),u.a.BSelectedActionSetHasHaptics&&i.createElement("div",{className:"Label TitleCenter ToggleMirror ButtonControl",onClick:this.props.fnOpenHapticsBindingsModal,__source:{fileName:m,lineNumber:422}},C),u.a.BSelectedActionSetHasSkeletons&&i.createElement("div",{className:"Label TitleCenter ToggleMirror ButtonControl",onClick:this.props.fnOpenSkeletonBindingsModal,__source:{fileName:m,lineNumber:423}},A)),d&&i.createElement("div",{__source:{fileName:m,lineNumber:425}},i.createElement("input",{type:"checkbox",checked:this.state.bMirrorBinding,onChange:function(t){e.ToggleMirrorMode(t.target.checked)},__source:{fileName:m,lineNumber:425}}),i.createElement("div",{className:"Label",__source:{fileName:m,lineNumber:425}},Object(c.b)("#BindingUI_MirrorMode"))))),this.props.bSingleMode&&i.createElement("div",{className:S,__source:{fileName:m,lineNumber:429}},i.createElement("div",{className:"BindingButtonRow FlexColumn",__source:{fileName:m,lineNumber:430}},i.createElement(b,{eControllerButtonSide:0,strSVGClass:"Left",bReadOnly:this.props.bReadOnly,selectedActionSet:u.a.SelectedActionSetDetails,ptControllerImagePosition:this.state.ptRightController,__source:{fileName:m,lineNumber:431}}))),!this.props.bSingleMode&&i.createElement("div",{className:S,__source:{fileName:m,lineNumber:435}},i.createElement("div",{className:"BindingButtonRow FlexColumn",__source:{fileName:m,lineNumber:436}},i.createElement("div",{className:"Label Title ControllerTitle",__source:{fileName:m,lineNumber:437}},_),i.createElement(b,{eControllerButtonSide:1,strSVGClass:"MenuLeftLine",bReadOnly:this.props.bReadOnly,eControllerButtonOtherSide:h,selectedActionSet:this.props.selectedActionSet,ptControllerImagePosition:this.state.ptLeftController,__source:{fileName:m,lineNumber:438}})),i.createElement("div",{className:"BindingButtonRow FlexColumn "+s,__source:{fileName:m,lineNumber:441}},i.createElement("div",{className:"Label Title ControllerTitle",__source:{fileName:m,lineNumber:442}},g),i.createElement(b,{eControllerButtonSide:2,strSVGClass:"MenuRightLine",bReadOnly:this.props.bReadOnly||this.state.bMirrorBinding,selectedActionSet:this.props.selectedActionSet,ptControllerImagePosition:this.state.ptRightController,__source:{fileName:m,lineNumber:443}}))))},o.c([s.b],t.prototype,"ToggleMirrorMode",null),o.c([s.b],t.prototype,"UpdatePositionHelper",null),o.c([s.b],t.prototype,"OnUpdateControllerPicturePosition",null),o.c([s.b],t.prototype,"BindLeftControllerImage",null),o.c([s.b],t.prototype,"BindRightControllerImage",null),o.c([s.b],t.prototype,"OnScroll",null),t=o.c([r.a],t)}(i.Component),S=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.d(t,e),t.prototype.render=function(){return i.createElement("div",{__source:{fileName:m,lineNumber:479}},i.createElement("div",{className:"FlexRow",__source:{fileName:m,lineNumber:480}},i.createElement("div",{className:"Label Title",__source:{fileName:m,lineNumber:481}},"Put List of options HERE!!")))},t=o.c([r.a],t)}(i.Component)},ceep:function(e,t,n){"use strict";n.d(t,"a",function(){return S});var o=n("TToO"),i=n("GiK3"),r=(n.n(i),n("Mn8c")),l=n("NQlb"),a=n.n(l),s=n("N87Q"),c=(n.n(s),n("Ywy1")),u=n("FBH1"),p=n("mVfh"),d=n("6CG6"),m=n("nhcq"),h=n("APa2"),f=n("4PsW"),_="c:\\buildslave\\steamvr_webpack_rel_win32\\build\\src\\vrwebui\\src\\js\\inputappselectui.tsx",b=function(e){function t(t){var n=e.call(this,t)||this;return n.state={bIsVisible:!0},n}return o.d(t,e),t.prototype.CloseDialog=function(){m.a.ManifestLoadErrorClose(),this.setState({bIsVisible:!1})},t.prototype.render=function(){return i.createElement(a.a,{visible:this.state.bIsVisible,onClose:this.CloseDialog,showCloseButton:!1,animation:"fade",closeOnEsc:!0,width:"600",__source:{fileName:_,lineNumber:27}},i.createElement("div",{className:"SaveDialogWrapper FlexColumn LoadErrorDialogWrapper",__source:{fileName:_,lineNumber:28}},i.createElement("div",{className:"Label TitleCenter",__source:{fileName:_,lineNumber:29}},this.props.sError),i.createElement("div",{className:"Label",__source:{fileName:_,lineNumber:32}},Object(p.b)("#ActionManifestError_Path")+" "+this.props.sPath),i.createElement("div",{className:"FlexRow SaveBottomButtonRow LoadErrorCloseButton",__source:{fileName:_,lineNumber:33}},i.createElement("div",{onClick:this.CloseDialog,className:"ButtonControl",__source:{fileName:_,lineNumber:34}},Object(p.b)("#Button_Close")))))},o.c([u.b],t.prototype,"CloseDialog",null),t=o.c([r.a],t)}(i.Component),g=function(e){function t(t){var n=e.call(this,t)||this;return n.state={strImageURL:h.a.GetAppImageURL(n.props.app.key)},n}return o.d(t,e),t.prototype.componentWillReceiveProps=function(e){e.app.key!=this.props.app.key&&this.setState({strImageURL:h.a.GetAppImageURL(e.app.key)})},t.prototype.onImageLoadError=function(){this.setState({strImageURL:"images/steamvr_empty_app.png"})},t.prototype.render=function(){var e=this;return i.createElement("div",{className:"AppSelectContainer",onClick:function(){e.props.fnSelectApp(e.props.app.key)},__source:{fileName:_,lineNumber:65}},i.createElement("img",{src:this.state.strImageURL,onError:this.onImageLoadError,__source:{fileName:_,lineNumber:66}}),i.createElement("div",{className:"AppSelectName AllCaps",__source:{fileName:_,lineNumber:67}},this.props.app.name))},o.c([u.b],t.prototype,"onImageLoadError",null),t=o.c([r.a],t)}(i.Component),S=function(e){function t(t){var n=e.call(this,t)||this;return n.m_bInHeadset=!1,n.state={bAppSelectListScrolled:!1},n.m_bInHeadset=c.e.IsAvailable()&&!m.a.DesktopMode,n}return o.d(t,e),t.prototype.SelectApplication=function(e){d.a.SetSelectedApp(e),m.a.ShowBindingList()},t.prototype.OnScroll=function(e){this.setState({bAppSelectListScrolled:e.currentTarget.scrollTop>0})},t.prototype.render=function(){var e=this,t=h.a.GetApp("openvr.component.vrcompositor"),n=h.a.GetApp("openvr.tool.steamvr_environments"),o=h.a.GetRecentApps();n||(n=t);var r="AppSelectPageWrapper",l=Object(p.b)("#AppSelect_LastRunApp"),a=o.filter(function(e){return e.key!=n.key}),s=h.a.GetCurrentSceneProcess();s&&s.key!=n.key?(r+=" RunningApp",l=Object(p.b)("#AppSelect_CurrentApp")):s=a.length>1?a.slice(1,2)[0]:a[0],a=a.filter(function(e){return e.key!=s.key}),a=a.slice(0,6);var c="FlexRowWithWrap AppSelectWrapper";return this.state.bAppSelectListScrolled&&(c+=" Scrolled"),i.createElement("div",{className:r,__source:{fileName:_,lineNumber:124}},i.createElement(f.a,{fnOnClick:m.a.ReturnToSettingsUI,strTitle:Object(p.b)("#AppSelect_Title"),bShowBackButton:this.m_bInHeadset,__source:{fileName:_,lineNumber:125}}),i.createElement("div",{className:"FlexFullWidthRowCentered",__source:{fileName:_,lineNumber:126}},i.createElement("div",{className:"FlexColumn",__source:{fileName:_,lineNumber:127}},i.createElement("div",{className:"AppSelectTitle AllCaps",__source:{fileName:_,lineNumber:128}},l),s&&i.createElement(g,{app:s,fnSelectApp:this.SelectApplication,__source:{fileName:_,lineNumber:129}}),i.createElement("div",{className:"AppSelectTitle AllCaps",__source:{fileName:_,lineNumber:130}},Object(p.b)("#AppSelect_RecentApp"))),i.createElement("div",{className:"FlexColumn",__source:{fileName:_,lineNumber:132}},i.createElement("div",{className:"AppSelectTitle AllCaps",__source:{fileName:_,lineNumber:133}},Object(p.b)("#AppSelect_CoreSteamVRApps")),i.createElement("div",{className:"FlexRow",__source:{fileName:_,lineNumber:134}},t&&i.createElement(g,{app:t,fnSelectApp:this.SelectApplication,__source:{fileName:_,lineNumber:135}}),n&&i.createElement(g,{app:n,fnSelectApp:this.SelectApplication,__source:{fileName:_,lineNumber:136}})))),i.createElement("div",{className:c,onScroll:this.OnScroll,__source:{fileName:_,lineNumber:140}},a.map(function(t,n){return i.createElement(g,{key:n,app:t,fnSelectApp:e.SelectApplication,__source:{fileName:_,lineNumber:141}})})),m.a.ShowManifestError&&i.createElement(b,{sError:m.a.ManifestError,sPath:m.a.ManifestErrorPath,__source:{fileName:_,lineNumber:143}}))},o.c([u.b],t.prototype,"SelectApplication",null),o.c([u.b],t.prototype,"OnScroll",null),t=o.c([r.a],t)}(i.Component)},hVJl:function(e,t){function n(){i=0}function o(e){var t;arguments.length>1&&"string"!=typeof(t=arguments[1])&&(console.log("Warning: Expected string as second argument passed to `injectUniqueness`"),t=""+t);var n=e.componentWillUpdate,o={},r=0,l=t||++i;e.componentWillUpdate=function(t,o){r=0,void 0!==n&&n.apply(e,t,o)},e.nextUniqueId=function(){return++r,"id-"+l+"-"+r},e.lastUniqueId=function(){return"id-"+l+"-"+r},e.getUniqueId=function(e){return"string"!=typeof e&&(console.log("Warning: Expected string identifer passed to `getUniqueId`"),e=""+e),o[e]||(o[e]="id-"+l+"-"+e),o[e]}}var i=0;e.exports={resetUniqueIds:n,enableUniqueIds:o}},nhcq:function(e,t,n){"use strict";n.d(t,"b",function(){return o}),n.d(t,"a",function(){return h});var o,i=n("TToO"),r=n("FBH1"),l=n("y986"),a=n("Ywy1"),s=n("mVfh"),c=n("6CG6"),u=n("APa2"),p=n("J4P+"),d=n("EKNN");!function(e){e[e.None=0]="None",e[e.List=1]="List",e[e.ViewBinding=2]="ViewBinding",e[e.EditBinding=3]="EditBinding",e[e.AppSelect=4]="AppSelect",e[e.Debugger=5]="Debugger",e[e.TrackerEdit=6]="TrackerEdit"}(o||(o={}));var m=function(){function e(){this.m_State=o.None,this.m_bLoading=!1,this.m_rBindingList=void 0,this.m_bShowBindingListError=!1,this.m_sBindingListError=void 0,this.m_timeoutLoading=void 0,this.m_pathUpdateTimer=void 0,this.m_bShowManifestError=!1,this.m_sManifestError=void 0,this.m_sManifestErrorPath=void 0,this.m_bTrackerEditStandalone=!1,this.m_bDesktopMode=!1}return e.prototype.Init=function(){window.addEventListener("popstate",this.OnPopState),history.pushState({direction:"back"},"back"),history.pushState({direction:"current"},"current"),history.pushState({direction:"forward"},"forward"),history.back(),this.m_mailbox=new d.a,this.m_mailbox.Init("bindingui"),this.m_mailbox.RegisterHandler("show_tracker_ui",this.OnShowTrackerUI),this.m_mailbox.RegisterHandler("show_app_select",this.OnShowAppSelect),Object(l.d)(this.UpdateWindowTitle)},e.prototype.OnShowTrackerUI=function(e){this.m_bTrackerEditStandalone=!0,this.ShowTrackerEdit()},e.prototype.OnShowAppSelect=function(e){this.m_bTrackerEditStandalone=!1,this.ShowAppSelect()},e.prototype.OnTrackerBack=function(){this.m_bTrackerEditStandalone?(this.ReturnToSettingsUI(),this.ShowAppSelect()):this.ShowBindingList()},e.prototype.SetTrackerEditStandalone=function(e){this.m_bTrackerEditStandalone=e},Object.defineProperty(e.prototype,"ShouldShowTrackerBackButton",{get:function(){return!this.m_bTrackerEditStandalone||!this.m_bDesktopMode},enumerable:!0,configurable:!0}),e.prototype.SetDesktopMode=function(e){this.m_bDesktopMode=e},Object.defineProperty(e.prototype,"DesktopMode",{get:function(){return this.m_bDesktopMode},enumerable:!0,configurable:!0}),e.prototype.SetBindingListError=function(e){this.m_bShowBindingListError=void 0!=e,this.m_sBindingListError=e},Object.defineProperty(e.prototype,"ShowBindingListError",{get:function(){return this.m_bShowBindingListError},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"BindingListError",{get:function(){return this.m_sBindingListError},enumerable:!0,configurable:!0}),e.prototype.OnPopState=function(e){var t="";e.state&&e.state.direction&&(t=e.state.direction),"back"==t?(history.forward(),this.GoBackPage()):"forward"==t&&(history.back(),this.GoForwardPage())},e.prototype.GoBackPage=function(){switch(this.m_State){default:case o.None:case o.AppSelect:break;case o.List:this.ShowAppSelect();break;case o.TrackerEdit:case o.EditBinding:case o.ViewBinding:this.ShowBindingList()}},e.prototype.GoForwardPage=function(){switch(this.m_State){default:case o.None:case o.AppSelect:this.ShowBindingList();break;case o.List:this.CurrentBinding.url==c.a.LoadedBindingURL?this.EditCurrentBinding():this.ViewCurrentBinding();break;case o.EditBinding:case o.ViewBinding:case o.TrackerEdit:}},Object.defineProperty(e.prototype,"GetUIState",{get:function(){return this.m_State},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"BindingQueryResults",{get:function(){return this.m_rBindingList},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Loading",{get:function(){return this.m_bLoading},set:function(e){var t=this;this.m_bLoading=e,e?(this.m_timeoutLoading&&clearTimeout(this.m_timeoutLoading),this.m_timeoutLoading=setTimeout(function(){t.Loading=!1},1e4)):this.m_timeoutLoading&&clearTimeout(this.m_timeoutLoading)},enumerable:!0,configurable:!0}),e.prototype.IsSafeToResetControllerType=function(e,t){return this.m_State==o.AppSelect||this.m_State==o.None||"TrackedDeviceClass_HMD"==e&&"TrackedDeviceClass_Controller"==t&&this.m_State!=o.TrackerEdit},e.prototype.EditCurrentBinding=function(){this.m_State=o.EditBinding},e.prototype.ViewCurrentBinding=function(){this.m_State=o.ViewBinding},e.prototype.ShowBindingList=function(e){var t=this;void 0===e&&(e=void 0),this.m_bTrackerEditStandalone=!1,this.Loading=!0,this.RefreshBindingList().then(function(){t.SetBindingListError(e),t.Loading=!1,t.m_State=o.List}).catch(function(){t.Loading=!1})},Object.defineProperty(e.prototype,"CurrentBinding",{get:function(){if(this.BindingQueryResults)return h.BindingQueryResults.find(function(e){return e.url==c.a.SelectedBindingURL})},enumerable:!0,configurable:!0}),e.prototype.ReturnToSettingsUI=function(){this.ShowAppSelect(),this.IsRunningInDashboard&&a.e.ShowSettingsUI()},e.prototype.ShowAppSelect=function(){var e=this;this.m_bTrackerEditStandalone=!1,this.Loading=!0,u.a.UpdateApplications().then(function(){e.Loading=!1,e.m_State=o.AppSelect}).catch(function(){e.Loading=!1})},e.prototype.UpdatePathsTimeout=function(){var e=this;try{p.a.UpdatePaths().then(function(){e.m_State==o.Debugger?e.m_pathUpdateTimer=setTimeout(e.UpdatePathsTimeout,500):e.m_pathUpdateTimer=void 0})}catch(e){console.log("Stopping debugger timer because",e)}},e.prototype.ShowDebugger=function(){var e=this;this.Loading=!0,u.a.UpdateApplications().then(function(){e.Loading=!1;var t=u.a.GetApp(c.a.SelectedApp);t&&t.client_container_handle&&p.a.AddSubscribedContainer(t.client_container_handle),e.m_State=o.Debugger,e.m_pathUpdateTimer=setTimeout(e.UpdatePathsTimeout,500)}).catch(function(){e.Loading=!1})},e.prototype.ShowTrackerEdit=function(){this.m_State=o.TrackerEdit},e.prototype.ShouldShowBindingFailure=function(){return this.m_State!=o.TrackerEdit},e.prototype.RefreshBindingList=function(){return i.b(this,void 0,void 0,function(){var e=this;return i.e(this,function(t){switch(t.label){case 0:return this.Loading=!0,[4,new Promise(function(t,n){var o=c.a.SelectedControllerTypeInfo;c.a.QueryBindingList(c.a.SelectedApp,o?o.name:"").then(function(n){n.success&&(e.m_rBindingList=n.results,e.Loading=!1,t())}).catch(function(){e.Loading=!1})})];case 1:return t.sent(),[2]}})})},Object.defineProperty(e.prototype,"IsRunningInDashboard",{get:function(){return a.e.IsAvailable()},enumerable:!0,configurable:!0}),e.prototype.ShowActionManifestLoadFailed=function(e,t,n,o){var i=u.a.GetApp(e);this.m_sManifestError=Object(s.b)(t,i?i.name:e,n),this.m_sManifestErrorPath=o,this.m_bShowManifestError=!0,this.ShowAppSelect()},e.prototype.ManifestLoadErrorClose=function(){this.m_sManifestError=void 0,this.m_sManifestErrorPath=void 0,this.m_bShowManifestError=!1},Object.defineProperty(e.prototype,"ShowManifestError",{get:function(){return this.m_bShowManifestError},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ManifestError",{get:function(){return this.m_sManifestError},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ManifestErrorPath",{get:function(){return this.m_sManifestErrorPath},enumerable:!0,configurable:!0}),e.prototype.ShowActionOrigins=function(e,t,n){var o=this;u.a.UpdateApplications().then(function(){c.a.SetSelectedApp(e),t&&c.a.SetSelectedActionSet(t),h.ViewCurrentBinding(),o.IsRunningInDashboard&&a.e.ShowBindingUI()})},e.prototype.UpdateWindowTitle=function(){var e=this;setTimeout(function(){switch(e.GetUIState){case o.AppSelect:case o.Debugger:case o.EditBinding:case o.List:case o.None:case o.ViewBinding:document.title=Object(s.b)("#BindingUI_WindowTitle_ControllerBinding");break;case o.TrackerEdit:document.title=Object(s.b)("#BindingUI_WindowTitle_ManageTrackers")}},0)},i.c([l.l],e.prototype,"m_State",void 0),i.c([l.l],e.prototype,"m_bLoading",void 0),i.c([l.l],e.prototype,"m_rBindingList",void 0),i.c([l.l],e.prototype,"m_bShowBindingListError",void 0),i.c([l.l],e.prototype,"m_sBindingListError",void 0),i.c([l.l],e.prototype,"m_bShowManifestError",void 0),i.c([l.l],e.prototype,"m_sManifestError",void 0),i.c([l.l],e.prototype,"m_sManifestErrorPath",void 0),i.c([l.l],e.prototype,"m_bDesktopMode",void 0),i.c([r.b],e.prototype,"OnShowTrackerUI",null),i.c([r.b],e.prototype,"OnShowAppSelect",null),i.c([r.b],e.prototype,"OnTrackerBack",null),i.c([l.e],e.prototype,"ShouldShowTrackerBackButton",null),i.c([l.e],e.prototype,"DesktopMode",null),i.c([r.b],e.prototype,"SetBindingListError",null),i.c([l.e],e.prototype,"ShowBindingListError",null),i.c([l.e],e.prototype,"BindingListError",null),i.c([r.b],e.prototype,"OnPopState",null),i.c([r.b],e.prototype,"GoBackPage",null),i.c([r.b],e.prototype,"GoForwardPage",null),i.c([l.e],e.prototype,"GetUIState",null),i.c([l.e],e.prototype,"BindingQueryResults",null),i.c([l.e],e.prototype,"Loading",null),i.c([r.b],e.prototype,"IsSafeToResetControllerType",null),i.c([r.b],e.prototype,"EditCurrentBinding",null),i.c([r.b],e.prototype,"ViewCurrentBinding",null),i.c([r.b],e.prototype,"ShowBindingList",null),i.c([l.e],e.prototype,"CurrentBinding",null),i.c([r.b],e.prototype,"ReturnToSettingsUI",null),i.c([r.b],e.prototype,"ShowAppSelect",null),i.c([r.b],e.prototype,"UpdatePathsTimeout",null),i.c([r.b],e.prototype,"ShowDebugger",null),i.c([r.b],e.prototype,"ShowTrackerEdit",null),i.c([r.b],e.prototype,"RefreshBindingList",null),i.c([l.e],e.prototype,"IsRunningInDashboard",null),i.c([l.c],e.prototype,"ShowActionManifestLoadFailed",null),i.c([l.c],e.prototype,"ManifestLoadErrorClose",null),i.c([l.e],e.prototype,"ShowManifestError",null),i.c([l.e],e.prototype,"ManifestError",null),i.c([l.e],e.prototype,"ManifestErrorPath",null),i.c([l.c],e.prototype,"ShowActionOrigins",null),i.c([r.b],e.prototype,"UpdateWindowTitle",null),e}(),h=new m;window.inputUI=h},rG7K:function(e,t,n){"use strict";n.d(t,"a",function(){return f});var o=n("TToO"),i=n("GiK3"),r=(n.n(i),n("Mn8c")),l=n("FBH1"),a=n("mVfh"),s=n("6CG6"),c=n("nhcq"),u=n("4PsW"),p=n("6Pre"),d=n("4cAU"),m="c:\\buildslave\\steamvr_webpack_rel_win32\\build\\src\\vrwebui\\src\\js\\trackereditor.tsx",h=function(e){function t(t){var n=e.call(this,t)||this;return n.deviceUpdateInterval=setInterval(n.UpdateConnectedDeviceStatus,500),n.state={bShowingFullDevicePath:!1},n}return o.d(t,e),t.prototype.componentWillUnmount=function(){clearInterval(this.deviceUpdateInterval)},t.prototype.OnTrackerRoleChanged=function(e){s.a.SetTrackerBinding(this.props.trackerConfig.device_path_string,e,this.props.trackerConfig.controller_role)},t.prototype.OnControllerRoleChanged=function(e){s.a.SetTrackerBinding(this.props.trackerConfig.device_path_string,this.props.trackerConfig.role,e)},t.prototype.BuzzTracker=function(){s.a.PulseHaptics(this.props.trackerConfig.device_path_handle)},t.prototype.ShowFullDevicePath=function(){this.setState({bShowingFullDevicePath:!0})},t.prototype.UpdateConnectedDeviceStatus=function(){var e=this;if(!d.a||!d.a.devices)return void this.setState({deviceStatus:null});var t=d.a.devices.filter(function(t){return t.device_path_string==e.props.trackerConfig.device_path_string});if(t.length>0)return void this.setState({deviceStatus:t[0]});this.setState({deviceStatus:null})},t.prototype.IsConnected=function(){return!!this.state.deviceStatus&&this.state.deviceStatus.is_connected},t.prototype.render=function(){var e=this.props.validTrackerRoles.map(function(e){return new p.b(e,Object(a.b)("#"+e))}),t=[];if("TrackerRole_Handed"==this.props.trackerConfig.role){t=["TrackedControllerRole_Invalid","TrackedControllerRole_LeftHand","TrackedControllerRole_RightHand"].map(function(e){return new p.b(e,Object(a.b)("#"+e))})}var n=this.props.trackerConfig.device_path_string;!this.state.bShowingFullDevicePath&&n.includes("vive_tracker")&&(n=n.substring(n.indexOf("vive_tracker")+"vive_tracker".length,n.length));var o="",r="&nbsp;";return d.a.connected&&(o=r=this.IsConnected()?"Connected":"Disconnected"),i.createElement("div",{className:"FlexRow TrackerEntry "+o,__source:{fileName:m,lineNumber:76}},i.createElement("div",{className:"FlexRow",__source:{fileName:m,lineNumber:77}},i.createElement("div",{className:"Title Label",__source:{fileName:m,lineNumber:78}},Object(a.b)("#TrackerEditor_SelectRole")),i.createElement(p.a,{vecOptions:e,sMainButtonClass:"RoleDropdownLabel",sModalClass:"PinTop",sValueSelectedItem:this.props.trackerConfig.role,sLocalizedSelectedItem:Object(a.b)("#"+this.props.trackerConfig.role),fnOptionSelected:this.OnTrackerRoleChanged,__source:{fileName:m,lineNumber:79}}),t.length>0&&i.createElement("div",{className:"FlexColumn",__source:{fileName:m,lineNumber:81}},i.createElement(p.a,{vecOptions:t,sMainButtonClass:"RoleDropdownLabel",sModalClass:"PinTop",sValueSelectedItem:this.props.trackerConfig.controller_role,sLocalizedSelectedItem:Object(a.b)("#"+this.props.trackerConfig.controller_role),fnOptionSelected:this.OnControllerRoleChanged,__source:{fileName:m,lineNumber:82}}))),i.createElement("div",{className:"FlexRow BottomRow",__source:{fileName:m,lineNumber:87}},i.createElement("div",{className:"Title TrackerPath",onClick:this.ShowFullDevicePath,__source:{fileName:m,lineNumber:88}},n),i.createElement("div",{className:"Title TrackerConnected",dangerouslySetInnerHTML:{__html:r},__source:{fileName:m,lineNumber:89}}),i.createElement("div",{className:"Label ButtonControl",onClick:this.BuzzTracker,__source:{fileName:m,lineNumber:90}},Object(a.b)("#TrackerEditor_BuzzTracker"))))},o.c([l.b],t.prototype,"OnTrackerRoleChanged",null),o.c([l.b],t.prototype,"OnControllerRoleChanged",null),o.c([l.b],t.prototype,"BuzzTracker",null),o.c([l.b],t.prototype,"ShowFullDevicePath",null),o.c([l.b],t.prototype,"UpdateConnectedDeviceStatus",null),t=o.c([r.a],t)}(i.Component),f=function(e){function t(t){var n=e.call(this,t)||this;return d.a.Init(),n}return o.d(t,e),t.prototype.render=function(){var e=s.a.TrackerBindings,t=void 0;return e&&e.trackers&&(t=e.trackers.map(function(t,n){return i.createElement(h,{key:n,trackerConfig:t,validTrackerRoles:e.valid_roles,__source:{fileName:m,lineNumber:126}})})),i.createElement("div",{className:"FlexRowWithWrap",__source:{fileName:m,lineNumber:128}},i.createElement(u.a,{fnOnClick:c.a.OnTrackerBack,strTitle:Object(a.b)("#TrackerEditor_Title"),bShowBackButton:c.a.ShouldShowTrackerBackButton,__source:{fileName:m,lineNumber:129}}),t&&i.createElement("div",{className:"FlexFullWidthRowCentered TrackerEditorMainContentWrapper",__source:{fileName:m,lineNumber:131}},t))},t=o.c([r.a],t)}(i.Component)},tieU:function(e,t,n){"use strict";n.d(t,"a",function(){return x}),n.d(t,"b",function(){return j}),n.d(t,"c",function(){return U}),n.d(t,"k",function(){return V}),n.d(t,"d",function(){return W}),n.d(t,"h",function(){return H}),n.d(t,"i",function(){return z}),n.d(t,"j",function(){return q}),n.d(t,"e",function(){return Q}),n.d(t,"f",function(){return K}),n.d(t,"g",function(){return J});var o=n("TToO"),i=n("GiK3"),r=(n.n(i),n("Mn8c")),l=n("y986"),a=n("FBH1"),s=n("mVfh"),c=n("6CG6"),u=n("NQlb"),p=n.n(u),d=n("hVJl"),m=(n.n(d),n("N87Q")),h=(n.n(m),n("6Pre")),f="c:\\buildslave\\steamvr_webpack_rel_win32\\build\\src\\vrwebui\\src\\js\\controllerbinding_sourcemodes.tsx",_=function(e){function t(t){var n=e.call(this,t)||this;return n.state={bShowDeleteConfirmModal:!1},n}return o.d(t,e),t.prototype.OnDelete=function(){this.setState({bShowDeleteConfirmModal:!0})},t.prototype.OnDeleteConfirmed=function(){var e=this;this.setState({bShowDeleteConfirmModal:!1}),this.props.bReadOnly||this.props.controllerWatcher.forEach(function(t){t.DeleteInputMode(e.props.iMode)})},t.prototype.OnDeleteCancel=function(){this.setState({bShowDeleteConfirmModal:!1})},t.prototype.OnSourceModeChanged=function(e){var t=this;this.props.controllerWatcher.forEach(function(n){n.SetInputMode(e,t.props.iMode)})},t.prototype.renderDeleteConfirmModal=function(){var e=this.props.controllerWatcher[0];return i.createElement(p.a,{visible:this.state.bShowDeleteConfirmModal,onClose:this.OnDeleteCancel,showCloseButton:!1,animation:"fade",className:"ModeSettingsModal",closeOnEsc:!0,__source:{fileName:f,lineNumber:38}},this.state.bShowDeleteConfirmModal&&i.createElement("div",{className:"FlexFullHeightColumnCentered",__source:{fileName:f,lineNumber:40}},i.createElement("div",{className:"Label",__source:{fileName:f,lineNumber:41}},Object(s.b)("#BindingUI_Mode_Delete_Confirm",Object(s.b)("#SourceInputMode_"+e.GetMode(this.props.iMode)),e.GetControllerInputName)),i.createElement("div",{className:"FlexRow",__source:{fileName:f,lineNumber:42}},i.createElement("div",{className:"ButtonControl",onClick:this.OnDeleteConfirmed,__source:{fileName:f,lineNumber:43}},Object(s.b)("#Button_Delete")),i.createElement("div",{className:"ButtonControl",onClick:this.OnDeleteCancel,__source:{fileName:f,lineNumber:44}},Object(s.b)("#Button_Cancel")))))},t.prototype.render=function(){var e=this.props.controllerWatcher[0];if(!this.props.bEditMode)return i.createElement("div",{className:"FlexRow BindingHeaderWrapper",__source:{fileName:f,lineNumber:52}},i.createElement("div",{className:"Label BindingLabel ReadOnly BindingHeader",__source:{fileName:f,lineNumber:53}},Object(s.b)("#SourceInputMode_UseAs",Object(s.b)("#SourceInputMode_"+e.GetMode(this.props.iMode)))),!this.props.bReadOnly&&i.createElement("img",{className:"ActionButtonImage SourceModeButtonImage FlexRightAlignChild",src:"images/bindingui/icon_trash.svg",onClick:this.OnDelete,__source:{fileName:f,lineNumber:54}}),this.renderDeleteConfirmModal());var t=c.a.GetInputModesForSourceType(e.GetInputSourceType,e.GetInputSourceForceSupport);if(0==t.length)return null;var n=t.map(function(e,t){return new h.b(e,Object(s.b)("#SourceInputMode_"+e))});n.push(new h.b("none",Object(s.b)("#SourceInputMode_none")));var o=1==e.GetButtonSide?"#BindingUI_LeftHandController":"#BindingUI_RightHandController",r=c.a.SelectedControllerTypeLocalizedName;0!=e.GetButtonSide&&(r=Object(s.b)(o,r,""));var l=Object(s.b)("#SourceInputMode_SelectMode",r,e.GetControllerInputName);return i.createElement("div",{className:"FlexRow BindingHeaderWrapper",__source:{fileName:f,lineNumber:68}},i.createElement(h.a,{sModalTitleString:l,vecOptions:n,sValueSelectedItem:e.GetMode(this.props.iMode),bShowOptionsOnStart:this.props.bShowModeOptionsDropDownOnStart,sLocalizedSelectedItem:Object(s.b)("#SourceInputMode_"+e.GetMode(this.props.iMode)),fnOptionSelected:this.OnSourceModeChanged,__source:{fileName:f,lineNumber:69}}),i.createElement("img",{className:"ActionButtonImage SourceModeButtonImage FlexRightAlignChild",src:"images/bindingui/icon_trash.svg",onClick:this.OnDelete,__source:{fileName:f,lineNumber:70}}),this.renderDeleteConfirmModal())},o.c([a.b],t.prototype,"OnDelete",null),o.c([a.b],t.prototype,"OnDeleteConfirmed",null),o.c([a.b],t.prototype,"OnDeleteCancel",null),o.c([a.b],t.prototype,"OnSourceModeChanged",null),o.c([a.b],t.prototype,"renderDeleteConfirmModal",null),t=o.c([r.a],t)}(i.Component),b=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.d(t,e),t.prototype.render=function(){var e=void 0==this.props.SelectedAction?"none":this.props.SelectedAction.name,t=void 0==this.props.SelectedAction?Object(s.b)("#SourceInputAction_none"):this.props.SelectedAction.localized_name,n="FlexRow BindingActionWrapper";void 0==this.props.SelectedAction&&(n+=" None");var o="Label BindingLabel";return this.props.bReadOnly&&(o+=" ReadOnly"),i.createElement("div",{className:n,__source:{fileName:f,lineNumber:114}},i.createElement("div",{className:o,__source:{fileName:f,lineNumber:115}},Object(s.b)(this.props.sLocalizedInputType)),!this.props.bReadOnly&&i.createElement(h.a,{vecOptions:this.props.vecOptions,sValueSelectedItem:e,sHeaderClass:"BindingLabelAction",sLocalizedSelectedItem:t,fnOptionSelected:this.props.fnOptionSelected,__source:{fileName:f,lineNumber:116}}),this.props.bReadOnly&&i.createElement("div",{className:o+" BindingLabelAction",__source:{fileName:f,lineNumber:117}},t))},t}(i.Component),g=function(e){function t(t){var n=e.call(this,t)||this;return n.state={bEditMode:n.props.bStartInEditMode,bSettingsVisible:!1},n}return o.d(t,e),t.prototype.componentWillReceiveProps=function(e){e.bReadOnly&&this.state.bEditMode&&(this.setState({bEditMode:!1}),this.props.ParentEdit(!1)),e.sActionSet!=this.props.sActionSet&&this.LoadDefaults()},t.prototype.LoadDefaults=function(){var e=this;if(void 0!=this.defaultProperties)for(var t=this.props.controllerWatcher[0],n=(t.GetInputSourceClickSupport&&t.GetClickAction(this.props.iMode),this),o=0,i=this.defaultProperties;o<i.length;o++){var r=i[o];!function(t){n.props.controllerWatcher.forEach(function(n){var o=n.GetParameter(e.props.iMode,t.mode,t.property);o=null==o?t.default:"float"==t.type?parseFloat(o):"int"==t.type?parseInt(o):"bool"==t.type?"true"==o||"1"==o:o.toString(),e.state[t.variableName]=o})}(r)}},t.prototype.EnsurePropertySet=function(e){for(var t=this,n=!1,o=this,i=0,r=this.defaultProperties;i<r.length;i++){var l=r[i];if("break"===function(i){if(i.property==e)return n=!0,o.props.controllerWatcher.forEach(function(e){if(null==e.GetParameter(t.props.iMode,i.mode,i.property)){console.log("Setting currently unset param to default: ",e.GetParameter(t.props.iMode,i.mode,i.property),t.props.iMode,i.mode,i.property,i.default.toString()),e.SetParameter(t.props.iMode,i.mode,i.property,i.default.toString());var n={};n[i.variableName]=i.default,t.setState(n)}}),"break"}(l))break}n||console.log("Tried to ensure property value %s was set, which is not in the property map.",e)},t.prototype.onPropertyChanged=function(e,t){for(var n=this,o=!1,i=this,r=0,l=this.defaultProperties;r<l.length;r++){var a=l[r];if("break"===function(r){if(r.property==e){o=!0;var l={};return l[r.variableName]=t,i.setState(l),i.props.controllerWatcher.forEach(function(e){e.SetParameter(n.props.iMode,r.mode,r.property,t.toString())}),"break"}}(a))break}o||console.log("Tried to set property %s which is not in the property map.",e)},t.prototype.onPropertyReset=function(e){for(var t=this,n=this,o=0,i=this.defaultProperties;o<i.length;o++){var r=i[o];!function(o){if(o.property==e){var i={};i[o.variableName]=o.default,n.setState(i),n.props.controllerWatcher.forEach(function(e){e.SetParameter(t.props.iMode,o.mode,o.property,void 0)})}}(r)}},t.prototype.OnEdit=function(e){this.props.bReadOnly||this.state.bEditMode==e||(this.setState({bEditMode:e}),this.props.ParentEdit(e),e&&this.props.controllerWatcher[0].ClearNewModeIfSet(this.props.iMode))},t.prototype.OnShowModeSettings=function(){this.setState({bSettingsVisible:!0})},t.prototype.CloseModeSettings=function(){this.setState({bSettingsVisible:!1})},t.prototype.BModeHasSettings=function(){return!1},t.prototype.renderSettingsModal=function(){var e={width:"80%",maxWidth:"40em",height:"fit-content",maxHeight:"90%",display:"flex",padding:"0px"};return i.createElement(p.a,{visible:this.state.bSettingsVisible,customStyles:e,onClose:this.CloseModeSettings,showCloseButton:!1,animation:"fade",className:"ModeSettingsModal",closeOnEsc:!0,__source:{fileName:f,lineNumber:272}},this.state.bSettingsVisible&&this.renderSettingsContent())},t.prototype.renderSettingsContent=function(){return i.createElement("div",{__source:{fileName:f,lineNumber:277}})},t.prototype.renderFooter=function(){var e=this;return this.props.bReadOnly?i.createElement("div",{className:"FlexFullHeightColumnCentered SourceModeFooterWrapper",__source:{fileName:f,lineNumber:282}}):i.createElement("div",{className:"FlexFullHeightColumnCentered SourceModeFooterWrapper",__source:{fileName:f,lineNumber:283}},i.createElement("hr",{className:"SourceModeFooterHR",__source:{fileName:f,lineNumber:284}}),!this.state.bEditMode&&i.createElement("img",{className:"ActionButtonImage SourceModeButtonImage SourceModeFooterEdit",src:"images/bindingui/icon_edit.svg",onClick:function(t){e.OnEdit(!e.state.bEditMode)},__source:{fileName:f,lineNumber:285}}),this.state.bEditMode&&i.createElement("div",{className:"FlexFullWidthRowLeftJustified SourceModeFooterButtons",__source:{fileName:f,lineNumber:287}},i.createElement("img",{className:"ActionButtonImage SourceModeButtonImage SourceModeFooterEdit",src:"images/bindingui/icon_done.svg",onClick:function(t){e.OnEdit(!e.state.bEditMode)},__source:{fileName:f,lineNumber:288}}),this.BModeHasSettings()&&i.createElement("img",{className:"ActionButtonImage SourceModeButtonImage FlexRightAlignChild",src:"images/bindingui/icon_settings.svg",onClick:this.OnShowModeSettings,__source:{fileName:f,lineNumber:289}})))},t.prototype.renderHeader=function(){var e=this.BModeHasSettings();return i.createElement("div",{__source:{fileName:f,lineNumber:295}},i.createElement(_,{controllerWatcher:this.props.controllerWatcher,iMode:this.props.iMode,bReadOnly:this.props.bReadOnly,bEditMode:this.state.bEditMode,bShowModeOptionsDropDownOnStart:this.props.bShowModeOptionsDropDownOnStart,__source:{fileName:f,lineNumber:296}}),e&&this.renderSettingsModal())},Object.defineProperty(t.prototype,"WrapperClasses",{get:function(){var e="SourceModeGroup FlexColumn";return this.state.bEditMode&&(e+=" Edit"),e},enumerable:!0,configurable:!0}),o.c([a.b],t.prototype,"onPropertyChanged",null),o.c([a.b],t.prototype,"onPropertyReset",null),o.c([a.b],t.prototype,"OnEdit",null),o.c([a.b],t.prototype,"OnShowModeSettings",null),o.c([a.b],t.prototype,"CloseModeSettings",null),o.c([a.b],t.prototype,"renderFooter",null),o.c([a.b],t.prototype,"renderHeader",null),o.c([l.e],t.prototype,"WrapperClasses",null),t}(i.Component),S=.25,y=S,v=.2,N=v,C=50,A=25,B=1,O=.25,I=.1,M=.1,E=.2,w=.005,T=.01,k=.1,P=0,L=20,R=.2,F=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.d(t,e),t.prototype.render=function(){var e=this;return i.createElement("div",{className:"FlexRow InputSettingsRow",__source:{fileName:f,lineNumber:365}},i.createElement("label",{className:"InputSettingsLabel",htmlFor:this.props.elementId,__source:{fileName:f,lineNumber:366}},this.props.label),i.createElement("div",{className:"FlexColumn InputSettingsInputContainer",__source:{fileName:f,lineNumber:367}},i.createElement("div",{__source:{fileName:f,lineNumber:368}},i.createElement("input",{id:this.props.elementId,type:"range",min:this.props.min,max:this.props.max,step:this.props.step,value:this.props.value,onChange:function(t){e.props.onChange(parseFloat(t.target.value))},__source:{fileName:f,lineNumber:369}})),i.createElement("div",{className:"Label RangeLabel",__source:{fileName:f,lineNumber:371}},this.props.renderValue(this.props.value))),this.props.onReset&&i.createElement("div",{className:"InputSettingsResetButton",onClick:this.props.onReset,__source:{fileName:f,lineNumber:373}},Object(s.b)("#SourceInputMode_ResetParameterToDefault")))},t}(i.Component),D=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.d(t,e),t.prototype.render=function(){var e=this;return i.createElement("div",{className:"FlexRow InputSettingsRow",__source:{fileName:f,lineNumber:385}},i.createElement("label",{className:"InputSettingsLabel",htmlFor:this.props.elementId,__source:{fileName:f,lineNumber:386}},this.props.label),i.createElement("div",{className:"FlexColumn InputSettingsInputContainer",__source:{fileName:f,lineNumber:387}},i.createElement("input",{id:this.props.elementId,type:"checkbox",checked:this.props.value,onChange:function(t){e.props.onChange(t.target.checked)},__source:{fileName:f,lineNumber:388}})),i.createElement("div",{className:"InputSettingsResetButton",onClick:this.props.onReset,__source:{fileName:f,lineNumber:390}},Object(s.b)("#SourceInputMode_ResetParameterToDefault")))},t}(i.Component),G=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.d(t,e),t.prototype.render=function(){return i.createElement("div",{className:"FlexRow InputSettingsRow",__source:{fileName:f,lineNumber:401}},i.createElement("label",{className:"InputSettingsLabel",htmlFor:this.props.elementId,__source:{fileName:f,lineNumber:402}},this.props.label),i.createElement("div",{className:"FlexColumn InputSettingsInputContainer",__source:{fileName:f,lineNumber:403}},i.createElement(h.a,{vecOptions:this.props.vecValues,sValueSelectedItem:this.props.selectedValue,sHeaderClass:"BindingLabelAction",sLocalizedSelectedItem:this.props.selectedValueLocalized,fnOptionSelected:this.props.onChange,__source:{fileName:f,lineNumber:404}})),i.createElement("div",{className:"InputSettingsResetButton",onClick:this.props.onReset,__source:{fileName:f,lineNumber:406}},Object(s.b)("#SourceInputMode_ResetParameterToDefault")))},t}(i.Component),x=function(e){function t(t){var n=e.call(this,t)||this,o=n.props.controllerWatcher[0].GetInputSource,i=o.value||o.force?R:0;return n.defaultProperties=[{property:"click_activate_threshold",default:S,type:"float",variableName:"flClickActivateSensitivity",mode:"click"},{property:"touch_activate_threshold",default:y,type:"float",variableName:"flTouchActivateSensitivity",mode:"touch"},{property:"click_deactivate_threshold",default:v,type:"float",variableName:"flClickDeactivateSensitivity",mode:"click"},{property:"touch_deactivate_threshold",default:N,type:"float",variableName:"flTouchDeactivateSensitivity",mode:"touch"},{property:"click_initial_state",default:!1,type:"bool",variableName:"bClickButtonInitialState",mode:"click"},{property:"touch_initial_state",default:!1,type:"bool",variableName:"bTouchButtonInitialState",mode:"touch"},{property:"force_input",default:"",type:"string",variableName:"strSelectedForceInput",mode:"cick"},{property:"haptic_amplitude",default:i,type:"float",variableName:"flHapticAmplitude",mode:"click"},{property:"haptic_frequency",default:L,type:"float",variableName:"flHapticFrequency",mode:"click"},{property:"haptic_duration",default:P,type:"float",variableName:"flHapticDuration",mode:"click"}],n.LoadDefaults(),n.BModeHasSettings.bind(n),Object(d.enableUniqueIds)(n),n}return o.d(t,e),t.prototype.OnClickActionChanged=function(e){var t=this;this.props.controllerWatcher.forEach(function(n){n.SetClickAction(t.props.iMode,e)})},t.prototype.OnTouchActionChanged=function(e){var t=this;this.props.controllerWatcher.forEach(function(n){n.SetTouchAction(t.props.iMode,e)})},t.prototype.BModeHasSettings=function(){return!0},t.prototype.renderSliderValue=function(e){return Math.round(100*e).toString()},t.prototype.renderSliderRawValue=function(e){return e.toString()},t.prototype.LocalizeForceInputModeString=function(e){switch(e){case"click":return Object(s.b)("#SourceInputMode_Click");case"value":return Object(s.b)("#SourceInputMode_Pull");case"force":return Object(s.b)("#SourceInputMode_Force");case"":return Object(s.b)("#SourceInputMode_Default")}return Object(s.b)("#SourceInputMode_Default")},Object.defineProperty(t.prototype,"BShowClickOptions",{get:function(){var e=this.props.controllerWatcher[0],t=e.GetInputSource;return(t.value||t.force)&&void 0!=e.GetClickAction(this.props.iMode)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"BShowTouchOptions",{get:function(){var e=this.props.controllerWatcher[0];return e.GetInputSourceTouchSupport&&void 0!=e.GetTouchAction(this.props.iMode)},enumerable:!0,configurable:!0}),t.prototype.renderSettingsContent=function(){var e=this.props.controllerWatcher[0],t=e.GetInputSource,n=[];t.click&&n.push(new h.b("click",this.LocalizeForceInputModeString("click"))),t.value&&n.push(new h.b("value",this.LocalizeForceInputModeString("value"))),t.force&&n.push(new h.b("force",this.LocalizeForceInputModeString("force"))),n.length>1&&n.push(new h.b("",this.LocalizeForceInputModeString("")));var o=void 0,r=void 0,l=void 0,a=this.BShowClickOptions,c=this.BShowTouchOptions,u="";return this.hasOwnProperty("nextUniqueId")&&(u=this.nextUniqueId()),a&&(o=i.createElement("div",{className:"FlexColumn",__source:{fileName:f,lineNumber:565}},i.createElement(F,{label:Object(s.b)("#SourceInputMode_ClickActivateThreshold"),elementId:u,min:0,max:1,step:.05,value:this.state.flClickActivateSensitivity,onReset:this.onPropertyReset.bind(this,"click_activate_threshold"),onChange:this.onPropertyChanged.bind(this,"click_activate_threshold"),renderValue:this.renderSliderValue,__source:{fileName:f,lineNumber:567}}),i.createElement(F,{label:Object(s.b)("#SourceInputMode_ClickDeactivateThreshold"),elementId:u,min:0,max:1,step:.05,value:this.state.flClickDeactivateSensitivity,onReset:this.onPropertyReset.bind(this,"click_deactivate_threshold"),onChange:this.onPropertyChanged.bind(this,"click_deactivate_threshold"),renderValue:this.renderSliderValue,__source:{fileName:f,lineNumber:569}}))),c&&(r=i.createElement("div",{className:"FlexColumn",__source:{fileName:f,lineNumber:573}},i.createElement(F,{label:Object(s.b)("#SourceInputMode_TouchActivateThreshold"),elementId:u,min:0,max:1,step:.05,value:this.state.flTouchActivateSensitivity,onReset:this.onPropertyReset.bind(this,"touch_activate_threshold"),onChange:this.onPropertyChanged.bind(this,"touch_activate_threshold"),renderValue:this.renderSliderValue,__source:{fileName:f,lineNumber:575}}),i.createElement(F,{label:Object(s.b)("#SourceInputMode_TouchDeactivateThreshold"),elementId:u,min:0,max:1,step:.05,value:this.state.flTouchDeactivateSensitivity,onReset:this.onPropertyReset.bind(this,"touch_deactivate_threshold"),onChange:this.onPropertyChanged.bind(this,"touch_deactivate_threshold"),renderValue:this.renderSliderValue,__source:{fileName:f,lineNumber:577}}))),this.props.bToggleButtonMode&&(l=[i.createElement(D,{label:Object(s.b)("#SourceInputMode_ClickInitialState"),elementId:u,value:this.state.bClickButtonInitialState,onReset:this.onPropertyReset.bind(this,"click_initial_state"),onChange:this.onPropertyChanged.bind(this,"click_initial_state"),__source:{fileName:f,lineNumber:582}}),i.createElement(D,{label:Object(s.b)("#SourceInputMode_TouchInitialState"),elementId:u,value:this.state.bTouchButtonInitialState,onReset:this.onPropertyReset.bind(this,"touch_initial_state"),onChange:this.onPropertyChanged.bind(this,"touch_initial_state"),__source:{fileName:f,lineNumber:583}})]),i.createElement("div",{className:"InputSettingsModal",__source:{fileName:f,lineNumber:586}},i.createElement("div",{className:"ChordBindingHeader FlexColumn",__source:{fileName:f,lineNumber:588}},i.createElement("div",{className:"FlexFullWidthRowCentered",__source:{fileName:f,lineNumber:589}},i.createElement("img",{className:"ActionButtonImage ActionButtonImageLarge ChordManageTopButton",src:"images/bindingui/icon_modal_edit_header.svg",__source:{fileName:f,lineNumber:590}}),i.createElement("div",{className:"Label Title TitleCenter AllCaps",__source:{fileName:f,lineNumber:591}},Object(s.b)("#BindingSettingsModal_Title")))),o,r,l,n.length>1&&i.createElement(G,{label:Object(s.b)("#SourceInputMode_ButtonModeInputForce_Click"),elementId:u,vecValues:n,selectedValue:this.state.strSelectedForceInput,selectedValueLocalized:this.LocalizeForceInputModeString(this.state.strSelectedForceInput),onReset:this.onPropertyReset.bind(this,"force_input"),onChange:this.onPropertyChanged.bind(this,"force_input"),__source:{fileName:f,lineNumber:599}}),i.createElement(F,{label:Object(s.b)("#SourceInputMode_HapticAmplitude"),elementId:u,min:0,max:1,step:.05,value:this.state.flHapticAmplitude,onReset:this.onPropertyReset.bind(this,"haptic_amplitude"),onChange:this.onPropertyChanged.bind(this,"haptic_amplitude"),renderValue:this.renderSliderValue,__source:{fileName:f,lineNumber:601}}),i.createElement(F,{label:Object(s.b)("#SourceInputMode_HapticDuration"),elementId:u,min:0,max:4,step:.1,value:this.state.flHapticDuration,onReset:this.onPropertyReset.bind(this,"haptic_duration"),onChange:this.onPropertyChanged.bind(this,"haptic_duration"),renderValue:this.renderSliderRawValue,__source:{fileName:f,lineNumber:602}}),i.createElement(F,{label:Object(s.b)("#SourceInputMode_HapticFrequency"),elementId:u,min:15,max:3e3,step:1,value:this.state.flHapticFrequency,onReset:this.onPropertyReset.bind(this,"haptic_frequency"),onChange:this.onPropertyChanged.bind(this,"haptic_frequency"),renderValue:this.renderSliderRawValue,__source:{fileName:f,lineNumber:603}}),i.createElement("div",{className:"InputSettingsCloseButton Label AllCaps",onClick:this.CloseModeSettings,__source:{fileName:f,lineNumber:605}},Object(s.b)("#Button_Close")))},t.prototype.render=function(){var e=this.props.controllerWatcher[0],t=c.a.GetBooleanActionBindings.map(function(e,t){var n=e.localized_name;return"mandatory"==e.requirement?n+=" ("+Object(s.b)("#BindingUI_SelectAction_Required")+")":"optional"!=e.requirement&&(n+=" ("+Object(s.b)("#BindingUI_SelectAction_Suggested")+")"),new h.b(e.name,n)});return t.push(new h.b("none",Object(s.b)("#SourceInputAction_none"))),i.createElement("div",{className:this.WrapperClasses,__source:{fileName:f,lineNumber:619}},this.renderHeader(),i.createElement(b,{sLocalizedInputType:"#SourceInputMode_Click",SelectedAction:e.GetClickAction(this.props.iMode),vecOptions:t,fnOptionSelected:this.OnClickActionChanged,bReadOnly:!this.state.bEditMode,__source:{fileName:f,lineNumber:621}}),e.GetInputSourceTouchSupport&&i.createElement(b,{sLocalizedInputType:"#SourceInputMode_Touch",SelectedAction:e.GetTouchAction(this.props.iMode),vecOptions:t,fnOptionSelected:this.OnTouchActionChanged,bReadOnly:!this.state.bEditMode,__source:{fileName:f,lineNumber:622}}),this.renderFooter())},o.c([a.b],t.prototype,"OnClickActionChanged",null),o.c([a.b],t.prototype,"OnTouchActionChanged",null),o.c([l.e],t.prototype,"BShowClickOptions",null),o.c([l.e],t.prototype,"BShowTouchOptions",null),t=o.c([r.a],t)}(g),j=function(e){function t(t){var n=e.call(this,t)||this;return n.defaultProperties=[{property:"long_press_delay",default:B,type:"float",variableName:"flLongPressDelay",mode:"click"},{property:"double_press_delay",default:O,type:"float",variableName:"flDoublePressDelay",mode:"click"},{property:"click_activate_threshold",default:S,type:"float",variableName:"flClickActivateSensitivity",mode:"click"},{property:"touch_activate_threshold",default:y,type:"float",variableName:"flTouchActivateSensitivity",mode:"touch"},{property:"click_deactivate_threshold",default:v,type:"float",variableName:"flClickDeactivateSensitivity",mode:"click"},{property:"touch_deactivate_threshold",default:N,type:"float",variableName:"flTouchDeactivateSensitivity",mode:"touch"},{property:"click_initial_state",default:!1,type:"bool",variableName:"bClickButtonInitialState",mode:"click"},{property:"touch_initial_state",default:!1,type:"bool",variableName:"bTouchButtonInitialState",mode:"touch"},{property:"force_input",default:"",type:"string",variableName:"strSelectedForceInput",mode:"cick"},{property:"haptic_amplitude",default:R,type:"float",variableName:"flHapticAmplitude",mode:"click"},{property:"haptic_frequency",default:L,type:"float",variableName:"flHapticFrequency",mode:"click"},{property:"haptic_duration",default:P,type:"float",variableName:"flHapticDuration",mode:"click"}],n.LoadDefaults(),n}return o.d(t,e),Object.defineProperty(t.prototype,"IsComplex",{get:function(){var e=this.props.controllerWatcher[0];return!!(this.state.bShowAdvanced||e.GetHeldAction(this.props.iMode)||e.GetDoubleAction(this.props.iMode)||e.GetLongAction(this.props.iMode))},enumerable:!0,configurable:!0}),t.prototype.BModeHasSettings=function(){return!0},t.prototype.renderSliderValue=function(e){return Math.round(100*e).toString()},t.prototype.renderSliderRawValue=function(e){return e.toString()},t.prototype.LocalizeForceInputModeString=function(e){switch(e){case"click":return Object(s.b)("#SourceInputMode_Click");case"value":return Object(s.b)("#SourceInputMode_Pull");case"force":return Object(s.b)("#SourceInputMode_Force");case"":return Object(s.b)("#SourceInputMode_Default")}return Object(s.b)("#SourceInputMode_Default")},Object.defineProperty(t.prototype,"BShowClickOptions",{get:function(){var e=this.props.controllerWatcher[0],t=e.GetInputSource;return(t.value||t.force)&&void 0!=e.GetClickAction(this.props.iMode)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"BShowTouchOptions",{get:function(){var e=this.props.controllerWatcher[0];return e.GetInputSourceTouchSupport&&void 0!=e.GetTouchAction(this.props.iMode)},enumerable:!0,configurable:!0}),t.prototype.renderSettingsContent=function(){var e=this.props.controllerWatcher[0],t=e.GetInputSource,n=[];t.click&&n.push(new h.b("click",this.LocalizeForceInputModeString("click"))),t.value&&n.push(new h.b("value",this.LocalizeForceInputModeString("value"))),t.force&&n.push(new h.b("force",this.LocalizeForceInputModeString("force"))),n.length>1&&n.push(new h.b("",this.LocalizeForceInputModeString("")));var o=void 0,r=void 0,l=void 0,a=this.BShowClickOptions,c=this.BShowTouchOptions,u="";return this.hasOwnProperty("nextUniqueId")&&(u=this.nextUniqueId()),a&&(o=i.createElement("div",{className:"FlexColumn",__source:{fileName:f,lineNumber:811}},i.createElement(F,{label:Object(s.b)("#SourceInputMode_ClickActivateThreshold"),elementId:u,min:0,max:1,step:.05,value:this.state.flClickActivateSensitivity,onReset:this.onPropertyReset.bind(this,"click_activate_threshold"),onChange:this.onPropertyChanged.bind(this,"click_activate_threshold"),renderValue:this.renderSliderValue,__source:{fileName:f,lineNumber:813}}),i.createElement(F,{label:Object(s.b)("#SourceInputMode_ClickDeactivateThreshold"),elementId:u,min:0,max:1,step:.05,value:this.state.flClickDeactivateSensitivity,onReset:this.onPropertyReset.bind(this,"click_deactivate_threshold"),onChange:this.onPropertyChanged.bind(this,"click_deactivate_threshold"),renderValue:this.renderSliderValue,__source:{fileName:f,lineNumber:815}}))),c&&(r=i.createElement("div",{className:"FlexColumn",__source:{fileName:f,lineNumber:819}},i.createElement(F,{label:Object(s.b)("#SourceInputMode_TouchActivateThreshold"),elementId:u,min:0,max:1,step:.05,value:this.state.flTouchActivateSensitivity,onReset:this.onPropertyReset.bind(this,"touch_activate_threshold"),onChange:this.onPropertyChanged.bind(this,"touch_activate_threshold"),renderValue:this.renderSliderValue,__source:{fileName:f,lineNumber:821}}),i.createElement(F,{label:Object(s.b)("#SourceInputMode_TouchDeactivateThreshold"),elementId:u,min:0,max:1,step:.05,value:this.state.flTouchDeactivateSensitivity,onReset:this.onPropertyReset.bind(this,"touch_deactivate_threshold"),onChange:this.onPropertyChanged.bind(this,"touch_deactivate_threshold"),renderValue:this.renderSliderValue,__source:{fileName:f,lineNumber:823}}))),this.props.bToggleButtonMode&&(l=[i.createElement(D,{label:Object(s.b)("#SourceInputMode_ClickInitialState"),elementId:u,value:this.state.bClickButtonInitialState,onReset:this.onPropertyReset.bind(this,"click_initial_state"),onChange:this.onPropertyChanged.bind(this,"click_initial_state"),__source:{fileName:f,lineNumber:828}}),i.createElement(D,{label:Object(s.b)("#SourceInputMode_TouchInitialState"),elementId:u,value:this.state.bTouchButtonInitialState,onReset:this.onPropertyReset.bind(this,"touch_initial_state"),onChange:this.onPropertyChanged.bind(this,"touch_initial_state"),__source:{fileName:f,lineNumber:829}})]),i.createElement("div",{className:"InputSettingsModal",__source:{fileName:f,lineNumber:832}},i.createElement("div",{className:"ChordBindingHeader FlexColumn",__source:{fileName:f,lineNumber:834}},i.createElement("div",{className:"FlexFullWidthRowCentered",__source:{fileName:f,lineNumber:835}},i.createElement("img",{className:"ActionButtonImage ActionButtonImageLarge ChordManageTopButton",src:"images/bindingui/icon_modal_edit_header.svg",__source:{fileName:f,lineNumber:836}}),i.createElement("div",{className:"Label Title TitleCenter AllCaps",__source:{fileName:f,lineNumber:837}},Object(s.b)("#BindingSettingsModal_Title")))),o,r,l,n.length>1&&i.createElement(G,{label:Object(s.b)("#SourceInputMode_ButtonModeInputForce_Click"),elementId:u,vecValues:n,selectedValue:this.state.strSelectedForceInput,selectedValueLocalized:this.LocalizeForceInputModeString(this.state.strSelectedForceInput),onReset:this.onPropertyReset.bind(this,"force_input"),onChange:this.onPropertyChanged.bind(this,"force_input"),__source:{fileName:f,lineNumber:845}}),i.createElement(F,{label:Object(s.b)("#SourceInputMode_HapticAmplitude"),elementId:u,min:0,max:1,step:.05,value:this.state.flHapticAmplitude,onReset:this.onPropertyReset.bind(this,"haptic_amplitude"),onChange:this.onPropertyChanged.bind(this,"haptic_amplitude"),renderValue:this.renderSliderValue,__source:{fileName:f,lineNumber:847}}),i.createElement(F,{label:Object(s.b)("#SourceInputMode_HapticDuration"),elementId:u,min:0,max:4,step:.1,value:this.state.flHapticDuration,onReset:this.onPropertyReset.bind(this,"haptic_duration"),onChange:this.onPropertyChanged.bind(this,"haptic_duration"),renderValue:this.renderSliderRawValue,__source:{fileName:f,lineNumber:848}}),i.createElement(F,{label:Object(s.b)("#SourceInputMode_HapticFrequency"),elementId:u,min:15,max:3e3,step:1,value:this.state.flHapticFrequency,onReset:this.onPropertyReset.bind(this,"haptic_frequency"),onChange:this.onPropertyChanged.bind(this,"haptic_frequency"),renderValue:this.renderSliderRawValue,__source:{fileName:f,lineNumber:849}}),"complex"==this.state.sSubMode&&i.createElement("div",{__source:{fileName:f,lineNumber:851}},i.createElement(F,{label:Object(s.b)("#SourceInputMode_LongPressDelay"),elementId:u,min:0,max:1,step:.05,value:this.state.flLongPressDelay,onReset:this.onPropertyReset.bind(this,"long_press_delay"),onChange:this.onPropertyChanged.bind(this,"long_press_delay"),renderValue:this.renderSliderValue,__source:{fileName:f,lineNumber:852}}),i.createElement(F,{label:Object(s.b)("#SourceInputMode_DoublePressDelay"),elementId:u,min:0,max:1,step:.05,value:this.state.flDoublePressDelay,onReset:this.onPropertyReset.bind(this,"double_press_delay"),onChange:this.onPropertyChanged.bind(this,"double_press_delay"),renderValue:this.renderSliderValue,__source:{fileName:f,lineNumber:854}})),i.createElement("div",{className:"InputSettingsCloseButton Label AllCaps",onClick:this.CloseModeSettings,__source:{fileName:f,lineNumber:858}},Object(s.b)("#Button_Close")))},t.prototype.OnHeldActionChanged=function(e){var t=this;this.props.controllerWatcher.forEach(function(n){n.SetHeldAction(t.props.iMode,e)})},t.prototype.OnLongActionChanged=function(e){var t=this;this.props.controllerWatcher.forEach(function(n){n.SetLongAction(t.props.iMode,e)})},t.prototype.OnSingleActionChanged=function(e){var t=this;this.props.controllerWatcher.forEach(function(n){n.SetSingleAction(t.props.iMode,e)})},t.prototype.OnDoubleActionChanged=function(e){var t=this;this.props.controllerWatcher.forEach(function(n){n.SetDoubleAction(t.props.iMode,e)})},t.prototype.OnClickActionChanged=function(e){var t=this;this.props.controllerWatcher.forEach(function(n){n.SetClickAction(t.props.iMode,e)})},t.prototype.OnTouchActionChanged=function(e){var t=this;this.props.controllerWatcher.forEach(function(n){n.SetTouchAction(t.props.iMode,e)})},t.prototype.OnToggleComplex=function(){this.state.bEditMode&&this.setState({bShowAdvanced:!0})},t.prototype.render=function(){var e=this.props.controllerWatcher[0],t=c.a.GetBooleanActionBindings.map(function(e,t){return new h.b(e.name,e.localized_name)});t.push(new h.b("none",Object(s.b)("#SourceInputAction_none")));var n=this.IsComplex;return i.createElement("div",{className:this.WrapperClasses,__source:{fileName:f,lineNumber:896}},this.renderHeader(),n&&i.createElement("div",{__source:{fileName:f,lineNumber:899}},i.createElement(b,{sLocalizedInputType:"#SourceInputMode_Single",SelectedAction:e.GetClickAction(this.props.iMode),vecOptions:t,fnOptionSelected:this.OnClickActionChanged,bReadOnly:!this.state.bEditMode,__source:{fileName:f,lineNumber:900}}),i.createElement(b,{sLocalizedInputType:"#SourceInputMode_Double",SelectedAction:e.GetDoubleAction(this.props.iMode),vecOptions:t,fnOptionSelected:this.OnDoubleActionChanged,bReadOnly:!this.state.bEditMode,__source:{fileName:f,lineNumber:901}}),i.createElement(b,{sLocalizedInputType:"#SourceInputMode_Long",SelectedAction:e.GetLongAction(this.props.iMode),vecOptions:t,fnOptionSelected:this.OnLongActionChanged,bReadOnly:!this.state.bEditMode,__source:{fileName:f,lineNumber:902}}),i.createElement(b,{sLocalizedInputType:"#SourceInputMode_Held",SelectedAction:e.GetHeldAction(this.props.iMode),vecOptions:t,fnOptionSelected:this.OnHeldActionChanged,bReadOnly:!this.state.bEditMode,__source:{fileName:f,lineNumber:903}}),e.GetInputSourceTouchSupport&&i.createElement(b,{sLocalizedInputType:"#SourceInputMode_Touch",SelectedAction:e.GetTouchAction(this.props.iMode),vecOptions:t,fnOptionSelected:this.OnTouchActionChanged,bReadOnly:!this.state.bEditMode,__source:{fileName:f,lineNumber:904}})),!n&&i.createElement("div",{__source:{fileName:f,lineNumber:907}},i.createElement(b,{sLocalizedInputType:"#SourceInputMode_Click",SelectedAction:e.GetClickAction(this.props.iMode),vecOptions:t,fnOptionSelected:this.OnClickActionChanged,bReadOnly:!this.state.bEditMode,__source:{fileName:f,lineNumber:908}}),e.GetInputSourceTouchSupport&&i.createElement(b,{sLocalizedInputType:"#SourceInputMode_Touch",SelectedAction:e.GetTouchAction(this.props.iMode),vecOptions:t,fnOptionSelected:this.OnTouchActionChanged,bReadOnly:!this.state.bEditMode,__source:{fileName:f,lineNumber:909}}),i.createElement("div",{className:"SourceInputShowMore"+(this.state.bEditMode?"":" Disabled"),onClick:this.OnToggleComplex,__source:{fileName:f,lineNumber:910}},Object(s.b)("#SourceInputMode_MoreOptions"))),this.renderFooter())},o.c([l.e],t.prototype,"IsComplex",null),o.c([l.e],t.prototype,"BShowClickOptions",null),o.c([l.e],t.prototype,"BShowTouchOptions",null),o.c([a.b],t.prototype,"OnHeldActionChanged",null),o.c([a.b],t.prototype,"OnLongActionChanged",null),o.c([a.b],t.prototype,"OnSingleActionChanged",null),o.c([a.b],t.prototype,"OnDoubleActionChanged",null),o.c([a.b],t.prototype,"OnClickActionChanged",null),o.c([a.b],t.prototype,"OnTouchActionChanged",null),o.c([a.b],t.prototype,"OnToggleComplex",null),t=o.c([r.a],t)}(g),U=function(e){function t(t){var n=e.call(this,t)||this;return n.defaultProperties=[{property:"long_press_delay",default:B,type:"float",variableName:"flLongPressDelay",mode:"click"},{property:"double_press_delay",default:O,type:"float",variableName:"flDoublePressDelay",mode:"click"}],n.LoadDefaults(),n}return o.d(t,e),t.prototype.BModeHasSettings=function(){return!0},t.prototype.renderSliderValue=function(e){return e.toString()},t.prototype.renderSettingsContent=function(){var e=(this.props.controllerWatcher[0],"");return this.hasOwnProperty("nextUniqueId")&&(e=this.nextUniqueId()),i.createElement("div",{className:"InputSettingsModal",__source:{fileName:f,lineNumber:990}},i.createElement("div",{className:"ChordBindingHeader FlexColumn",__source:{fileName:f,lineNumber:992}},i.createElement("div",{className:"FlexFullWidthRowCentered",__source:{fileName:f,lineNumber:993}},i.createElement("img",{className:"ActionButtonImage ActionButtonImageLarge ChordManageTopButton",src:"images/bindingui/icon_modal_edit_header.svg",__source:{fileName:f,lineNumber:994}}),i.createElement("div",{className:"Label Title TitleCenter AllCaps",__source:{fileName:f,lineNumber:995}},Object(s.b)("#BindingSettingsModal_Title")))),i.createElement(F,{label:Object(s.b)("#SourceInputMode_LongPressDelay"),elementId:e,min:0,max:1,step:.05,value:this.state.flLongPressDelay,onReset:this.onPropertyReset.bind(this,"long_press_delay"),onChange:this.onPropertyChanged.bind(this,"long_press_delay"),renderValue:this.renderSliderValue,__source:{fileName:f,lineNumber:999}}),i.createElement(F,{label:Object(s.b)("#SourceInputMode_DoublePressDelay"),elementId:e,min:0,max:1,step:.05,value:this.state.flDoublePressDelay,onReset:this.onPropertyReset.bind(this,"double_press_delay"),onChange:this.onPropertyChanged.bind(this,"double_press_delay"),renderValue:this.renderSliderValue,__source:{fileName:f,lineNumber:1001}}),i.createElement("div",{className:"InputSettingsCloseButton Label AllCaps",onClick:this.CloseModeSettings,__source:{fileName:f,lineNumber:1003}},Object(s.b)("#Button_Close")))},t.prototype.OnHeldActionChanged=function(e){var t=this;this.props.controllerWatcher.forEach(function(n){n.SetHeldAction(t.props.iMode,e)})},t.prototype.OnLongActionChanged=function(e){var t=this;this.props.controllerWatcher.forEach(function(n){n.SetLongAction(t.props.iMode,e)})},t.prototype.OnSingleActionChanged=function(e){var t=this;this.props.controllerWatcher.forEach(function(n){n.SetSingleAction(t.props.iMode,e)})},t.prototype.OnDoubleActionChanged=function(e){var t=this;this.props.controllerWatcher.forEach(function(n){n.SetDoubleAction(t.props.iMode,e)})},t.prototype.OnClickActionChanged=function(e){var t=this;this.props.controllerWatcher.forEach(function(n){n.SetClickAction(t.props.iMode,e)})},t.prototype.OnTouchActionChanged=function(e){var t=this;this.props.controllerWatcher.forEach(function(n){n.SetTouchAction(t.props.iMode,e)})},t.prototype.render=function(){var e=this.props.controllerWatcher[0],t=c.a.GetBooleanActionBindings.map(function(e,t){return new h.b(e.name,e.localized_name)});return t.push(new h.b("none",Object(s.b)("#SourceInputAction_none"))),i.createElement("div",{className:this.WrapperClasses,__source:{fileName:f,lineNumber:1035}},this.renderHeader(),i.createElement("div",{__source:{fileName:f,lineNumber:1038}},i.createElement(b,{sLocalizedInputType:"#SourceInputMode_Single",SelectedAction:e.GetSingleAction(this.props.iMode),vecOptions:t,fnOptionSelected:this.OnSingleActionChanged,bReadOnly:!this.state.bEditMode,__source:{fileName:f,lineNumber:1039}}),i.createElement(b,{sLocalizedInputType:"#SourceInputMode_Double",SelectedAction:e.GetDoubleAction(this.props.iMode),vecOptions:t,fnOptionSelected:this.OnDoubleActionChanged,bReadOnly:!this.state.bEditMode,__source:{fileName:f,lineNumber:1040}}),i.createElement(b,{sLocalizedInputType:"#SourceInputMode_Long",SelectedAction:e.GetLongAction(this.props.iMode),vecOptions:t,fnOptionSelected:this.OnLongActionChanged,bReadOnly:!this.state.bEditMode,__source:{fileName:f,lineNumber:1041}}),i.createElement(b,{sLocalizedInputType:"#SourceInputMode_Held",SelectedAction:e.GetHeldAction(this.props.iMode),vecOptions:t,fnOptionSelected:this.OnHeldActionChanged,bReadOnly:!this.state.bEditMode,__source:{fileName:f,lineNumber:1042}}),e.GetInputSourceTouchSupport&&i.createElement(b,{sLocalizedInputType:"#SourceInputMode_Touch",SelectedAction:e.GetTouchAction(this.props.iMode),vecOptions:t,fnOptionSelected:this.OnTouchActionChanged,bReadOnly:!this.state.bEditMode,__source:{fileName:f,lineNumber:1043}})),this.renderFooter())},o.c([a.b],t.prototype,"OnHeldActionChanged",null),o.c([a.b],t.prototype,"OnLongActionChanged",null),o.c([a.b],t.prototype,"OnSingleActionChanged",null),o.c([a.b],t.prototype,"OnDoubleActionChanged",null),o.c([a.b],t.prototype,"OnClickActionChanged",null),o.c([a.b],t.prototype,"OnTouchActionChanged",null),t=o.c([r.a],t)}(g),V=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.d(t,e),t.prototype.render=function(){return i.createElement("div",{className:this.WrapperClasses,__source:{fileName:f,lineNumber:1084}},this.renderHeader(),this.renderFooter())},t=o.c([r.a],t)}(g),W=function(e){function t(t){var n=e.call(this,t)||this;return n.defaultProperties=[{property:"sub_mode",default:"joystick"==n.props.controllerWatcher[0].GetInputSourceType?"touch":"click",type:"string",variableName:"sSubMode",mode:"click"},{property:"overlap_pct",default:C,type:"float",variableName:"flOverlapPct",mode:"click"},{property:"deadzone_pct",default:A,type:"float",variableName:"flDeadzonePct",mode:"click"}],n.LoadDefaults(),"dpad"==n.props.sMode&&n.EnsurePropertySet("sub_mode"),n}return o.d(t,e),t.prototype.BModeHasSettings=function(){return!0},t.prototype.renderSliderValue=function(e){return Math.round(e).toString()},t.prototype.renderSettingsContent=function(){var e=(this.props.controllerWatcher[0],"");return this.hasOwnProperty("nextUniqueId")&&(e=this.nextUniqueId()),i.createElement("div",{className:"InputSettingsModal",__source:{fileName:f,lineNumber:1143}},i.createElement("div",{className:"ChordBindingHeader FlexColumn",__source:{fileName:f,lineNumber:1145}},i.createElement("div",{className:"FlexFullWidthRowCentered",__source:{fileName:f,lineNumber:1146}},i.createElement("img",{className:"ActionButtonImage ActionButtonImageLarge ChordManageTopButton",src:"images/bindingui/icon_modal_edit_header.svg",__source:{fileName:f,lineNumber:1147}}),i.createElement("div",{className:"Label Title TitleCenter AllCaps",__source:{fileName:f,lineNumber:1148}},Object(s.b)("#BindingSettingsModal_Title")))),i.createElement(F,{label:Object(s.b)("#SourceInputMode_OverlapPercent"),elementId:e,min:0,max:100,step:5,value:this.state.flOverlapPct,onReset:this.onPropertyReset.bind(this,"overlap_pct"),onChange:this.onPropertyChanged.bind(this,"overlap_pct"),renderValue:this.renderSliderValue,__source:{fileName:f,lineNumber:1153}}),i.createElement(F,{label:Object(s.b)("#SourceInputMode_DeadzonePercent"),elementId:e,min:0,max:100,step:5,value:this.state.flDeadzonePct,onReset:this.onPropertyReset.bind(this,"deadzone_pct"),onChange:this.onPropertyChanged.bind(this,"deadzone_pct"),renderValue:this.renderSliderValue,__source:{fileName:f,lineNumber:1155}}),i.createElement("div",{className:"InputSettingsCloseButton Label AllCaps",onClick:this.CloseModeSettings,__source:{fileName:f,lineNumber:1157}},Object(s.b)("#Button_Close")))},t.prototype.OnActionChanged=function(e,t){var n=this;this.props.controllerWatcher.forEach(function(o){c.a.SetActionForInputModeType(o.GetFullInputPath,n.props.iMode,e,t,["dpad","dpad_click","dpad_touch"])})},t.prototype.render=function(){var e=this.props.controllerWatcher[0],t=c.a.GetBooleanActionBindings.map(function(e,t){return new h.b(e.name,e.localized_name)});t.push(new h.b("none",Object(s.b)("#SourceInputAction_none")));var n="dpad"==this.props.sMode,o=[new h.b("click",Object(s.b)("#SourceInputMode_Click")),new h.b("touch",Object(s.b)("#SourceInputMode_Touch"))],r=(this.state.sSubMode,"click"==this.state.sSubMode?Object(s.b)("#SourceInputMode_Click"):Object(s.b)("#SourceInputMode_Touch"));return i.createElement("div",{className:this.WrapperClasses,__source:{fileName:f,lineNumber:1177}},this.renderHeader(),n&&i.createElement("div",{className:"FlexRow BindingActionWrapper",__source:{fileName:f,lineNumber:1180}},i.createElement("div",{className:"Label BindingLabel",__source:{fileName:f,lineNumber:1181}},Object(s.b)("#SourceInputMode_SubMode")),i.createElement("div",{className:"Label BindingLabel BindingAction",__source:{fileName:f,lineNumber:1182}},this.state.bEditMode&&i.createElement(h.a,{sLocalizedSelectedItem:r,sValueSelectedItem:this.state.sSubMode,vecOptions:o,fnOptionSelected:this.onPropertyChanged.bind(this,"sub_mode"),__source:{fileName:f,lineNumber:1183}}),!this.state.bEditMode&&r)),i.createElement(b,{sLocalizedInputType:"#SourceInputMode_North",SelectedAction:e.GetNorthAction(this.props.iMode),vecOptions:t,fnOptionSelected:this.OnActionChanged.bind(this,"north"),bReadOnly:!this.state.bEditMode,__source:{fileName:f,lineNumber:1187}}),i.createElement(b,{sLocalizedInputType:"#SourceInputMode_East",SelectedAction:e.GetEastAction(this.props.iMode),vecOptions:t,fnOptionSelected:this.OnActionChanged.bind(this,"east"),bReadOnly:!this.state.bEditMode,__source:{fileName:f,lineNumber:1188}}),i.createElement(b,{sLocalizedInputType:"#SourceInputMode_South",SelectedAction:e.GetSouthAction(this.props.iMode),vecOptions:t,fnOptionSelected:this.OnActionChanged.bind(this,"south"),bReadOnly:!this.state.bEditMode,__source:{fileName:f,lineNumber:1189}}),i.createElement(b,{sLocalizedInputType:"#SourceInputMode_West",SelectedAction:e.GetWestAction(this.props.iMode),vecOptions:t,fnOptionSelected:this.OnActionChanged.bind(this,"west"),bReadOnly:!this.state.bEditMode,__source:{fileName:f,lineNumber:1190}}),i.createElement(b,{sLocalizedInputType:"#SourceInputMode_Center",SelectedAction:e.GetCenterAction(this.props.iMode),vecOptions:t,fnOptionSelected:this.OnActionChanged.bind(this,"center"),bReadOnly:!this.state.bEditMode,__source:{fileName:f,lineNumber:1191}}),this.renderFooter())},o.c([a.b],t.prototype,"OnActionChanged",null),t=o.c([r.a],t)}(g),H=function(e){function t(t){var n=e.call(this,t)||this,o=n.props.controllerWatcher[0];return n.state.eTrackpadInvertMode=o.GetTrackpadInvertState(n.props.iMode),n}return o.d(t,e),t.prototype.BModeHasSettings=function(){return!0},t.prototype.OnTrackpadInvertModeChanged=function(e,t){var n=this.props.controllerWatcher[0],o=n.GetTrackpadInvertState(this.props.iMode);switch(e){case"y":o=t?"x"==o?"xy":"y":"xy"==o?"x":"";break;case"x":o=t?"y"==o?"xy":"x":"xy"==o?"y":""}n.SetTrackpadInvertState(this.props.iMode,o),this.setState({eTrackpadInvertMode:o})},t.prototype.OnTrackpadInvertModeReset=function(){this.setState({eTrackpadInvertMode:""})},t.prototype.renderSettingsContent=function(){var e=(this.props.controllerWatcher[0],"");return this.hasOwnProperty("nextUniqueId")&&(e=this.nextUniqueId()),i.createElement("div",{className:"InputSettingsModal",__source:{fileName:f,lineNumber:1271}},i.createElement("div",{className:"ChordBindingHeader FlexColumn",__source:{fileName:f,lineNumber:1273}},i.createElement("div",{className:"FlexFullWidthRowCentered",__source:{fileName:f,lineNumber:1274}},i.createElement("img",{className:"ActionButtonImage ActionButtonImageLarge ChordManageTopButton",src:"images/bindingui/icon_modal_edit_header.svg",__source:{fileName:f,lineNumber:1275}}),i.createElement("div",{className:"Label Title TitleCenter AllCaps",__source:{fileName:f,lineNumber:1276}},Object(s.b)("#BindingSettingsModal_Title")))),i.createElement(D,{label:Object(s.b)("#SourceInputMode_InvertYAxis"),elementId:e,value:"y"==this.state.eTrackpadInvertMode||"xy"==this.state.eTrackpadInvertMode,onReset:this.OnTrackpadInvertModeReset,onChange:this.OnTrackpadInvertModeChanged.bind(this,"y"),__source:{fileName:f,lineNumber:1280}}),i.createElement(D,{label:Object(s.b)("#SourceInputMode_InvertXAxis"),elementId:e,value:"x"==this.state.eTrackpadInvertMode||"xy"==this.state.eTrackpadInvertMode,onReset:this.OnTrackpadInvertModeReset,onChange:this.OnTrackpadInvertModeChanged.bind(this,"x"),__source:{fileName:f,lineNumber:1282}}),i.createElement("div",{className:"InputSettingsCloseButton Label AllCaps",onClick:this.CloseModeSettings,__source:{fileName:f,lineNumber:1284}},Object(s.b)("#Button_Close")))},t.prototype.OnClickActionChanged=function(e){var t=this;this.props.controllerWatcher.forEach(function(n){n.SetClickAction(t.props.iMode,e)})},t.prototype.OnTouchActionChanged=function(e){var t=this;this.props.controllerWatcher.forEach(function(n){n.SetTouchAction(t.props.iMode,e)})},t.prototype.OnPositionActionChanged=function(e){var t=this;this.props.controllerWatcher.forEach(function(n){n.SetPositionAction(t.props.iMode,e)})},t.prototype.render=function(){var e=this.props.controllerWatcher[0],t=c.a.GetBooleanActionBindings.map(function(e,t){return new h.b(e.name,e.localized_name)});t.push(new h.b("none",Object(s.b)("#SourceInputAction_none")));var n=c.a.GetVector2ActionBindings.map(function(e,t){return new h.b(e.name,e.localized_name)});return n.push(new h.b("none",Object(s.b)("#SourceInputAction_none"))),i.createElement("div",{className:this.WrapperClasses,__source:{fileName:f,lineNumber:1305}},this.renderHeader(),e.GetInputSourceClickSupport&&i.createElement(b,{sLocalizedInputType:"#SourceInputMode_Click",SelectedAction:e.GetClickAction(this.props.iMode),vecOptions:t,fnOptionSelected:this.OnClickActionChanged,bReadOnly:!this.state.bEditMode,__source:{fileName:f,lineNumber:1307}}),e.GetInputSourceTouchSupport&&i.createElement(b,{sLocalizedInputType:"#SourceInputMode_Touch",SelectedAction:e.GetTouchAction(this.props.iMode),vecOptions:t,fnOptionSelected:this.OnTouchActionChanged,bReadOnly:!this.state.bEditMode,__source:{fileName:f,lineNumber:1308}}),i.createElement(b,{sLocalizedInputType:"#SourceInputMode_Position",SelectedAction:e.GetPositionAction(this.props.iMode),vecOptions:n,fnOptionSelected:this.OnPositionActionChanged,bReadOnly:!this.state.bEditMode,__source:{fileName:f,lineNumber:1309}}),this.renderFooter())},o.c([a.b],t.prototype,"OnTrackpadInvertModeChanged",null),o.c([a.b],t.prototype,"OnTrackpadInvertModeReset",null),o.c([a.b],t.prototype,"OnClickActionChanged",null),o.c([a.b],t.prototype,"OnTouchActionChanged",null),o.c([a.b],t.prototype,"OnPositionActionChanged",null),t=o.c([r.a],t)}(g),z=function(e){function t(t){var n=e.call(this,t)||this;return n.defaultProperties=[{property:"edge_scroll_amount",default:I,type:"float",variableName:"flEdgeScrollAmount",mode:"touch"},{property:"edge_repeat_time",default:M,type:"float",variableName:"flEdgeRepeatTime",mode:"touch"},{property:"min_swipe_move_for_repeat",default:E,type:"float",variableName:"flMinSwipeMoveForRepeat",mode:"touch"},{property:"min_move_size",default:w,type:"float",variableName:"flMinMoveSize",mode:"touch"},{property:"linear_move_threshold",default:T,type:"float",variableName:"flLinearMoveThreshold",mode:"touch"},{property:"tick_distance",default:k,type:"float",variableName:"flTickDistance",mode:"touch"}],n.LoadDefaults(),n}return o.d(t,e),t.prototype.OnSave=function(){this.setState({bEditMode:!1})},t.prototype.OnScrollActionChanged=function(e){var t=this;this.props.controllerWatcher.forEach(function(n){n.SetScrollAction(t.props.iMode,e)})},t.prototype.BModeHasSettings=function(){return!0},t.prototype.renderSliderValue=function(e){return Math.round(100*e).toString()},t.prototype.renderSettingsContent=function(){var e=(this.props.controllerWatcher[0],"");return this.hasOwnProperty("nextUniqueId")&&(e=this.nextUniqueId()),i.createElement("div",{className:"InputSettingsModal",__source:{fileName:f,lineNumber:1407}},i.createElement("div",{className:"ChordBindingHeader FlexColumn",__source:{fileName:f,lineNumber:1409}},i.createElement("div",{className:"FlexFullWidthRowCentered",__source:{fileName:f,lineNumber:1410}},i.createElement("img",{className:"ActionButtonImage ActionButtonImageLarge ChordManageTopButton",src:"images/bindingui/icon_modal_edit_header.svg",__source:{fileName:f,lineNumber:1411}}),i.createElement("div",{className:"Label Title TitleCenter AllCaps",__source:{fileName:f,lineNumber:1412}},Object(s.b)("#BindingSettingsModal_Title")))),i.createElement(F,{label:Object(s.b)("#SourceInputMode_EdgeScrollAmount"),elementId:e,min:0,max:1,step:.05,value:this.state.flEdgeScrollAmount,onReset:this.onPropertyReset.bind(this,"edge_scroll_amount"),onChange:this.onPropertyChanged.bind(this,"edge_scroll_amount"),renderValue:this.renderSliderValue,__source:{fileName:f,lineNumber:1417}}),i.createElement(F,{label:Object(s.b)("#SourceInputMode_EdgeRepeatTime"),elementId:e,min:0,max:.5,step:.01,value:this.state.flEdgeRepeatTime,onReset:this.onPropertyReset.bind(this,"edge_repeat_time"),onChange:this.onPropertyChanged.bind(this,"deadzone_pct"),renderValue:this.renderSliderValue,__source:{fileName:f,lineNumber:1419}}),i.createElement(F,{label:Object(s.b)("#SourceInputMode_MinSwipeMoveForRepeat"),elementId:e,min:0,max:1,step:.05,value:this.state.flMinSwipeMoveForRepeat,onReset:this.onPropertyReset.bind(this,"min_swipe_move_for_repeat"),onChange:this.onPropertyChanged.bind(this,"min_swipe_move_for_repeat"),renderValue:this.renderSliderValue,__source:{fileName:f,lineNumber:1421}}),i.createElement(F,{label:Object(s.b)("#SourceInputMode_MinMoveSize"),elementId:e,min:0,max:.1,step:.001,value:this.state.flMinMoveSize,onReset:this.onPropertyReset.bind(this,"min_move_size"),onChange:this.onPropertyChanged.bind(this,"min_move_size"),renderValue:this.renderSliderValue,__source:{fileName:f,lineNumber:1423}}),i.createElement(F,{label:Object(s.b)("#SourceInputMode_LinearMoveThreshold"),elementId:e,min:0,max:1,step:.05,value:this.state.flLinearMoveThreshold,onReset:this.onPropertyReset.bind(this,"linear_move_threshold"),onChange:this.onPropertyChanged.bind(this,"linear_move_threshold"),renderValue:this.renderSliderValue,__source:{fileName:f,lineNumber:1425}}),i.createElement("div",{className:"InputSettingsCloseButton Label AllCaps",onClick:this.CloseModeSettings,__source:{fileName:f,lineNumber:1427}},Object(s.b)("#Button_Close")))},t.prototype.render=function(){var e=this.props.controllerWatcher[0],t=c.a.GetVector3ActionBindings.map(function(e,t){return new h.b(e.name,e.localized_name)});return t.push(new h.b("none",Object(s.b)("#SourceInputAction_none"))),i.createElement("div",{className:this.WrapperClasses,__source:{fileName:f,lineNumber:1434}},this.renderHeader(),i.createElement(b,{sLocalizedInputType:"#SourceInputMode_Scroll",SelectedAction:e.GetScrollAction(this.props.iMode),vecOptions:t,fnOptionSelected:this.OnScrollActionChanged,bReadOnly:!this.state.bEditMode,__source:{fileName:f,lineNumber:1436}}),this.renderFooter())},o.c([a.b],t.prototype,"OnSave",null),o.c([a.b],t.prototype,"OnScrollActionChanged",null),t=o.c([r.a],t)}(g),q=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.d(t,e),t.prototype.OnClickActionChanged=function(e){var t=this;this.props.controllerWatcher.forEach(function(n){n.SetClickAction(t.props.iMode,e)})},t.prototype.OnTouchActionChanged=function(e){var t=this;this.props.controllerWatcher.forEach(function(n){n.SetTouchAction(t.props.iMode,e)})},t.prototype.OnPullActionChanged=function(e){var t=this;this.props.controllerWatcher.forEach(function(n){n.SetPullAction(t.props.iMode,e)})},t.prototype.render=function(){var e=this.props.controllerWatcher[0],t=c.a.GetBooleanActionBindings.map(function(e,t){return new h.b(e.name,e.localized_name)});t.push(new h.b("none",Object(s.b)("#SourceInputAction_none")));var n=c.a.GetVector1ActionBindings.map(function(e,t){return new h.b(e.name,e.localized_name)});return n.push(new h.b("none",Object(s.b)("#SourceInputAction_none"))),i.createElement("div",{className:this.WrapperClasses,__source:{fileName:f,lineNumber:1478}},this.renderHeader(),e.GetInputSourceClickSupport&&i.createElement(b,{sLocalizedInputType:"#SourceInputMode_Click",SelectedAction:e.GetClickAction(this.props.iMode),vecOptions:t,fnOptionSelected:this.OnClickActionChanged,bReadOnly:!this.state.bEditMode,__source:{fileName:f,lineNumber:1480}}),e.GetInputSourceTouchSupport&&i.createElement(b,{sLocalizedInputType:"#SourceInputMode_Touch",SelectedAction:e.GetTouchAction(this.props.iMode),vecOptions:t,fnOptionSelected:this.OnTouchActionChanged,bReadOnly:!this.state.bEditMode,__source:{fileName:f,lineNumber:1481}}),i.createElement(b,{sLocalizedInputType:"#SourceInputMode_Pull",SelectedAction:e.GetPullAction(this.props.iMode),vecOptions:n,fnOptionSelected:this.OnPullActionChanged,bReadOnly:!this.state.bEditMode,__source:{fileName:f,lineNumber:1482}}),this.renderFooter())},o.c([a.b],t.prototype,"OnClickActionChanged",null),o.c([a.b],t.prototype,"OnTouchActionChanged",null),o.c([a.b],t.prototype,"OnPullActionChanged",null),t=o.c([r.a],t)}(g),Q=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.d(t,e),t.prototype.OnForceActionChanged=function(e){var t=this;this.props.controllerWatcher.forEach(function(n){n.SetForceAction(t.props.iMode,e)})},t.prototype.render=function(){var e=this.props.controllerWatcher[0],t=c.a.GetVector1ActionBindings.map(function(e,t){return new h.b(e.name,e.localized_name)});return t.push(new h.b("none",Object(s.b)("#SourceInputAction_none"))),i.createElement("div",{className:this.WrapperClasses,__source:{fileName:f,lineNumber:1517}},this.renderHeader(),e.GetInputSourceForceSupport&&i.createElement(b,{sLocalizedInputType:"#SourceInputMode_Force",SelectedAction:e.GetForceAction(this.props.iMode),vecOptions:t,fnOptionSelected:this.OnForceActionChanged,bReadOnly:!this.state.bEditMode,__source:{fileName:f,lineNumber:1519}}),this.renderFooter())},o.c([a.b],t.prototype,"OnForceActionChanged",null),t=o.c([r.a],t)}(g),K=function(e){function t(t){var n=e.call(this,t)||this;return n.defaultProperties=[{property:"capsense_enable_threshold",default:.9,type:"float",variableName:"flCapsenseEnableThreshold",mode:"grab"},{property:"value_hold_threshold",default:.7,type:"float",variableName:"flValueHoldThreshold",mode:"grab"},{property:"value_release_threshold",default:.65,type:"float",variableName:"flValueReleaseThreshold",mode:"grab"},{property:"force_hold_threshold",default:.1,type:"float",variableName:"flForceHoldThreshold",mode:"grab"},{property:"force_release_threshold",default:.05,type:"float",variableName:"flForceReleaseThreshold",mode:"grab"},{property:"downgrade_speed",default:1,type:"float",variableName:"flDowngradeSpeed",mode:"grab"},{property:"drop_speed",default:.1,type:"float",variableName:"flDropSpeed",mode:"grab"}],n.LoadDefaults(),n.BModeHasSettings.bind(n),Object(d.enableUniqueIds)(n),n}return o.d(t,e),t.prototype.OnGrabActionChanged=function(e){var t=this;this.props.controllerWatcher.forEach(function(n){n.SetGrabAction(t.props.iMode,e)})},t.prototype.BModeHasSettings=function(){return!0},t.prototype.renderNormalizedSliderValue=function(e){return Math.round(100*e).toString()},t.prototype.renderSpeedSliderValue=function(e){return e.toString()+" "+Object(s.b)("#MetersPerSecond_Abbreviation")},t.prototype.renderSettingsContent=function(){var e=this.props.controllerWatcher[0],t="pinch"==e.GetInputSourceType,n="";return this.hasOwnProperty("nextUniqueId")&&(n=this.nextUniqueId()),i.createElement("div",{className:"InputSettingsModal",__source:{fileName:f,lineNumber:1615}},i.createElement("div",{className:"ChordBindingHeader FlexColumn",__source:{fileName:f,lineNumber:1617}},i.createElement("div",{className:"FlexFullWidthRowCentered",__source:{fileName:f,lineNumber:1618}},i.createElement("img",{className:"ActionButtonImage ActionButtonImageLarge ChordManageTopButton",src:"images/bindingui/icon_modal_edit_header.svg",__source:{fileName:f,lineNumber:1619}}),i.createElement("div",{className:"Label Title TitleCenter AllCaps",__source:{fileName:f,lineNumber:1620}},Object(s.b)("#BindingSettingsModal_Title")))),i.createElement("div",{className:"FlexColumn",__source:{fileName:f,lineNumber:1624}},t&&i.createElement(F,{label:Object(s.b)("#SourceInputMode_CapsenseEnableThreshold"),elementId:n,min:0,max:1,step:.05,value:this.state.flCapsenseEnableThreshold,onReset:this.onPropertyReset.bind(this,"capsense_enable_threshold"),onChange:this.onPropertyChanged.bind(this,"capsense_enable_threshold"),renderValue:this.renderNormalizedSliderValue,__source:{fileName:f,lineNumber:1625}}),i.createElement(F,{label:Object(s.b)("#SourceInputMode_ValueHoldThreshold"),elementId:n,min:0,max:1,step:.05,value:this.state.flValueHoldThreshold,onReset:this.onPropertyReset.bind(this,"value_hold_threshold"),onChange:this.onPropertyChanged.bind(this,"value_hold_threshold"),renderValue:this.renderNormalizedSliderValue,__source:{fileName:f,lineNumber:1626}}),i.createElement(F,{label:Object(s.b)("#SourceInputMode_ValueReleaseThreshold"),elementId:n,min:0,max:1,step:.05,value:this.state.flValueReleaseThreshold,onReset:this.onPropertyReset.bind(this,"value_release_threshold"),onChange:this.onPropertyChanged.bind(this,"value_release_threshold"),renderValue:this.renderNormalizedSliderValue,__source:{fileName:f,lineNumber:1627}}),i.createElement(F,{label:Object(s.b)("#SourceInputMode_ForceHoldThreshold"),elementId:n,min:0,max:1,step:.05,value:this.state.flForceHoldThreshold,onReset:this.onPropertyReset.bind(this,"force_hold_threshold"),onChange:this.onPropertyChanged.bind(this,"force_hold_threshold"),renderValue:this.renderNormalizedSliderValue,__source:{fileName:f,lineNumber:1628}}),i.createElement(F,{label:Object(s.b)("#SourceInputMode_ForceReleaseThreshold"),elementId:n,min:0,max:1,step:.05,value:this.state.flForceReleaseThreshold,onReset:this.onPropertyReset.bind(this,"force_release_threshold"),onChange:this.onPropertyChanged.bind(this,"force_release_threshold"),renderValue:this.renderNormalizedSliderValue,__source:{fileName:f,lineNumber:1629}}),i.createElement(F,{label:Object(s.b)("#SourceInputMode_DowngradeSpeed"),elementId:n,min:0,max:10,step:.1,value:this.state.flDowngradeSpeed,onReset:this.onPropertyReset.bind(this,"downgrade_speed"),onChange:this.onPropertyChanged.bind(this,"downgrade_speed"),renderValue:this.renderSpeedSliderValue,__source:{fileName:f,lineNumber:1630}}),i.createElement(F,{label:Object(s.b)("#SourceInputMode_DropSpeed"),elementId:n,min:0,max:10,step:.1,value:this.state.flDropSpeed,onReset:this.onPropertyReset.bind(this,"drop_speed"),onChange:this.onPropertyChanged.bind(this,"drop_speed"),renderValue:this.renderSpeedSliderValue,__source:{fileName:f,lineNumber:1631}})),i.createElement("div",{className:"InputSettingsCloseButton Label AllCaps",onClick:this.CloseModeSettings,__source:{fileName:f,lineNumber:1634}},Object(s.b)("#Button_Close")))},t.prototype.render=function(){var e=this.props.controllerWatcher[0],t=c.a.GetBooleanActionBindings.map(function(e,t){var n=e.localized_name;return"mandatory"==e.requirement?n+=" ("+Object(s.b)("#BindingUI_SelectAction_Required")+")":"optional"!=e.requirement&&(n+=" ("+Object(s.b)("#BindingUI_SelectAction_Suggested")+")"),new h.b(e.name,n)});return t.push(new h.b("none",Object(s.b)("#SourceInputAction_none"))),i.createElement("div",{className:this.WrapperClasses,__source:{fileName:f,lineNumber:1648}},this.renderHeader(),i.createElement(b,{sLocalizedInputType:"#SourceInputMode_Grab",SelectedAction:e.GetGrabAction(this.props.iMode),vecOptions:t,fnOptionSelected:this.OnGrabActionChanged,bReadOnly:!this.state.bEditMode,__source:{fileName:f,lineNumber:1650}}),this.renderFooter())},o.c([a.b],t.prototype,"OnGrabActionChanged",null),t=o.c([r.a],t)}(g),J=function(e){function t(t){var n=e.call(this,t)||this;return n.defaultProperties=[{property:"on/x",default:1,type:"float",variableName:"flOnX",mode:"scalar_constant"},{property:"off/x",default:0,type:"float",variableName:"flOffX",mode:"scalar_constant"},{property:"on/y",default:1,type:"float",variableName:"flOnY",mode:"scalar_constant"},{property:"off/y",default:0,type:"float",variableName:"flOffY",mode:"scalar_constant"},{property:"on/z",default:1,type:"float",variableName:"flOnZ",mode:"scalar_constant"},{property:"off/z",default:0,type:"float",variableName:"flOffZ",mode:"scalar_constant"}],n.LoadDefaults(),n.BModeHasSettings.bind(n),Object(d.enableUniqueIds)(n),n}return o.d(t,e),t.prototype.OnValueActionChanged=function(e){var t=this;this.props.controllerWatcher.forEach(function(n){n.SetValueAction(t.props.iMode,e)})},t.prototype.BModeHasSettings=function(){return this.GetActionArity()>=1},t.prototype.renderNormalizedSliderValue=function(e){return e.toFixed(1)},t.prototype.renderSettingsContent=function(){var e=(this.props.controllerWatcher[0],"");this.hasOwnProperty("nextUniqueId")&&(e=this.nextUniqueId());var t=this.GetActionArity();return i.createElement("div",{className:"InputSettingsModal",__source:{fileName:f,lineNumber:1736}},i.createElement("div",{className:"ChordBindingHeader FlexColumn",__source:{fileName:f,lineNumber:1738}},i.createElement("div",{className:"FlexFullWidthRowCentered",__source:{fileName:f,lineNumber:1739}},i.createElement("img",{className:"ActionButtonImage ActionButtonImageLarge ChordManageTopButton",src:"images/bindingui/icon_modal_edit_header.svg",__source:{fileName:f,lineNumber:1740}}),i.createElement("div",{className:"Label Title TitleCenter AllCaps",__source:{fileName:f,lineNumber:1741}},Object(s.b)("#BindingSettingsModal_Title")))),i.createElement("div",{className:"FlexColumn",__source:{fileName:f,lineNumber:1745}},t>=1&&i.createElement(F,{label:Object(s.b)("#SourceInputMode_ScalarOffX"),elementId:e,min:-1,max:1,step:.1,value:this.state.flOffX,onReset:this.onPropertyReset.bind(this,"off/x"),onChange:this.onPropertyChanged.bind(this,"off/x"),renderValue:this.renderNormalizedSliderValue,__source:{fileName:f,lineNumber:1746}}),t>=2&&i.createElement(F,{label:Object(s.b)("#SourceInputMode_ScalarOffY"),elementId:e,min:-1,max:1,step:.1,value:this.state.flOffY,onReset:this.onPropertyReset.bind(this,"off/y"),onChange:this.onPropertyChanged.bind(this,"off/y"),renderValue:this.renderNormalizedSliderValue,__source:{fileName:f,lineNumber:1747}}),t>=3&&i.createElement(F,{label:Object(s.b)("#SourceInputMode_ScalarOffZ"),elementId:e,min:-1,max:1,step:.1,value:this.state.flOffZ,onReset:this.onPropertyReset.bind(this,"off/z"),onChange:this.onPropertyChanged.bind(this,"off/z"),renderValue:this.renderNormalizedSliderValue,__source:{fileName:f,lineNumber:1748}})),i.createElement("div",{className:"InputSettingsCloseButton Label AllCaps",onClick:this.CloseModeSettings,__source:{fileName:f,lineNumber:1751}},Object(s.b)("#Button_Close")))},t.prototype.GetActionArity=function(){var e=this.props.controllerWatcher[0].GetValueAction(this.props.iMode);if(!e)return 0;switch(e.type){case"vector1":return 1;case"vector2":return 2;case"vector3":return 3;default:return 0}},t.prototype.render=function(){var e=this.props.controllerWatcher[0],t=c.a.GetActionBindingsOfType("vector1").concat(c.a.GetActionBindingsOfType("vector2")).concat(c.a.GetActionBindingsOfType("vector3")),n=t.map(function(e,t){var n=e.localized_name;return"mandatory"==e.requirement?n+=" ("+Object(s.b)("#BindingUI_SelectAction_Required")+")":"optional"!=e.requirement&&(n+=" ("+Object(s.b)("#BindingUI_SelectAction_Suggested")+")"),new h.b(e.name,n)});n.push(new h.b("none",Object(s.b)("#SourceInputAction_none")));var o="";this.hasOwnProperty("nextUniqueId")&&(o=this.nextUniqueId());var r=this.GetActionArity();return i.createElement("div",{className:this.WrapperClasses,__source:{fileName:f,lineNumber:1784}},this.renderHeader(),i.createElement(b,{sLocalizedInputType:"#SourceInputMode_ScalarValue",SelectedAction:e.GetValueAction(this.props.iMode),vecOptions:n,fnOptionSelected:this.OnValueActionChanged,bReadOnly:!this.state.bEditMode,__source:{fileName:f,lineNumber:1786}}),r>=1&&i.createElement(F,{label:Object(s.b)("#SourceInputMode_ScalarOnX"),elementId:o,min:-1,max:1,step:.1,value:this.state.flOnX,onChange:this.onPropertyChanged.bind(this,"on/x"),renderValue:this.renderNormalizedSliderValue,__source:{fileName:f,lineNumber:1787}}),r>=2&&i.createElement(F,{label:Object(s.b)("#SourceInputMode_ScalarOnY"),elementId:o,min:-1,max:1,step:.1,value:this.state.flOnY,onChange:this.onPropertyChanged.bind(this,"on/y"),renderValue:this.renderNormalizedSliderValue,__source:{fileName:f,lineNumber:1788}}),r>=3&&i.createElement(F,{label:Object(s.b)("#SourceInputMode_ScalarOnZ"),elementId:o,min:-1,max:1,step:.1,value:this.state.flOnZ,onChange:this.onPropertyChanged.bind(this,"on/z"),renderValue:this.renderNormalizedSliderValue,__source:{fileName:f,lineNumber:1789}}),this.renderFooter())},o.c([a.b],t.prototype,"OnValueActionChanged",null),t=o.c([r.a],t)}(g)},ukV5:function(e,t,n){"use strict";n.d(t,"a",function(){return u});var o=n("TToO"),i=n("FBH1"),r=n("mtWM"),l=n.n(r),a=n("y986"),s=function(){function e(e){this.m_communityData=void 0,this.m_bLoadingData=!1,this.m_sSteamID=void 0,this.m_dateLastUpdate=void 0,this.m_sSteamID=e,e.length>0&&this.EnsureCommunityDataLoaded()}return Object.defineProperty(e.prototype,"community_data_ready",{get:function(){return void 0!==this.m_communityData},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"avatar_url",{get:function(){return this.m_communityData&&this.m_communityData.avatar_url},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"persona_name",{get:function(){return this.m_communityData&&this.m_communityData.persona_name},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"player_level",{get:function(){return this.m_communityData&&this.m_communityData.level},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"player_level_class",{get:function(){return this.m_communityData&&this.m_communityData.level_class},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"player_badge",{get:function(){return this.m_communityData&&this.m_communityData.favorite_badge},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"player_in_game",{get:function(){return this.m_communityData&&this.m_communityData.in_game},enumerable:!0,configurable:!0}),e.prototype.EnsureCommunityDataLoaded=function(){var e=this;if(void 0===this.m_communityData&&!this.m_bLoadingData){this.m_bLoadingData=!0;l.a.get("https://steamcommunity.com/miniprofile/s"+this.m_sSteamID+"/json").then(function(t){var n=t.data;n&&n.avatar_url&&(e.m_communityData=n,e.m_dateLastUpdate=new Date),e.m_bLoadingData=!1}).catch(function(t){console.log(t),e.m_bLoadingData=!1})}},o.c([a.l],e.prototype,"m_communityData",void 0),o.c([i.b],e.prototype,"EnsureCommunityDataLoaded",null),e}(),c=function(){function e(){this.m_SteamCommunityUsers=a.l.map()}return e.prototype.GetUserInformation=function(e){return this.m_SteamCommunityUsers.has(e)?this.m_SteamCommunityUsers.get(e):(console.warn("CSteamCommunity:: Invalid GetUserInformation, call RequestUserInformation first"),new s(""))},e.prototype.RequestUserInformation=function(e){this.m_SteamCommunityUsers.hasOwnProperty(e)||this.m_SteamCommunityUsers.set(e,new s(e))},o.c([a.l],e.prototype,"m_SteamCommunityUsers",void 0),o.c([i.b],e.prototype,"GetUserInformation",null),o.c([i.b],e.prototype,"RequestUserInformation",null),e}(),u=new c;window.steamcommunity=u},y8T1:function(e,t,n){"use strict";function o(){return i.b(this,void 0,void 0,function(){var e,t,n,o,r,l,a;return i.e(this,function(i){return _.a.SetDesktopMode(Object(d.a)("desktop").length>0),VRHTML.IsAvailable()&&!_.a.DesktopMode&&(document.body.parentElement.classList.add("VROverlay"),VRHTML.VROverlay.SetWidthInMeters(VRHTML.VROverlay.ThisOverlayHandle(),3),VRHTML.VROverlay.SetFlag(VRHTML.VROverlay.ThisOverlayHandle(),p.c.NoDashboardTab,!0),VRHTML.VROverlay.SetFlag(VRHTML.VROverlay.ThisOverlayHandle(),p.c.ShowTouchPadScrollWheel,!0),VRHTML.VROverlay.SetFlag(VRHTML.VROverlay.ThisOverlayHandle(),p.c.SendVRScrollEvents,!0),VRHTML.VROverlay.SetInputMethod(VRHTML.VROverlay.ThisOverlayHandle(),p.d.Mouse)),(e=Object(d.a)("tracker_edit").length>0)?(_.a.SetTrackerEditStandalone(!0),_.a.ShowTrackerEdit(),[2]):void 0!=(t=Object(d.a)("app"))&&t.length>0&&(n=S.a.GetApp(t))?(h.a.SetSelectedApp(t),void 0!=(o=Object(d.a)("controller"))&&o.length>0?(h.a.SetSelectedController(o),r=Object(d.a)("action_set"),void 0!=r&&r.length>0&&h.a.SetSelectedActionSet("/actions/"+r),l=Object(d.a)("read_only").length>0,l?_.a.ViewCurrentBinding():_.a.EditCurrentBinding(),[2]):void 0!=(a=Object(d.a)("debugger"))&&a.length>0?(_.a.ShowDebugger(),[2]):(_.a.ShowBindingList(),[2])):(_.a.ShowAppSelect(),[2])})})}Object.defineProperty(t,"__esModule",{value:!0});var i=n("TToO"),r=n("GiK3"),l=(n.n(r),n("O27J")),a=(n.n(l),n("Mn8c")),s=n("NQlb"),c=n.n(s),u=n("N87Q"),p=(n.n(u),n("Ywy1")),d=n("FBH1"),m=n("mVfh"),h=n("6CG6"),f=n("zX5x"),_=n("nhcq"),b=n("1OpY"),g=n("ceep"),S=n("APa2"),y=n("AwaH"),v=n("rG7K"),N=n("J4P+"),C="c:\\buildslave\\steamvr_webpack_rel_win32\\build\\src\\vrwebui\\src\\js\\inputcontainerui.tsx",A=function(e){function t(t){return e.call(this,t)||this}return i.d(t,e),t.prototype.render=function(){_.a.Loading?document.body.classList.add("Loading"):document.body.classList.remove("Loading"),h.a.IsSteamAvailable?document.body.classList.remove("SteamUnavailable"):document.body.classList.add("SteamUnavailable");var e={width:"60%",height:"60%"};return r.createElement("div",{className:"FullPage",__source:{fileName:C,lineNumber:46}},!h.a.IsSteamAvailable&&r.createElement("div",{className:"NoSteamWarning",__source:{fileName:C,lineNumber:47}},Object(m.b)("#NoSteamWarning")),(_.a.GetUIState==_.b.ViewBinding||_.a.GetUIState==_.b.EditBinding)&&r.createElement(f.a,{bReadOnlyView:_.a.GetUIState==_.b.ViewBinding,__source:{fileName:C,lineNumber:48}}),_.a.GetUIState==_.b.List&&r.createElement(b.a,{__source:{fileName:C,lineNumber:49}}),_.a.GetUIState==_.b.AppSelect&&r.createElement(g.a,{__source:{fileName:C,lineNumber:50}}),_.a.GetUIState==_.b.Debugger&&r.createElement(y.a,{__source:{fileName:C,lineNumber:51}}),_.a.GetUIState==_.b.TrackerEdit&&r.createElement(v.a,{__source:{fileName:C,lineNumber:52}}),_.a.GetUIState==_.b.None&&r.createElement("div",{__source:{fileName:C,lineNumber:53}}),r.createElement(c.a,{visible:h.a.SteamVRUnavailable,showCloseButton:!1,onClose:function(){},animation:"fade",className:"ModeSettingsModal",closeOnEsc:!1,customStyles:e,__source:{fileName:C,lineNumber:54}},r.createElement("div",{className:"FlexFullHeightColumnCentered",__source:{fileName:C,lineNumber:55}},r.createElement("div",{className:"Title Label",__source:{fileName:C,lineNumber:56}},Object(m.b)("#BindingUI_SteamVRUnavailable")))))},t=i.c([a.a],t)}(r.Component),B=document.getElementById("root"),O=function(e){return l.render(r.createElement(e,{__source:{fileName:C,lineNumber:68}}),B)},I=null;VRHTML.IsAvailable()&&(I=VRHTML.GetSteamVRLanguage()),Object(m.a)(["bindingui"],I).then(function(){N.a.Init()}).then(function(){S.a.Init()}).then(function(){h.a.Init()}).then(function(){o()}).then(function(){_.a.Init()}).then(function(){O(A)}).catch(function(e){return console.log("FAILED TO INITIALIZE BINDINGUI",e)})},zX5x:function(e,t,n){"use strict";n.d(t,"a",function(){return O});var o,i=n("TToO"),r=n("GiK3"),l=(n.n(r),n("Mn8c")),a=n("NQlb"),s=n.n(a),c=n("N87Q"),u=(n.n(c),n("FBH1")),p=n("mVfh"),d=n("6CG6"),m=n("nhcq"),h=n("bD9n"),f=n("3y8m"),_=n("+MXI"),b=n("APa2"),g=n("4PsW"),S=n("+56F"),y=n("1rjz"),v=n("39d6"),N="c:\\buildslave\\steamvr_webpack_rel_win32\\build\\src\\vrwebui\\src\\js\\controllerbindingui.tsx";!function(e){e[e.None=0]="None",e[e.Personal=1]="Personal",e[e.Public=2]="Public",e[e.LocalFile=3]="LocalFile",e[e.ReplaceDefault=4]="ReplaceDefault",e[e.AddNewDefault=5]="AddNewDefault"}(o||(o={}));var C,A=function(e){function t(t){var n=e.call(this,t)||this;return n.m_NameInput=void 0,n.m_DescriptionInput=void 0,n.m_NameInputCallbackHandle=void 0,n.m_DescriptionCallbackHandle=void 0,n.state={sError:void 0},n}return i.d(t,e),t.prototype.CloseSaveDialog=function(){void 0!=this.m_NameInputCallbackHandle&&this.m_NameInputCallbackHandle.unregister(),void 0!=this.m_DescriptionCallbackHandle&&this.m_DescriptionCallbackHandle.unregister(),this.props.ParentClose()},t.prototype.ConfirmBindingName=function(){var e=this;console.log("Confirmed: ",this.m_NameInput.value,this.m_DescriptionInput.value);var t=void 0;switch(this.props.eSaveType){case o.Personal:t="personal";break;case o.Public:t="public";break;case o.LocalFile:t="local_file";break;case o.AddNewDefault:case o.ReplaceDefault:t="replace_default"}void 0!=t?d.a.SaveCurrentBinding(this.m_NameInput.value,this.m_DescriptionInput.value,t).then(function(t){d.a.SetBindingURL(t.uri),e.CloseSaveDialog()}).catch(function(t){console.log("Save failed:",t),e.setState({sError:t})}):console.error("Invalid save type: ",this.props.eSaveType)},t.prototype.BindNameInput=function(e){this.m_NameInput=e},t.prototype.BindDescriptionInput=function(e){this.m_DescriptionInput=e},t.prototype.OnNameFocus=function(e){m.a.IsRunningInDashboard&&void 0==this.m_NameInputCallbackHandle&&(this.m_NameInput.blur(),this.m_NameInputCallbackHandle=VRHTML.VROverlay.ShowKeyboard(Object(p.b)("#BindingUI_Binding_Name"),e.target.value,128,this.OnOverlayNameText))},t.prototype.OnOverlayNameText=function(e){this.m_NameInput.value=e,this.m_NameInputCallbackHandle.unregister(),this.m_NameInputCallbackHandle=void 0},t.prototype.OnDescriptionFocus=function(e){m.a.IsRunningInDashboard&&void 0==this.m_DescriptionCallbackHandle&&(this.m_DescriptionInput.blur(),this.m_DescriptionCallbackHandle=VRHTML.VROverlay.ShowKeyboard(Object(p.b)("#BindingUI_Binding_Description"),e.target.value,128,this.OnOverlayDescriptionText))},t.prototype.OnOverlayDescriptionText=function(e){this.m_DescriptionInput.value=e,this.m_DescriptionCallbackHandle.unregister(),this.m_DescriptionCallbackHandle=void 0},t.prototype.render=function(){var e={width:"60%",height:"fit-content"};return r.createElement(s.a,{visible:!0,onClose:this.CloseSaveDialog,showCloseButton:!1,animation:"fade",customStyles:e,className:"BindingChordsModal",closeOnEsc:!0,__source:{fileName:N,lineNumber:128}},r.createElement("div",{className:"SaveDialogWrapper FlexColumn",__source:{fileName:N,lineNumber:129}},r.createElement("div",{className:"FlexRow SaveTitleBar",__source:{fileName:N,lineNumber:130}},r.createElement("img",{className:"ActionButtonImage ActionButtonImageLarge ChordManageTopButton",src:"images/bindingui/icon_download.svg",__source:{fileName:N,lineNumber:131}}),r.createElement("div",{className:"Label Title TitleCenter AllCaps",__source:{fileName:N,lineNumber:132}},Object(p.b)("#BindingUI_SaveTitle"))),this.state.sError&&r.createElement("div",{className:"Label Error",__source:{fileName:N,lineNumber:134}},Object(p.b)(this.state.sError)),this.props.eSaveType==o.Personal&&r.createElement("div",{className:"Label Title",__source:{fileName:N,lineNumber:135}},Object(p.b)("#BindingUI_Save_Personal")),this.props.eSaveType==o.Public&&r.createElement("div",{className:"Label Title",__source:{fileName:N,lineNumber:136}},Object(p.b)("#BindingUI_Save_Public")),this.props.eSaveType==o.LocalFile&&r.createElement("div",{className:"Label Title",__source:{fileName:N,lineNumber:137}},Object(p.b)("#BindingUI_Save_Export")),(this.props.eSaveType==o.ReplaceDefault||this.props.eSaveType==o.AddNewDefault)&&r.createElement("div",{className:"Label Title",__source:{fileName:N,lineNumber:138}},Object(p.b)("#BindingUI_Save_ReplaceDefault")),this.props.eSaveType==o.AddNewDefault&&r.createElement("div",{className:"Label",__source:{fileName:N,lineNumber:139}},Object(p.b)("#BindingUI_Save_AddNewDefault")),r.createElement("label",{className:"Label",htmlFor:"SaveDialogName",__source:{fileName:N,lineNumber:140}},Object(p.b)("#BindingUI_Binding_Name")," "),r.createElement("input",{type:"text",defaultValue:this.props.sName,ref:this.BindNameInput,onFocus:this.OnNameFocus,__source:{fileName:N,lineNumber:141}}),r.createElement("label",{className:"Label",htmlFor:"SaveDialogDescription",__source:{fileName:N,lineNumber:142}},Object(p.b)("#BindingUI_Binding_Description")),r.createElement("textarea",{cols:80,rows:5,ref:this.BindDescriptionInput,defaultValue:this.props.sDescription,onFocus:this.OnDescriptionFocus,placeholder:Object(p.b)("BindingUI_SaveDescriptionPlaceholder"),__source:{fileName:N,lineNumber:143}}),r.createElement("div",{className:"FlexRow SaveBottomButtonRow",__source:{fileName:N,lineNumber:144}},r.createElement("div",{onClick:this.ConfirmBindingName,className:"ButtonControl",__source:{fileName:N,lineNumber:145}},Object(p.b)("#BindingUI_SaveBinding")),r.createElement("div",{onClick:this.CloseSaveDialog,className:"ButtonControl",__source:{fileName:N,lineNumber:146}},Object(p.b)("#Button_Cancel")))))},i.c([u.b],t.prototype,"CloseSaveDialog",null),i.c([u.b],t.prototype,"ConfirmBindingName",null),i.c([u.b],t.prototype,"BindNameInput",null),i.c([u.b],t.prototype,"BindDescriptionInput",null),i.c([u.b],t.prototype,"OnNameFocus",null),i.c([u.b],t.prototype,"OnOverlayNameText",null),i.c([u.b],t.prototype,"OnDescriptionFocus",null),i.c([u.b],t.prototype,"OnOverlayDescriptionText",null),t=i.c([l.a],t)}(r.Component),B=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.d(t,e),t.prototype.render=function(){var e=this.props.UnboundActions.vecRequired.map(function(e,t){return r.createElement("div",{key:t,__source:{fileName:N,lineNumber:188}},Object(p.b)("#BindingUI_UnboundActions_Required",e.localized_name))}),t=this.props.UnboundActions.vecSuggested.map(function(e,t){return r.createElement("div",{key:t,__source:{fileName:N,lineNumber:191}},Object(p.b)("#BindingUI_UnboundActions_Suggested",e.localized_name))}),n="UnboundActionsOverlay";return this.props.Visible&&(e.length||t.length)&&(n+=" Visible"),r.createElement("div",{className:n,__source:{fileName:N,lineNumber:196}},r.createElement("div",{className:"FlexColumn",__source:{fileName:N,lineNumber:197}},r.createElement("div",{className:"Label Title",__source:{fileName:N,lineNumber:198}},Object(p.b)("#BindingUI_UnboundActions_Title")),e,t))},t=i.c([l.a],t)}(r.Component);!function(e){e[e.ActionSet=0]="ActionSet",e[e.LegacySetup=1]="LegacySetup"}(C||(C={}));var O=function(e){function t(t){var n=e.call(this,t)||this;return n.state={bDeveloperOutput:!1,bShowPoseBindings:!1,bShowBindingSettings:!1,bBindingUIInMirroredMode:!1,bShowHapticsBindings:!1,bShowChordBindings:!1,eSaveType:o.None,bScrolledBindingList:!1,bShowSelectConfirmModal:!1,bShowSkeletonBindings:!1,bEditBindingOnSelectConfirm:!1,bShowUnboundActionsOverlay:!1,vecUnboundActions:{vecRequired:[],vecSuggested:[]},eTabType:C.ActionSet},n}return i.d(t,e),t.prototype.OnAppDropdownChanged=function(e){d.a.SetSelectedApp(e)},t.prototype.OnActionSetDropdownChanged=function(e){this.setState({eTabType:C.ActionSet}),d.a.SetSelectedActionSet(e)},t.prototype.ToggleDeveloperOutput=function(){this.setState({bDeveloperOutput:!this.state.bDeveloperOutput})},t.prototype.OpenPoseBindingsModal=function(){this.setState({bShowPoseBindings:!0})},t.prototype.ClosePoseBindingsModal=function(){this.setState({bShowPoseBindings:!1})},t.prototype.OpenHapticsBindingsModal=function(){this.setState({bShowHapticsBindings:!0})},t.prototype.CloseHapticsBindingsModal=function(){this.setState({bShowHapticsBindings:!1})},t.prototype.OpenSkeletonBindingsModal=function(){this.setState({bShowSkeletonBindings:!0})},t.prototype.CloseSkeletonBindingsModal=function(){this.setState({bShowSkeletonBindings:!1})},t.prototype.OpenChordBindingsModal=function(){this.setState({bShowChordBindings:!0})},t.prototype.CloseChordBindingsModal=function(){this.setState({bShowChordBindings:!1})},t.prototype.CloseSaveModal=function(){this.setState({eSaveType:o.None})},t.prototype.ShowPublicModal=function(){this.setState({eSaveType:o.Public})},t.prototype.ShowPersonalModal=function(){this.setState({eSaveType:o.Personal})},t.prototype.ShowExportModal=function(){this.setState({eSaveType:o.LocalFile})},t.prototype.ShowReplaceDefaultModal=function(){var e=void 0!=d.a.GetSelectedAppDefaultBinding(d.a.SelectedControllerTypeInfo.name);this.setState({eSaveType:e?o.ReplaceDefault:o.AddNewDefault})},t.prototype.ShowUnboundActionsOverlay=function(e){this.setState({bShowUnboundActionsOverlay:!0,vecUnboundActions:e})},t.prototype.HideUnboundActionsOverlay=function(){this.setState({bShowUnboundActionsOverlay:!1})},t.prototype.OnScroll=function(e){this.setState({bScrolledBindingList:e.currentTarget.scrollTop>0})},t.prototype.SetBindingUIInMirroredMode=function(e){this.state.bBindingUIInMirroredMode!=e&&this.setState({bBindingUIInMirroredMode:e})},t.prototype.SelectThisBinding=function(e,t){m.a.Loading=!0;var n=d.a.SelectedControllerTypeInfo;d.a.SelectConfig(d.a.SelectedApp,n?n.name:"",e).then(function(){d.a.ReloadCurrentApp().then(function(){t?m.a.EditCurrentBinding():m.a.ShowBindingList(),setTimeout(function(){m.a.Loading=!1},1)})})},t.prototype.ShouldShowSelectConfirmDialog=function(){var e=m.a.CurrentBinding;return!!e&&(this.props.bReadOnlyView&&"autosave"==e.type&&e.url!=d.a.LoadedBindingURL)},t.prototype.OnSelectBinding=function(e){this.ShouldShowSelectConfirmDialog()?this.setState({bShowSelectConfirmModal:!0,bEditBindingOnSelectConfirm:e}):this.OnSelectConfirmed(d.a.LoadedBindingURL,e)},t.prototype.OnSelectConfirmed=function(e,t){this.SelectThisBinding(e,t),this.OnSelectDone()},t.prototype.OnSelectDone=function(){this.setState({bShowSelectConfirmModal:!1})},t.prototype.OnSaveCurrentBinding=function(e){var t=m.a.CurrentBinding;d.a.SetBindingURL(t.url),d.a.LoadControllerConfiguration().then(function(){d.a.SaveCurrentBinding(t.name,t.description,"personal").then(function(){e()})})},t.prototype.renderSelectConfirmModal=function(){var e=this;return r.createElement(s.a,{visible:this.state.bShowSelectConfirmModal,onClose:this.OnSelectDone,showCloseButton:!1,animation:"fade",className:"ModeSettingsModal",closeOnEsc:!0,__source:{fileName:N,lineNumber:335}},this.state.bShowSelectConfirmModal&&r.createElement("div",{className:"FlexFullHeightColumnCentered",__source:{fileName:N,lineNumber:337}},r.createElement("div",{className:"Label",__source:{fileName:N,lineNumber:338}},Object(p.b)("#BindingUI_List_Select_Confirm")),r.createElement("div",{className:"FlexRow",__source:{fileName:N,lineNumber:339}},r.createElement("div",{className:"ButtonControl",onClick:function(){return e.OnSelectConfirmed(d.a.LoadedBindingURL,e.state.bEditBindingOnSelectConfirm)},__source:{fileName:N,lineNumber:340}},Object(p.b)("#Button_Discard")),r.createElement("div",{className:"ButtonControl",onClick:function(){var t=d.a.LoadedBindingURL;e.OnSaveCurrentBinding(function(){return e.OnSelectConfirmed(t,e.state.bEditBindingOnSelectConfirm)})},__source:{fileName:N,lineNumber:341}},Object(p.b)("#Button_Save")),r.createElement("div",{className:"ButtonControl",onClick:this.OnSelectDone,__source:{fileName:N,lineNumber:342}},Object(p.b)("#Button_Cancel")))))},t.prototype.ShowInputDebugger=function(){m.a.ShowDebugger()},t.prototype.OnLegacySetup=function(){this.setState({eTabType:C.LegacySetup})},t.prototype.render=function(){var e=this,t=d.a.ActionSets,n=t.map(function(t,n){var o="Label Tab PositionRelative",i=new d.c;d.a.UnboundActions.has(t.name)&&(i=d.a.UnboundActions.get(t.name));var l=i.vecRequired.length+i.vecSuggested.length;return i.vecRequired.length>0?o+=" Error":i.vecSuggested.length>0&&(o+=" Warning"),t.name==d.a.SelectedActionSet&&e.state.eTabType==C.ActionSet&&(o+=" Selected"),r.createElement("div",{key:n,className:o,onMouseEnter:function(){e.ShowUnboundActionsOverlay(i)},onMouseLeave:e.HideUnboundActionsOverlay,onClick:function(){e.OnActionSetDropdownChanged(t.name)},__source:{fileName:N,lineNumber:370}},t.localized_name,l>0&&r.createElement("div",{className:"UnboundActionsCount",__source:{fileName:N,lineNumber:372}},l))});if(d.a.SelectedBindingIsLegacy||d.a.ManifestOptions.length>0){var i="Label Tab PositionRelative";this.state.eTabType==C.LegacySetup&&(i+=" Selected"),n.push(r.createElement("div",{key:"action_aliases",className:i,onClick:this.OnLegacySetup,__source:{fileName:N,lineNumber:380}},Object(p.b)("#LegacySetupTab")))}var l=!1,a=!1,c=void 0;d.a.SelectedControllerTypeInfo&&d.a.SelectedControllerTypeInfo.profile&&this.state.eTabType==C.ActionSet&&(c=d.a.SelectedControllerTypeInfo.profile,l="controller_handed"==c.input_bindingui_mode,a="hmd"==c.input_bindingui_mode||"single_device"==c.input_bindingui_mode);var u=!l&&!a&&this.state.eTabType==C.ActionSet,O=this.state.bDeveloperOutput?"Hide Developer output":"Show Developer output",I="";this.state.bScrolledBindingList&&(I+=" Scrolled");var M={width:"60%",height:"auto",padding:"0px",maxHeight:"90%"},E={width:"fit-content",height:"fit-content",padding:"0px",maxHeight:"90%"},w=b.a.GetApp(d.a.SelectedApp),T="";w&&(T=w.name);var k=this.props.bReadOnlyView?Object(p.b)("#BindingUI_ViewPageTitle",d.a.ConfigName):Object(p.b)("#BindingUI_EditPageTitle",d.a.ConfigName),P=Object(p.b)("#BindingUI_PageSubTitle",d.a.SelectedControllerTypeLocalizedName,T,Object(p.b)("#BindingUI_BindingType_"+d.a.CurrentBindingSaveType));return r.createElement("div",{className:"FlexColumn FullPage",__source:{fileName:N,lineNumber:419}},r.createElement("div",{className:"TopRow FlexColumn"+I,__source:{fileName:N,lineNumber:420}},r.createElement("div",{className:"FlexColumn DescriptionTopRow",__source:{fileName:N,lineNumber:421}},r.createElement(g.a,{fnOnClick:m.a.ShowBindingList,strTitle:k,strSubTitle:P,__source:{fileName:N,lineNumber:422}})),t.length>0&&r.createElement("div",{className:"ActionTabContainer TabRow FlexFullWidthRowCentered",__source:{fileName:N,lineNumber:424}},n),this.state.eTabType==C.ActionSet&&r.createElement(B,{Visible:this.state.bShowUnboundActionsOverlay,UnboundActions:this.state.vecUnboundActions,__source:{fileName:N,lineNumber:427}}),d.a.SaveNoticeText&&r.createElement("div",{className:"UnboundActionsOverlay Visible",__source:{fileName:N,lineNumber:429}},Object(p.b)(d.a.SaveNoticeText))),l&&r.createElement(h.a,{bSingleMode:!1,selectedActionSet:d.a.SelectedActionSetDetails,fnSetMirroredMode:this.SetBindingUIInMirroredMode,fnOpenChordBindingsModal:this.OpenChordBindingsModal,fnOpenHapticsBindingsModal:this.OpenHapticsBindingsModal,fnOpenPoseBindingsModal:this.OpenPoseBindingsModal,fnOpenSkeletonBindingsModal:this.OpenSkeletonBindingsModal,fnScrolledBindingList:this.OnScroll,bReadOnly:this.props.bReadOnlyView,__source:{fileName:N,lineNumber:435}}),a&&r.createElement(h.a,{bSingleMode:!0,fnOpenChordBindingsModal:this.OpenChordBindingsModal,fnOpenHapticsBindingsModal:this.OpenHapticsBindingsModal,fnOpenPoseBindingsModal:this.OpenPoseBindingsModal,fnOpenSkeletonBindingsModal:this.OpenSkeletonBindingsModal,fnScrolledBindingList:this.OnScroll,bReadOnly:this.props.bReadOnlyView,__source:{fileName:N,lineNumber:436}}),u&&r.createElement(h.b,{__source:{fileName:N,lineNumber:437}}),this.state.eTabType==C.LegacySetup&&r.createElement("div",{className:"LegacySetupWrapper",__source:{fileName:N,lineNumber:439}},r.createElement(y.a,{__source:{fileName:N,lineNumber:440}}),r.createElement(S.a,{__source:{fileName:N,lineNumber:441}}),r.createElement(v.a,{__source:{fileName:N,lineNumber:442}})),r.createElement("div",{className:"BottomButtonRow"+I,__source:{fileName:N,lineNumber:445}},r.createElement("hr",{__source:{fileName:N,lineNumber:446}}),r.createElement("div",{className:"BindingManageButtons FlexFullWidthRowCentered",__source:{fileName:N,lineNumber:447}},!this.props.bReadOnlyView&&r.createElement("div",{className:"FlexColumn ButtonControl SteamRequired",onClick:this.ShowPublicModal,__source:{fileName:N,lineNumber:448}},Object(p.b)("#BindingUI_PublishToWorkshop")),!this.props.bReadOnlyView&&r.createElement("div",{className:"FlexColumn ButtonControl SteamRequired",onClick:this.ShowPersonalModal,__source:{fileName:N,lineNumber:449}},Object(p.b)("#BindingUI_SavePersonal")),this.props.bReadOnlyView&&r.createElement("div",{className:"FlexColumn ButtonControl",onClick:function(){e.OnSelectBinding(!1)},__source:{fileName:N,lineNumber:450}},Object(p.b)("#BindingUI_SelectThisBinding")),this.props.bReadOnlyView&&r.createElement("div",{className:"FlexColumn ButtonControl",onClick:function(){e.OnSelectBinding(!0)},__source:{fileName:N,lineNumber:451}},Object(p.b)("#BindingUI_EditThisBinding")),d.a.BDevMode&&r.createElement("div",{className:"BindingManageButtonsHR",__source:{fileName:N,lineNumber:452}}),d.a.BDevMode&&r.createElement("div",{className:"FlexColumn ButtonControl",onClick:this.ToggleDeveloperOutput,__source:{fileName:N,lineNumber:453}},O),d.a.BDevMode&&d.a.SelectedBindingIsLegacy&&r.createElement("div",{className:"FlexColumn ButtonControl",onClick:this.ShowExportModal,__source:{fileName:N,lineNumber:456}},Object(p.b)("#BindingUI_ExportBindingFile")),d.a.BDevMode&&!d.a.SelectedBindingIsLegacy&&r.createElement("div",{className:"FlexColumn ButtonControl",onClick:this.ShowReplaceDefaultModal,__source:{fileName:N,lineNumber:459}},Object(p.b)("#BindingUI_ReplaceDefaultFile")),d.a.BDevMode&&r.createElement("div",{className:"FlexColumn ButtonControl",onClick:this.ShowInputDebugger,__source:{fileName:N,lineNumber:460}},Object(p.b)("#BindingUI_InputDebugger")),d.a.BSelectedActionSetHasPoses&&r.createElement(s.a,{visible:this.state.bShowPoseBindings,onClose:this.ClosePoseBindingsModal,showCloseButton:!1,animation:"fade",customStyles:M,className:"BindingPosesModal",closeOnEsc:!0,__source:{fileName:N,lineNumber:463}},this.state.bShowPoseBindings&&r.createElement(f.a,{fnCloseModal:this.ClosePoseBindingsModal,eActionSourceType:f.b.Pose,bSingleControllerMode:a,bSlaveSecondaryControllerBinding:!(l&&!this.state.bBindingUIInMirroredMode),bReadOnly:this.props.bReadOnlyView,__source:{fileName:N,lineNumber:464}})),d.a.BSelectedActionSetHasHaptics&&r.createElement(s.a,{visible:this.state.bShowHapticsBindings,onClose:this.CloseHapticsBindingsModal,showCloseButton:!1,animation:"fade",customStyles:M,className:"BindingPosesModal",closeOnEsc:!0,__source:{fileName:N,lineNumber:467}},this.state.bShowHapticsBindings&&r.createElement(f.a,{fnCloseModal:this.CloseHapticsBindingsModal,eActionSourceType:f.b.Haptics,bSingleControllerMode:a,bSlaveSecondaryControllerBinding:!(l&&!this.state.bBindingUIInMirroredMode),bReadOnly:this.props.bReadOnlyView,__source:{fileName:N,lineNumber:468}})),d.a.BSelectedActionSetHasSkeletons&&r.createElement(s.a,{visible:this.state.bShowSkeletonBindings,onClose:this.CloseSkeletonBindingsModal,showCloseButton:!1,animation:"fade",customStyles:M,className:"BindingPosesModal",closeOnEsc:!0,__source:{fileName:N,lineNumber:471}},this.state.bShowSkeletonBindings&&r.createElement(f.a,{fnCloseModal:this.CloseSkeletonBindingsModal,eActionSourceType:f.b.Skeleton,bSingleControllerMode:a,bSlaveSecondaryControllerBinding:!(l&&!this.state.bBindingUIInMirroredMode),bReadOnly:this.props.bReadOnlyView,__source:{fileName:N,lineNumber:472}})),r.createElement(s.a,{visible:this.state.bShowChordBindings,onClose:this.CloseChordBindingsModal,showCloseButton:!1,animation:"fade",className:"BindingChordsModal",closeOnEsc:!0,customStyles:E,__source:{fileName:N,lineNumber:474}},this.state.bShowChordBindings&&r.createElement(_.a,{fnCloseModal:this.CloseChordBindingsModal,bReadOnly:this.props.bReadOnlyView,__source:{fileName:N,lineNumber:475}}))),r.createElement("div",{className:"DebugButtons FlexFullWidthRowCentered",__source:{fileName:N,lineNumber:478}},this.state.bDeveloperOutput&&r.createElement("textarea",{readOnly:!0,style:{width:"1000px",height:"400px"},value:d.a.BindingConfig,__source:{fileName:N,lineNumber:479}}))),this.state.eSaveType!=o.None&&r.createElement(A,{sName:d.a.ConfigName,sDescription:d.a.ConfigDescription,eSaveType:this.state.eSaveType,ParentClose:this.CloseSaveModal,__source:{fileName:N,lineNumber:482}}),this.renderSelectConfirmModal())},i.c([u.b],t.prototype,"OnAppDropdownChanged",null),i.c([u.b],t.prototype,"OnActionSetDropdownChanged",null),i.c([u.b],t.prototype,"ToggleDeveloperOutput",null),i.c([u.b],t.prototype,"OpenPoseBindingsModal",null),i.c([u.b],t.prototype,"ClosePoseBindingsModal",null),i.c([u.b],t.prototype,"OpenHapticsBindingsModal",null),i.c([u.b],t.prototype,"CloseHapticsBindingsModal",null),i.c([u.b],t.prototype,"OpenSkeletonBindingsModal",null),i.c([u.b],t.prototype,"CloseSkeletonBindingsModal",null),i.c([u.b],t.prototype,"OpenChordBindingsModal",null),i.c([u.b],t.prototype,"CloseChordBindingsModal",null),i.c([u.b],t.prototype,"CloseSaveModal",null),i.c([u.b],t.prototype,"ShowPublicModal",null),i.c([u.b],t.prototype,"ShowPersonalModal",null),i.c([u.b],t.prototype,"ShowExportModal",null),i.c([u.b],t.prototype,"ShowReplaceDefaultModal",null),i.c([u.b],t.prototype,"ShowUnboundActionsOverlay",null),i.c([u.b],t.prototype,"HideUnboundActionsOverlay",null),i.c([u.b],t.prototype,"OnScroll",null),i.c([u.b],t.prototype,"SetBindingUIInMirroredMode",null),i.c([u.b],t.prototype,"SelectThisBinding",null),i.c([u.b],t.prototype,"OnSelectBinding",null),i.c([u.b],t.prototype,"OnSelectConfirmed",null),i.c([u.b],t.prototype,"OnSelectDone",null),i.c([u.b],t.prototype,"OnSaveCurrentBinding",null),i.c([u.b],t.prototype,"renderSelectConfirmModal",null),i.c([u.b],t.prototype,"ShowInputDebugger",null),i.c([u.b],t.prototype,"OnLegacySetup",null),t=i.c([l.a],t)}(r.Component)}},["y8T1"]);
//# sourceMappingURL=controllerbindingui.5188f75a49d38fc891f2.js.map