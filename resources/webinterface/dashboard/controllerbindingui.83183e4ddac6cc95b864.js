/*!
 * (c) Valve Corporation. Use is governed by the terms of the Steam Subscriber Agreement http://store.steampowered.com/subscriber_agreement/. 
 * 
 */
webpackJsonp([0],{"+MXI":function(e,t,n){"use strict";function o(e,t,n,o){var i=u.a.GetActionBinding(e,u.a.SelectedActionSet);if(!i||0==i.length)return null;var r=[],s="";if(i.map(function(e){for(var n=u.a.GetBooleanInputOptionsForMode(e.mode),o=0,i=n;o<i.length;o++){var a=i[o];r.push({sActionBindMode:e.mode,sInputOption:a}),a==t&&(s=e.mode)}}),0==r.length)return null;var l=r.map(function(e,t){return new p.b(e.sInputOption,Object(c.b)("#SourceInputMode_"+e.sActionBindMode)+" "+Object(c.b)("#SourceInputMode_"+e.sInputOption))}),m=function(t){u.a.SetInputTypeForChord(n,e,t)};return a.createElement("div",{className:"ChordBindingInputType",__source:{fileName:d,lineNumber:37}},a.createElement(p.a,{vecOptions:l,sValueSelectedItem:t,sLocalizedSelectedItem:Object(c.b)("#SourceInputMode_"+s)+" "+Object(c.b)("#SourceInputMode_"+t),fnOptionSelected:m,bReadOnly:o,__source:{fileName:d,lineNumber:38}}))}function i(e,t,n,o){var i=t.filter(function(t){var o=n.inputs.filter(function(e){return e[0]==t.path});return t.path==e||0==o.length}),r=i.map(function(e,t){return new p.b(e.path,u.a.LocalizePathNameForSelectedControllerType(e.path))}),s=function(t){u.a.SetInputSourceForChord(n,t,e)};return a.createElement("div",{className:"ChordBindingInputType",__source:{fileName:d,lineNumber:50}},a.createElement(p.a,{vecOptions:r,sValueSelectedItem:e,sLocalizedSelectedItem:u.a.LocalizePathNameForSelectedControllerType(e),fnOptionSelected:s,bReadOnly:o,__source:{fileName:d,lineNumber:51}}))}n.d(t,"a",function(){return h});var r=n("TToO"),a=n("GiK3"),s=(n.n(a),n("Mn8c")),l=n("FBH1"),c=n("mVfh"),u=n("6CG6"),p=n("6Pre"),d="c:\\buildslave\\steamvr_webpack_rel_win32\\build\\src\\vrwebui\\src\\js\\controllerbinding_chords.tsx",m=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.d(t,e),t.prototype.OnActionOutputChanged=function(e){u.a.SetActionForChord(this.props.chord,e)},t.prototype.DeleteChord=function(){u.a.DeleteChord(this.props.chord)},t.prototype.DeleteSourceFromChord=function(e,t){u.a.DeleteSourceFromChord(this.props.chord,e)},t.prototype.AddSourceToChord=function(){var e=this.props.chord.inputs?this.props.chord.inputs.length:0;u.a.SetInputSourceForChord(this.props.chord,u.a.SelectedActionSetSources[e].path)},t.prototype.render=function(){var e=this,t=u.a.SelectedActionSetActions.filter(function(e){return"boolean"==e.type}),n="",r="none",s=!1;this.props.chord.output?(n=this.props.chord.output,r=this.props.chord.output.toLowerCase()):s=!0;var l=t.map(function(t,o){return e.props.chord.output&&t.name.toLowerCase()==e.props.chord.output.toLowerCase()&&(n=t.localized_name),new p.b(t.name.toLowerCase(),t.localized_name)}),m=u.a.SelectedActionSetSources;if(!m||0==m.length)return null;var h=void 0;return this.props.chord.inputs?h=this.props.chord.inputs.map(function(t,n){var r=a.createElement("div",{className:"Label ChordBindingPlusLabel",__source:{fileName:d,lineNumber:98}},a.createElement("img",{className:"ActionButtonImage ChordBindingImage",src:"images/bindingui/icon_plus.svg",__source:{fileName:d,lineNumber:98}}));return a.createElement("div",{className:"FlexFullHeightColumnCentered",key:n,__source:{fileName:d,lineNumber:99}},a.createElement("div",{className:"FlexRow ChordBindingEntry",__source:{fileName:d,lineNumber:100}},a.createElement("div",{className:"FlexColumn",__source:{fileName:d,lineNumber:101}},i(t[0],m,e.props.chord,e.props.bReadOnly),o(t[0],t[1],e.props.chord,e.props.bReadOnly)),!e.props.bReadOnly&&a.createElement("img",{onClick:function(){e.DeleteSourceFromChord(t[0],t[1])},className:"ActionButtonImage ChordBindingEntryDelete",src:"images/bindingui/icon_trash.svg",__source:{fileName:d,lineNumber:105}})),n!=e.props.chord.inputs.length-1&&r)}):s||this.AddSourceToChord(),a.createElement("div",{className:"FlexColumn",__source:{fileName:d,lineNumber:114}},a.createElement("div",{className:"FlexRow ChordBindingRow",__source:{fileName:d,lineNumber:115}},a.createElement("div",{className:"FlexColumn ChordBindingSet",__source:{fileName:d,lineNumber:116}},a.createElement(p.a,{sHeaderClass:"ChordBindingAction",vecOptions:l,sValueSelectedItem:r,sModalTitleString:Object(c.b)("#BindingUI_Chord_SelectActionModalHeader"),bShowOptionsOnStart:s,sLocalizedSelectedItem:n,fnOptionSelected:this.OnActionOutputChanged,bReadOnly:this.props.bReadOnly,__source:{fileName:d,lineNumber:117}})),a.createElement("img",{className:"ActionButtonImage ChordBindingImage",src:"images/bindingui/icon_arrow_right.svg",__source:{fileName:d,lineNumber:119}}),a.createElement("div",{className:"FlexFullHeightColumnCentered ChordBindingSet",__source:{fileName:d,lineNumber:120}},h),!this.props.bReadOnly&&a.createElement("div",{className:"FlexFullHeightColumnCentered ChordEntryActionColumn",__source:{fileName:d,lineNumber:123}},a.createElement("div",{onClick:this.AddSourceToChord,className:"Label ChordManageButtons ChordBindingBigButton AllCaps",__source:{fileName:d,lineNumber:124}},a.createElement("img",{className:"ActionButtonImage",src:"images/bindingui/icon_add.svg",__source:{fileName:d,lineNumber:124}}),Object(c.b)("#BindingUI_AddChordInput")),a.createElement("div",{onClick:this.DeleteChord,className:"Label ChordManageButtons ChordBindingBigButton AllCaps",__source:{fileName:d,lineNumber:125}},a.createElement("img",{className:"ActionButtonImage",src:"images/bindingui/icon_trash.svg",__source:{fileName:d,lineNumber:125}}),Object(c.b)("#BindingUI_DeleteChord")))),a.createElement("div",{className:"FlexRow ChordButtonRow",__source:{fileName:d,lineNumber:128}}))},r.c([l.b],t.prototype,"OnActionOutputChanged",null),r.c([l.b],t.prototype,"DeleteChord",null),r.c([l.b],t.prototype,"DeleteSourceFromChord",null),r.c([l.b],t.prototype,"AddSourceToChord",null),t=r.c([s.a],t)}(a.Component),h=function(e){function t(t){return e.call(this,t)||this}return r.d(t,e),t.prototype.AddChord=function(){u.a.AddChord()},t.prototype.render=function(){var e=this,t=[],n=u.a.SelectedActionSetChords;return n&&n.length&&(t=n.map(function(t,o){return a.createElement("div",{key:o,__source:{fileName:d,lineNumber:163}},a.createElement(m,{chord:t,bReadOnly:e.props.bReadOnly,__source:{fileName:d,lineNumber:164}}),o!=n.length-1&&a.createElement("hr",{__source:{fileName:d,lineNumber:165}}))})),a.createElement("div",{className:"FlexColumn ChordBindingModal",__source:{fileName:d,lineNumber:169}},a.createElement("div",{className:"ChordBindingHeader FlexColumn",__source:{fileName:d,lineNumber:170}},a.createElement("div",{className:"FlexFullWidthRowCentered",__source:{fileName:d,lineNumber:171}},a.createElement("img",{className:"ActionButtonImage ActionButtonImageLarge ChordManageTopButton",src:"images/bindingui/icon_modal_edit_header.svg",__source:{fileName:d,lineNumber:172}}),a.createElement("div",{className:"Label Title TitleCenter AllCaps",__source:{fileName:d,lineNumber:173}},Object(c.b)("#BindingUI_ChordTitle")))),a.createElement("div",{className:"FlexColumn ChordBindingContents ChordBindingChordsList",__source:{fileName:d,lineNumber:176}},t,!this.props.bReadOnly&&a.createElement("div",{className:"Label ChordManageButtons ChordBindingBigButton AllCaps AddChordButton",onClick:this.AddChord,__source:{fileName:d,lineNumber:178}},a.createElement("img",{className:"ActionButtonImage",src:"images/bindingui/icon_add.svg",__source:{fileName:d,lineNumber:178}}),Object(c.b)("#BindingUI_AddChord"))),a.createElement("div",{className:"ChordBindingCloseButton Label AllCaps",onClick:this.props.fnCloseModal,__source:{fileName:d,lineNumber:180}},Object(c.b)("#Button_Close")))},r.c([l.b],t.prototype,"AddChord",null),t=r.c([s.a],t)}(a.Component)},"1OpY":function(e,t,n){"use strict";n.d(t,"a",function(){return y});var o=n("TToO"),i=n("GiK3"),r=(n.n(i),n("Mn8c")),a=n("NQlb"),s=n.n(a),l=n("N87Q"),c=(n.n(l),n("FBH1")),u=n("mVfh"),p=n("6CG6"),d=n("nhcq"),m=n("6Pre"),h=n("APa2"),f=n("ukV5"),g=n("4PsW"),_="c:\\buildslave\\steamvr_webpack_rel_win32\\build\\src\\vrwebui\\src\\js\\bindinglistui.tsx",b=function(e){function t(t){var n=e.call(this,t)||this;return n.state={bIsVisible:!0},n}return o.d(t,e),t.prototype.CloseDialog=function(){this.setState({bIsVisible:!1})},t.prototype.render=function(){return i.createElement(s.a,{visible:this.state.bIsVisible,onClose:this.CloseDialog,showCloseButton:!1,animation:"fade",className:"BindingChordsModal",closeOnEsc:!0,__source:{fileName:_,lineNumber:27}},i.createElement("div",{className:"SaveDialogWrapper FlexColumn LoadErrorDialogWrapper",__source:{fileName:_,lineNumber:28}},i.createElement("div",{className:"Label TitleCenter",__source:{fileName:_,lineNumber:29}},this.props.sError),i.createElement("div",{className:"FlexRow SaveBottomButtonRow LoadErrorCloseButton",__source:{fileName:_,lineNumber:32}},i.createElement("div",{onClick:this.CloseDialog,className:"ButtonControl",__source:{fileName:_,lineNumber:33}},Object(u.b)("#Button_Close")))))},o.c([c.b],t.prototype,"CloseDialog",null),t=o.c([r.a],t)}(i.Component),S=function(e){function t(t){var n=e.call(this,t)||this;return n.state={bShowDeleteConfirmModal:!1,bShowSelectConfirmModal:!1},n.props.result.steamIDOwner.length&&"0"!=n.props.result.steamIDOwner&&f.a.RequestUserInformation(n.props.result.steamIDOwner),n}return o.d(t,e),t.prototype.OnDelete=function(){this.setState({bShowDeleteConfirmModal:!0})},t.prototype.OnDeleteConfirmed=function(){this.setState({bShowDeleteConfirmModal:!1}),p.a.DeleteBinding(this.props.result.url).then(function(){d.a.RefreshBindingList()})},t.prototype.OnDeleteCancel=function(){this.setState({bShowDeleteConfirmModal:!1})},t.prototype.renderDeleteConfirmModal=function(e){return i.createElement(s.a,{visible:this.state.bShowDeleteConfirmModal,onClose:this.OnDeleteCancel,showCloseButton:!1,animation:"fade",className:"ModeSettingsModal",closeOnEsc:!0,__source:{fileName:_,lineNumber:71}},this.state.bShowDeleteConfirmModal&&i.createElement("div",{className:"FlexFullHeightColumnCentered",__source:{fileName:_,lineNumber:73}},i.createElement("div",{className:"Label",__source:{fileName:_,lineNumber:74}},Object(u.b)("#BindingUI_List_Delete_Confirm",e.name)),i.createElement("div",{className:"FlexRow",__source:{fileName:_,lineNumber:75}},i.createElement("div",{className:"ButtonControl",onClick:this.OnDeleteConfirmed,__source:{fileName:_,lineNumber:76}},Object(u.b)("#Button_Delete")),i.createElement("div",{className:"ButtonControl",onClick:this.OnDeleteCancel,__source:{fileName:_,lineNumber:77}},Object(u.b)("#Button_Cancel")))))},t.prototype.OnSelect=function(e){this.props.fnSelectBinding(e,!this.props.bCurrentlySelectedBinding)},t.prototype.render=function(){var e=this,t=new Date,n=new Date(1e3*this.props.result.time),o=t.getTime()-n.getTime()>1728e5,r=o?n.toLocaleDateString():n.toLocaleString(),a=this.props.result,s="developer"==a.type,l="0"!=a.steamIDOwner&&!s,c=void 0,d=void 0;if(s){if(!a.name||0==a.name.length){c=h.a.GetApp(p.a.SelectedApp);var m="";c&&(m=c.name),p.a.SelectedBindingIsLegacy?a.name=Object(u.b)("#BindingUI_List_Legacy_Binding_Title",m):a.name=Object(u.b)("#BindingUI_List_Developer_Binding_Title",m)}a.description&&0!=a.description.length||(p.a.SelectedBindingIsLegacy?a.description=Object(u.b)("#BindingUI_List_Legacy_Binding_Description"):a.description=Object(u.b)("#BindingUI_List_Developer_Binding_Description"))}var g=void 0;l&&(g=f.a.GetUserInformation(a.steamIDOwner).avatar_url,d=f.a.GetUserInformation(a.steamIDOwner).persona_name);var b=this.props.bCurrentlySelectedBinding,S=b?Object(u.b)("#BindingUI_List_Edit"):Object(u.b)("#BindingUI_List_View"),y=a.name;return"autosave"==a.type&&(y=Object(u.b)("#BindingUI_List_Autosave",a.name)),i.createElement("div",{className:"BindingEntry FlexRow",__source:{fileName:_,lineNumber:127}},c&&i.createElement("img",{className:"AppImage",src:h.a.GetAppImageURL(c.key),__source:{fileName:_,lineNumber:128}}),g&&i.createElement("img",{className:"SteamCommunityProfileImage",src:g,__source:{fileName:_,lineNumber:129}}),l&&!g&&i.createElement("div",{className:"SteamCommunityProfileImage",__source:{fileName:_,lineNumber:130}}),i.createElement("div",{className:"FlexColumn BindingDetails",__source:{fileName:_,lineNumber:131}},i.createElement("div",{className:"BindingName",__source:{fileName:_,lineNumber:132}},y),i.createElement("div",{className:"BindingDescription",__source:{fileName:_,lineNumber:133}},a.description),d&&i.createElement("div",{className:"BindingSteamPersonaName Label",__source:{fileName:_,lineNumber:134}},Object(u.b)("#BindingUI_List_PublishedBy",d)),a.time>0&&i.createElement("div",{className:"BindingLastUpdated",__source:{fileName:_,lineNumber:135}},Object(u.b)("#BindingUI_List_LastUpdated"),r)),i.createElement("div",{className:"FlexRow BindingEntryActionButtons",__source:{fileName:_,lineNumber:137}},a.owned&&!this.props.bCurrentlySelectedBinding&&i.createElement("div",{className:"BindingListEntryButton DeleteButton ButtonControl",onClick:function(){e.OnDelete()},__source:{fileName:_,lineNumber:138}},i.createElement("img",{className:"ActionButtonImage",src:"images/bindingui/icon_trash.svg",__source:{fileName:_,lineNumber:138}})),!p.a.HasBindingUriFailedToLoad(a.url)&&i.createElement("div",{className:"BindingListEntryButton ButtonControl",onClick:function(){e.OnSelect(a.url)},__source:{fileName:_,lineNumber:140}},S)),this.renderDeleteConfirmModal(a))},o.c([c.b],t.prototype,"OnDelete",null),o.c([c.b],t.prototype,"OnDeleteConfirmed",null),o.c([c.b],t.prototype,"OnDeleteCancel",null),o.c([c.b],t.prototype,"renderDeleteConfirmModal",null),o.c([c.b],t.prototype,"OnSelect",null),t=o.c([r.a],t)}(i.Component),y=function(e){function t(t){var n=e.call(this,t)||this;return n.state={bAppSelectListScrolled:!1},n}return o.d(t,e),t.prototype.OnScroll=function(e){this.setState({bAppSelectListScrolled:e.currentTarget.scrollTop>0})},t.prototype.CreateBinding=function(){this.SelectBinding(p.a.SelectedBindingURL,!1)},t.prototype.SelectBinding=function(e,t){if(console.log("select binding",e),d.a.Loading=!0,t)p.a.SetBindingURL(e),p.a.LoadControllerConfiguration(),d.a.ViewCurrentBinding(),setTimeout(function(){d.a.Loading=!1},1);else{var n=p.a.SelectedControllerTypeInfo;p.a.SelectConfig(p.a.SelectedApp,n?n.name:"",e).then(function(){p.a.ReloadCurrentApp().then(function(){d.a.EditCurrentBinding(),setTimeout(function(){d.a.Loading=!1},1)})})}},t.prototype.OnControllerDropdownChanged=function(e){p.a.SetSelectedController(e),d.a.RefreshBindingList()},t.prototype.ComputeResultsSection=function(e,t){var n=this,o=(d.a.CurrentBinding&&d.a.CurrentBinding.type,d.a.BindingQueryResults),r=[];o&&o.length>0&&(r=o.filter(t).map(function(e,t){return i.createElement(S,{key:t,currentBinding:d.a.CurrentBinding,result:e,fnSelectBinding:n.SelectBinding,bCurrentlySelectedBinding:!1,__source:{fileName:_,lineNumber:210}})}));return r.length>0&&i.createElement("div",{__source:{fileName:_,lineNumber:215}},i.createElement("div",{className:"BindingListSectionHeader",__source:{fileName:_,lineNumber:216}},Object(u.b)(e)),i.createElement("div",{className:"FlexRowWithWrap BindingListSection",__source:{fileName:_,lineNumber:217}},r))},t.prototype.CreateControllerTypeDropdown=function(){var e=[],t=h.a.IsAppAllowedPrivateInputs(p.a.SelectedApp);p.a.ControllerTypes.forEach(function(n){(t||"InputValueVisibility_SteamVRInternal"!=n.visibility)&&"InputValueVisibility_None"!=n.visibility&&e.push(n)}),e.sort(function(e,t){return e.priority-t.priority});var n=[];e.forEach(function(e){n.push(new m.b(e.name,p.a.LocalizeDriverString(e.resource_root,e.name)))});var o="",r="",a=p.a.SelectedControllerTypeInfo;a&&a.profile&&(a.profile.input_bindingui_right.transform&&(o=a.profile.input_bindingui_right.transform),r=a.profile.input_bindingui_right.uri);var s=p.a.DeviceForSelectedControllerType(2),l="TrackedDeviceClass_GenericTracker"==s.class;return i.createElement("div",{className:"FlexColumn ControllerTypeWrapper",__source:{fileName:_,lineNumber:248}},i.createElement("div",{className:"BindingListSectionHeader Label",__source:{fileName:_,lineNumber:249}},Object(u.b)("#BindingList_ControllerOption")),i.createElement("div",{className:"FlexRow ControllerTypeButton BindingEntry",__source:{fileName:_,lineNumber:250}},i.createElement("img",{className:"ControllerImage",src:r,style:{transform:o},__source:{fileName:_,lineNumber:251}}),i.createElement(m.a,{vecOptions:n,sModalClass:"PinTop",sValueSelectedItem:s?s.controller_type:"",sLocalizedSelectedItem:p.a.LocalizeControllerString(s,s?s.controller_type:""),fnOptionSelected:this.OnControllerDropdownChanged,__source:{fileName:_,lineNumber:252}}),l&&i.createElement("div",{className:"ButtonControl Label AllCaps InlineDropdownLabel",onClick:d.a.ShowTrackerEdit,__source:{fileName:_,lineNumber:253}},Object(u.b)("#BindingList_TrackerEdit"))))},t.prototype.render=function(){var e=h.a.GetApp(p.a.SelectedApp),t="";e&&(t=e.name);var n=d.a.CurrentBinding,o="BindingListContent AppBindingSection";this.state.bAppSelectListScrolled&&(o+=" Scrolled");var r="#BindingUI_List_DeveloperSection";p.a.SelectedBindingIsLegacy&&(r="#BindingUI_List_LegacySection");var a=[];return void 0!=d.a.BindingQueryResults&&(a=d.a.BindingQueryResults.filter(function(e){return"autosave"!=e.type})),i.createElement("div",{className:"FlexColumn FullPage",__source:{fileName:_,lineNumber:274}},i.createElement(g.a,{fnOnClick:d.a.ShowAppSelect,strTitle:Object(u.b)("#BindingList_PageTitle",t),__source:{fileName:_,lineNumber:275}}),i.createElement("div",{className:"BindingUITopSection FlexRow",__source:{fileName:_,lineNumber:276}},i.createElement("div",{className:"CurrentSection FlexColumn",__source:{fileName:_,lineNumber:277}},i.createElement("div",{className:"BindingListSectionHeader",__source:{fileName:_,lineNumber:278}},Object(u.b)("#BindingUI_List_CurrentSection")),n&&i.createElement(S,{result:n,currentBinding:d.a.CurrentBinding,fnSelectBinding:this.SelectBinding,bCurrentlySelectedBinding:!0,__source:{fileName:_,lineNumber:279}})),this.CreateControllerTypeDropdown()),i.createElement("hr",{__source:{fileName:_,lineNumber:283}}),i.createElement("div",{className:o,onScroll:this.OnScroll,__source:{fileName:_,lineNumber:284}},this.ComputeResultsSection(r,function(e){return"developer"==e.type&&e.url!=p.a.SelectedBindingURL}),this.ComputeResultsSection("#BindingUI_List_ImportSection",function(e){return"local_file"==e.type&&e.url!=p.a.SelectedBindingURL}),this.ComputeResultsSection("#BindingUI_List_PersonalSection",function(e){return"personal"==e.type&&e.url!=p.a.SelectedBindingURL}),this.ComputeResultsSection("#BindingUI_List_OwnedSection",function(e){return"public"==e.type&&e.owned&&e.url!=p.a.SelectedBindingURL}),this.ComputeResultsSection("#BindingUI_List_PublicSection",function(e){return"public"==e.type&&!e.owned&&e.url!=p.a.SelectedBindingURL}),0==a.length&&i.createElement("div",{__source:{fileName:_,lineNumber:301}},i.createElement("div",{__source:{fileName:_,lineNumber:302}},i.createElement("div",{className:"Label",__source:{fileName:_,lineNumber:303}},Object(u.b)("#BindingUI_List_NoBindingsFound"))),i.createElement("div",{className:"ButtonControl DeveloperLabel Inline",onClick:this.CreateBinding,__source:{fileName:_,lineNumber:305}},Object(u.b)("#BindingUI_List_CreateBinding")))),d.a.ShowBindingListError&&i.createElement(b,{sError:d.a.BindingListError,__source:{fileName:_,lineNumber:309}}))},o.c([c.b],t.prototype,"OnScroll",null),o.c([c.b],t.prototype,"CreateBinding",null),o.c([c.b],t.prototype,"SelectBinding",null),o.c([c.b],t.prototype,"OnControllerDropdownChanged",null),o.c([c.b],t.prototype,"ComputeResultsSection",null),o.c([c.b],t.prototype,"CreateControllerTypeDropdown",null),t=o.c([r.a],t)}(i.Component)},"3y8m":function(e,t,n){"use strict";n.d(t,"b",function(){return o}),n.d(t,"a",function(){return _});var o,i=n("TToO"),r=n("GiK3"),a=(n.n(r),n("Mn8c")),s=n("IXHb"),l=n.n(s),c=n("FBH1"),u=n("mVfh"),p=n("6CG6"),d=n("6Pre"),m="c:\\buildslave\\steamvr_webpack_rel_win32\\build\\src\\vrwebui\\src\\js\\controllerbinding_poses.tsx";!function(e){e[e.None=0]="None",e[e.Pose=1]="Pose",e[e.Haptics=2]="Haptics",e[e.Skeleton=3]="Skeleton"}(o||(o={}));var h=function(e){function t(t){var n=e.call(this,t)||this;return n.state={SVGElement:void 0,WrapperHTMLElement:void 0},n.currentAction=void 0,n}return i.d(t,e),t.prototype.componentDidUpdate=function(){this.UpdateSVGPath()},t.prototype.BindSVGRef=function(e){this.setState({SVGElement:e}),this.UpdateSVGPath()},t.prototype.BindWrapperElement=function(e){this.setState({WrapperHTMLElement:e}),this.UpdateSVGPath()},t.prototype.UpdateSVGPath=function(){if(this.state.SVGElement){var e=this.state.SVGElement.children.namedItem("SourcePath"),t=this.state.SVGElement.children.namedItem("SourceLine"),n=this.state.SVGElement.children.namedItem("SourceCircle"),o=i.a({},this.props.endPoint),r=i.a({},this.props.startPoint);if(this.state.WrapperHTMLElement){var a=this.state.WrapperHTMLElement.getBoundingClientRect(),s=this.state.WrapperHTMLElement.parentElement.parentElement.parentElement.getBoundingClientRect();r.y+=a.top-s.top+a.height/2}var l=r.x+20+","+r.y+" "+o.x+","+o.y;e.setAttribute("points",l);var c=r.x+","+r.y+" "+(r.x+20)+","+r.y;t.setAttribute("points",c),n.setAttribute("cx",o.x+""),n.setAttribute("cy",o.y+"")}},t.prototype.OnActionChanged=function(e){switch(this.props.type){case"pose":return this.OnPoseActionChanged(e);case"vibration":return this.OnHapticsActionChanged(e);case"skeleton":return this.OnSkeletonActionChanged(e);default:console.log("Unknown type: ",this.props.type)}},t.prototype.FullInputPaths=function(){var e=this;return this.props.vecDevicePathsToSet.map(function(t){return t+e.props.sInputPath})},t.prototype.CurrentAction=function(){return this.currentAction},t.prototype.OnPoseActionChanged=function(e){this.FullInputPaths().forEach(function(t){p.a.SetPoseForInputPath(t,e)})},t.prototype.OnHapticsActionChanged=function(e){this.FullInputPaths().forEach(function(t){p.a.SetHapticsForInputPath(t,e)})},t.prototype.OnSkeletonActionChanged=function(e){this.FullInputPaths().forEach(function(t){p.a.SetSkeletonForInputPath(t,e)})},t.prototype.render=function(){var e,t=this,n="",o=Object(u.b)("#SourceInputMode_none"),i=this.FullInputPaths()[0],a=p.a.LocalizePathNameForSelectedControllerType(i);switch(this.props.type){case"pose":e=p.a.GetPoseActionByPath(i);break;case"skeleton":e=p.a.GetSkeletonActionByPath(i);break;case"vibration":e=p.a.GetHapticsActionByPath(i);break;default:console.log("ControllerPoseBindingItem doesn't know how to handle items of type:",this.props.type)}var s=p.a.SelectedActionSetActions,c=s.filter(function(e){return!!("skeleton"!=t.props.type||"skeleton"==e.type&&e.skeleton&&t.props.InputSource.skeleton&&e.skeleton.toLowerCase()==t.props.InputSource.skeleton.toLowerCase())&&e.type==t.props.type}).map(function(i,r){return e&&e[0].output.toLowerCase()==i.name.toLowerCase()&&(t.currentAction=i,n=i.name,o=i.localized_name),new d.b(i.name,i.localized_name)});c.push(new d.b("none",Object(u.b)("#SourceInputMode_none")));return r.createElement("div",{className:"PoseActionListEntryWrapper",ref:this.BindWrapperElement,__source:{fileName:m,lineNumber:135}},r.createElement("div",{className:"FlexRow PoseActionListEntry",__source:{fileName:m,lineNumber:136}},r.createElement("div",{className:"Label PoseActionLabel",__source:{fileName:m,lineNumber:137}},a),r.createElement("div",{__source:{fileName:m,lineNumber:139}},r.createElement(d.a,{vecOptions:c,sValueSelectedItem:n,sHeaderClass:"PoseActionLabelDropdown",bReadOnly:!1,sLocalizedSelectedItem:o,fnOptionSelected:this.OnActionChanged,__source:{fileName:m,lineNumber:140}}),r.createElement(l.a,{onReflow:this.UpdateSVGPath,__source:{fileName:m,lineNumber:141}}))),void 0!=this.CurrentAction()&&this.props.endPoint.x>0&&this.props.endPoint.y>0&&r.createElement("svg",{className:"BindingPoseLineSVG",xmlns:"http://www.w3.org/2000/svg",ref:this.BindSVGRef,__source:{fileName:m,lineNumber:145}},r.createElement("defs",{__source:{fileName:m,lineNumber:146}},r.createElement("radialGradient",{id:"buttonGradient",__source:{fileName:m,lineNumber:147}},r.createElement("stop",{offset:"0%",stopColor:"var(--bordercolor)",stopOpacity:"0.8",__source:{fileName:m,lineNumber:148}}),r.createElement("stop",{offset:"100%",stopColor:"var(--bordercolor)",stopOpacity:"0",__source:{fileName:m,lineNumber:149}}))),r.createElement("polyline",{id:"SourceLine",stroke:"var(--bordercolor)",strokeWidth:"0.1rem",fill:"transparent",__source:{fileName:m,lineNumber:152}}),r.createElement("polyline",{id:"SourcePath",stroke:"var(--bordercolor)",strokeWidth:"0.1rem",fill:"transparent",__source:{fileName:m,lineNumber:153}}),r.createElement("circle",{id:"SourceCircle",r:"2rem",fill:"url(#buttonGradient)",__source:{fileName:m,lineNumber:154}})),this.props.bIncludeHR&&r.createElement("hr",{__source:{fileName:m,lineNumber:157}}))},i.c([c.b],t.prototype,"BindSVGRef",null),i.c([c.b],t.prototype,"BindWrapperElement",null),i.c([c.b],t.prototype,"UpdateSVGPath",null),i.c([c.b],t.prototype,"OnActionChanged",null),i.c([c.b],t.prototype,"OnPoseActionChanged",null),i.c([c.b],t.prototype,"OnHapticsActionChanged",null),i.c([c.b],t.prototype,"OnSkeletonActionChanged",null),t=i.c([a.a],t)}(r.Component),f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.d(t,e),t.prototype.render=function(){var e=void 0;switch(this.props.eActionType){case o.Pose:e="pose";break;case o.Haptics:e="vibration";break;case o.Skeleton:e="skeleton"}var t=p.a.SelectedActionSetActions.filter(function(t){return t.type==e});if(0==t.length)return null;var n=p.a.SelectedControllerTypeInfo.profile.input_source,i=[];if("controller_handed"==p.a.SelectedControllerTypeInfo.profile.input_bindingui_mode)i=["/user/hand/left","/user/hand/right"];else{var a=p.a.DeviceForSelectedControllerType();a.root_path&&i.push(a.root_path),a.root_path_alt&&i.push(a.root_path_alt)}if(0==i.length)return console.log("Missing base root path for controller"),null;var s=(p.a.GetPoseActionBindings,[]),l=0;for(var c in n)for(var d=n[c],f=0,g=i;f<g.length;f++){var _=g[f];if(d.type==e){var b="none";if("/user/hand/right"==_?b="right":"/user/hand/left"==_&&(b="left"),!d.side||d.side==b){var S=_+c,y="left"==b,v=y?this.props.ptLeftController.x:this.props.ptRightController.x,C=y?this.props.ptLeftController.y:this.props.ptRightController.y,N=new p.b(0,0);if(n.hasOwnProperty(c)&&(N.x=d.binding_image_point[0],N.y=d.binding_image_point[1],N.x*=this.props.nPointScale,N.y*=this.props.nPointScale),y?N.x=v-N.x:N.x+=v,N.y+=C,!y||!this.props.bSlaveSecondaryControllerBinding){var B=new p.b(this.props.ptPoseListOffset.x+5,0),A=(l++,t.length,[_]);this.props.bSlaveSecondaryControllerBinding&&(A=i),s.push(r.createElement(h,{key:S,InputSource:d,sInputPath:c,type:e,vecDevicePathsToSet:A,startPoint:B,endPoint:N,__source:{fileName:m,lineNumber:271}}))}}}}var w=void 0;switch(this.props.eActionType){case o.Pose:w=Object(u.b)("#BindingUI_PoseListTitle");break;case o.Haptics:w=Object(u.b)("#BindingUI_HapticsListTitle");break;case o.Skeleton:w=Object(u.b)("#BindingUI_SkeletonListTitle")}return r.createElement("div",{className:"FlexColumn",__source:{fileName:m,lineNumber:286}},r.createElement("div",{className:"Label Title AllCaps",__source:{fileName:m,lineNumber:287}},w),s)},t=i.c([a.a],t)}(r.Component),g=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.d(t,e),t.prototype.render=function(){var e=p.a.SelectedControllerTypeInfo.profile.input_source,t=new p.b(e[this.props.vecPosePath[0]].binding_image_point[0],e[this.props.vecPosePath[0]].binding_image_point[1]);t.x*=this.props.nPointScale,t.y*=this.props.nPointScale,this.props.bLeftHandController?t.x=this.props.ptController.x-t.x:t.x+=this.props.ptController.x,t.y+=this.props.ptController.y;var n="";this.props.vecPosePath.map(function(e,t){0!=t&&(n+=","),n+=p.a.LocalizeStringForSelectedControllerType(e)});var o=this.props.bLeftHandController?"start":"end",i=this.props.bLeftHandController?6:-6;return r.createElement("svg",{className:"BindingPosePointSVG ",xmlns:"http://www.w3.org/2000/svg",__source:{fileName:m,lineNumber:323}},r.createElement("defs",{__source:{fileName:m,lineNumber:324}},r.createElement("radialGradient",{id:"buttonGradient",__source:{fileName:m,lineNumber:325}},r.createElement("stop",{offset:"0%",stopColor:"var(--bordercolor)",stopOpacity:"1",__source:{fileName:m,lineNumber:326}}),r.createElement("stop",{offset:"100%",stopColor:"var(--bordercolor)",stopOpacity:"0",__source:{fileName:m,lineNumber:327}})),r.createElement("filter",{id:"background",x:"-10%",y:"-10%",width:"120%",height:"120%",__source:{fileName:m,lineNumber:329}},r.createElement("feFlood",{floodColor:"#1d4e62e0",__source:{fileName:m,lineNumber:330}}),r.createElement("feComposite",{in:"SourceGraphic",__source:{fileName:m,lineNumber:331}})),r.createElement("filter",{id:"shadow",x:"-20%",y:"-20%",width:"140%",height:"140%",__source:{fileName:m,lineNumber:333}},r.createElement("feGaussianBlur",{stdDeviation:"2 2",result:"shadow",__source:{fileName:m,lineNumber:334}}),r.createElement("feOffset",{dx:"1",dy:"1",__source:{fileName:m,lineNumber:335}}))),r.createElement("text",{textAnchor:o,filter:"url(#shadow)",x:t.x+i,y:t.y,style:{fill:"black",fontSize:24},__source:{fileName:m,lineNumber:338}},n),r.createElement("text",{textAnchor:o,filter:"url(#background)",x:t.x+i,y:t.y,style:{fill:"var(--descriptiontext)",fontSize:24},__source:{fileName:m,lineNumber:339}},n),r.createElement("circle",{id:"SourceCircle",cx:t.x,cy:t.y,r:"0.5rem",fill:"url(#buttonGradient)",__source:{fileName:m,lineNumber:340}}))},t=i.c([a.a],t)}(r.Component),_=function(e){function t(t){var n=e.call(this,t)||this;return n.m_LeftControllerImage=void 0,n.m_RightControllerImage=void 0,n.m_SVGElement=void 0,n.m_PropsListDiv=void 0,n.state={ptLeftController:new p.b(0,0),ptRightController:new p.b(0,0),nPointScale:0,ptDivList:new p.b(0,0)},n}return i.d(t,e),t.prototype.OnUpdateControllerPicturePosition=function(){if(this.m_LeftControllerImage&&!this.props.bSlaveSecondaryControllerBinding){var e=1,t=0,n=0,o=this.m_LeftControllerImage;if(o){var i=o.getBoundingClientRect();o.naturalWidth>0&&(n=i.right-o.parentElement.parentElement.getBoundingClientRect().left,t=i.top-o.parentElement.parentElement.getBoundingClientRect().top)}this.setState({ptLeftController:new p.b(n,t)})}if(this.m_RightControllerImage){var e=1,t=0,n=0,o=this.m_RightControllerImage;if(o){var i=o.getBoundingClientRect();o.naturalWidth>0&&(e=i.height/o.naturalHeight,n=i.left-o.parentElement.parentElement.getBoundingClientRect().left,n+=(i.width-o.naturalWidth*e)/2,t=i.top-o.parentElement.parentElement.getBoundingClientRect().top)}this.setState({ptRightController:new p.b(n,t),nPointScale:e})}if(this.m_PropsListDiv){var r=this.m_PropsListDiv.getBoundingClientRect(),a=this.m_PropsListDiv.parentElement.parentElement.getBoundingClientRect();this.setState({ptDivList:new p.b(r.width,r.top-a.top)})}},t.prototype.BindLeftControllerImage=function(e){this.m_LeftControllerImage=e,this.OnUpdateControllerPicturePosition()},t.prototype.BindRightControllerImage=function(e){this.m_RightControllerImage=e,this.OnUpdateControllerPicturePosition()},t.prototype.BindPropsListDiv=function(e){this.m_PropsListDiv=e,this.OnUpdateControllerPicturePosition()},t.prototype.render=function(){var e=this,t="",n="",i="",a="",s=p.a.SelectedControllerTypeInfo,c=void 0,d=void 0;switch(this.props.eActionSourceType){case o.Pose:c="pose",d=Object(u.b)("#BindingUI_PoseTitle");break;case o.Haptics:c="vibration",d=Object(u.b)("#BindingUI_HapticsTitle");break;case o.Skeleton:c="skeleton",d=Object(u.b)("#BindingUI_SkeletonTitle")}a=s.profile.input_bindingui_right.uri,n=s.profile.input_bindingui_right.transform,this.props.bSlaveSecondaryControllerBinding||(t=s.profile.input_bindingui_left.transform,i=s.profile.input_bindingui_left.uri);var h=function(e,t,n,o,i){var r=e.profile.input_source[o];if(r.type==c&&(void 0==r.side||r.side==n)){var a=new p.b(r.binding_image_point[0],r.binding_image_point[1]);t.hasOwnProperty(a.toString())||(t[a.toString()]=[]),t[a.toString()].push(o)}},_={},b={};Object.keys(s.profile.input_source).forEach(h.bind(null,s,_,"left")),Object.keys(s.profile.input_source).forEach(h.bind(null,s,b,"right"));var S=Object.keys(_).map(function(t,n){return r.createElement(g,{key:n,vecPosePath:_[t],ptController:e.state.ptLeftController,nPointScale:e.state.nPointScale,ptPoseListOffset:e.state.ptDivList,bLeftHandController:!0,__source:{fileName:m,lineNumber:458}})}),y=Object.keys(b).map(function(t,n){return r.createElement(g,{key:n,vecPosePath:b[t],ptController:e.state.ptRightController,nPointScale:e.state.nPointScale,ptPoseListOffset:e.state.ptDivList,bLeftHandController:!1,__source:{fileName:m,lineNumber:461}})});return r.createElement("div",{className:"FlexFullHeightColumnCentered",__source:{fileName:m,lineNumber:463}},r.createElement("div",{className:"FlexRow PoseTitleBar",__source:{fileName:m,lineNumber:464}},r.createElement("img",{className:"ActionButtonImage ActionButtonImageLarge ChordManageTopButton",src:"images/bindingui/icon_modal_edit_header.svg",__source:{fileName:m,lineNumber:465}}),r.createElement("div",{className:"Label Title TitleCenter AllCaps",__source:{fileName:m,lineNumber:466}},d)),r.createElement("div",{className:"FlexFullWidthRowCentered PoseMainContent PositionRelative",__source:{fileName:m,lineNumber:468}},r.createElement("div",{className:"PoseBindingPoints",__source:{fileName:m,lineNumber:469}},!this.props.bSlaveSecondaryControllerBinding&&S,y),r.createElement("div",{className:"FlexColumn PoseActionsList",ref:this.BindPropsListDiv,__source:{fileName:m,lineNumber:473}},r.createElement(f,{eActionType:this.props.eActionSourceType,bSingleControllerMode:this.props.bSingleControllerMode,ptRightController:this.state.ptRightController,ptLeftController:this.state.ptLeftController,bReadOnly:this.props.bReadOnly,nPointScale:this.state.nPointScale,ptPoseListOffset:this.state.ptDivList,bSlaveSecondaryControllerBinding:this.props.bSlaveSecondaryControllerBinding,__source:{fileName:m,lineNumber:474}}),r.createElement(l.a,{onReflow:this.OnUpdateControllerPicturePosition,__source:{fileName:m,lineNumber:475}})),r.createElement("div",{className:"FlexRow PoseControllerPictures",__source:{fileName:m,lineNumber:477}},!this.props.bSlaveSecondaryControllerBinding&&r.createElement("img",{className:"ControllerImage",src:i,style:{transform:t},ref:this.BindLeftControllerImage,__source:{fileName:m,lineNumber:478}}),r.createElement("img",{className:"ControllerImage",src:a,style:{transform:n},ref:this.BindRightControllerImage,__source:{fileName:m,lineNumber:479}})),r.createElement(l.a,{onReflow:this.OnUpdateControllerPicturePosition,__source:{fileName:m,lineNumber:481}})),r.createElement("div",{className:"ChordBindingCloseButton Label AllCaps",onClick:this.props.fnCloseModal,__source:{fileName:m,lineNumber:483}},Object(u.b)("#Button_Close")))},i.c([c.b],t.prototype,"OnUpdateControllerPicturePosition",null),i.c([c.b],t.prototype,"BindLeftControllerImage",null),i.c([c.b],t.prototype,"BindRightControllerImage",null),i.c([c.b],t.prototype,"BindPropsListDiv",null),t=i.c([a.a],t)}(r.Component)},"4PsW":function(e,t,n){"use strict";n.d(t,"a",function(){return l});var o=n("TToO"),i=n("GiK3"),r=(n.n(i),n("Mn8c")),a=n("mVfh"),s="c:\\buildslave\\steamvr_webpack_rel_win32\\build\\src\\vrwebui\\src\\js\\titlebar.tsx",l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.d(t,e),t.prototype.render=function(){var e=this,t=void 0==this.props.bShowBackButton||this.props.bShowBackButton,n="PageTitleLabel";return this.props.strSubTitle||(n+=" SingleTitle"),i.createElement("div",{className:"PageTitleBar FlexFullWidthRowCentered",__source:{fileName:s,lineNumber:17}},i.createElement("div",{className:"TitleBarSection",__source:{fileName:s,lineNumber:18}},t&&i.createElement("div",{className:"ButtonControl FlexRow PageTitleBackButton AllCaps",onClick:function(){e.props.fnOnClick()},__source:{fileName:s,lineNumber:19}},i.createElement("img",{className:"ActionButtonImage",src:"images/bindingui/icon_back.svg",__source:{fileName:s,lineNumber:20}}),Object(a.b)("#Button_Back"))),i.createElement("div",{className:"AllCaps PageTitle TitleBarSection FlexColumn",__source:{fileName:s,lineNumber:24}},i.createElement("div",{className:n,__source:{fileName:s,lineNumber:25}},this.props.strTitle),this.props.strSubTitle&&i.createElement("div",{className:"AllCaps PageSubTitle PageTitleLabel",__source:{fileName:s,lineNumber:26}},this.props.strSubTitle)),i.createElement("div",{className:"TitleBarSection RightBackButton",__source:{fileName:s,lineNumber:28}},t&&i.createElement("div",{className:"ButtonControl FlexRow PageTitleBackButton AllCaps",__source:{fileName:s,lineNumber:29}},i.createElement("img",{className:"ActionButtonImage",src:"images/bindingui/icon_back.svg",__source:{fileName:s,lineNumber:30}}),Object(a.b)("#Button_Back"))))},t=o.c([r.a],t)}(i.Component)},"6CG6":function(e,t,n){"use strict";function o(){return new Promise(function(e,t){u.a.get("/input/getstate.json").then(function(t){e(t.data)}).catch(function(e){t(e)})})}function i(e){return new Promise(function(t,n){u.a.get("/input/getactions.json?app_key="+e).then(function(e){t(e.data)}).catch(function(e){n(e)})})}function r(e,t,n){return new Promise(function(o,i){u.a.get("/input/loadbindingfromurl.json?binding_url="+encodeURI(n)+"&controller_type="+encodeURI(t)+"&app_key="+encodeURI(e)).then(function(e){o()}).catch(function(e){i(e)})})}n.d(t,"c",function(){return v}),n.d(t,"b",function(){return C}),n.d(t,"a",function(){return w});var a,s=n("TToO"),l=n("FBH1"),c=n("mtWM"),u=n.n(c),p=n("y986"),d=n("mVfh"),m=n("nhcq"),h=n("APa2"),f=function(){function e(){}return s.c([p.k],e.prototype,"path",void 0),s.c([p.k],e.prototype,"mode",void 0),s.c([p.k],e.prototype,"parameters",void 0),s.c([p.k],e.prototype,"inputs",void 0),e}(),g=function(){function e(){}return s.c([p.k],e.prototype,"path",void 0),s.c([p.k],e.prototype,"output",void 0),e}(),_=function(){function e(){}return s.c([p.k],e.prototype,"path",void 0),s.c([p.k],e.prototype,"output",void 0),e}(),b=function(){function e(){}return s.c([p.k],e.prototype,"path",void 0),s.c([p.k],e.prototype,"output",void 0),e}(),S=function(){function e(){}return s.c([p.k],e.prototype,"output",void 0),s.c([p.k],e.prototype,"inputs",void 0),e}(),y=function(){function e(){}return s.c([p.k],e.prototype,"chords",void 0),s.c([p.k],e.prototype,"poses",void 0),s.c([p.k],e.prototype,"haptics",void 0),s.c([p.k],e.prototype,"sources",void 0),s.c([p.k],e.prototype,"skeleton",void 0),e}(),v=(function(){function e(e,t){this.app_key=e,this.name=t}}(),function(){function e(){this.vecRequired=[],this.vecSuggested=[]}return e}()),C=(function(){function e(){}}(),function(){function e(){}}(),function(){function e(){}s.c([p.k],e.prototype,"device_path_string",void 0),s.c([p.k],e.prototype,"device_path_handle",void 0),s.c([p.k],e.prototype,"role",void 0),s.c([p.k],e.prototype,"controller_role",void 0)}(),function(){function e(){}s.c([p.k],e.prototype,"trackers",void 0),s.c([p.k],e.prototype,"valid_roles",void 0)}(),function(){function e(e,t){this.x=e,this.y=t,this.toString.bind(this)}return e.prototype.toString=function(){return this.x+","+this.y},e}()),N=function(){function e(e,t,n,o,i,r){var a=this;this.m_BindingUISource=void 0,this.m_sResourceRoot=void 0,this.m_ControllerProfile=void 0,this.m_sDeviceInputPath=void 0,this.m_eButtonSide=void 0,this.m_sInputPath=void 0,this.m_sActionSet=void 0,this.m_BindingStoreObserverDisposer=void 0,this.m_iNewSourceEntry=-1,this.m_sResourceRoot=e,this.m_sDeviceInputPath=t,this.m_ControllerProfile=n,this.m_eButtonSide=o,this.m_sInputPath=i,this.m_sActionSet=r,this.m_BindingStoreObserverDisposer=Object(p.l)(w,function(e){"m_LoadedBinding"==e.name&&a.UpdateBindingSource()}),this.UpdateBindingSource(),w.RegisterBindingWatcher(this.UpdateBindingSource.bind(this))}return e.prototype.cancelWatcher=function(){this.m_BindingStoreObserverDisposer(),w.UnregisterBindingWatcher(this.UpdateBindingSource)},e.prototype.UpdateBindingSource=function(){this.m_BindingUISource=w.GetActionBinding(this.GetFullInputPath,this.m_sActionSet)},Object.defineProperty(e.prototype,"GetFullInputPath",{get:function(){var e=this.m_sDeviceInputPath+this.m_sInputPath;return e=e.replace(/([^:]\/)\/+/g,"$1")},enumerable:!0,configurable:!0}),e.prototype.GetSVGEndPoint=function(){return new C(this.m_ControllerProfile.input_source[this.m_sInputPath].binding_image_point[0],this.m_ControllerProfile.input_source[this.m_sInputPath].binding_image_point[1])},Object.defineProperty(e.prototype,"GetButtonSide",{get:function(){return this.m_eButtonSide},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"GetNumModes",{get:function(){return this.m_BindingUISource?this.m_BindingUISource.length:0},enumerable:!0,configurable:!0}),e.prototype.GetActionForInputType=function(e,t){if(this.m_BindingUISource&&this.m_BindingUISource[e].inputs&&this.m_BindingUISource[e].inputs.has(t))return w.GetActionByName(this.m_BindingUISource[e].inputs.get(t).output)},e.prototype.GetClickAction=function(e){return this.GetActionForInputType(e,"click")},e.prototype.GetTouchAction=function(e){return this.GetActionForInputType(e,"touch")},e.prototype.GetPositionAction=function(e){return this.GetActionForInputType(e,"position")},e.prototype.GetHeldAction=function(e){return this.GetActionForInputType(e,"held")},e.prototype.GetLongAction=function(e){return this.GetActionForInputType(e,"long")},e.prototype.GetSingleAction=function(e){return this.GetActionForInputType(e,"single")},e.prototype.GetDoubleAction=function(e){return this.GetActionForInputType(e,"double")},e.prototype.GetNorthAction=function(e){return this.GetActionForInputType(e,"north")},e.prototype.GetEastAction=function(e){return this.GetActionForInputType(e,"east")},e.prototype.GetSouthAction=function(e){return this.GetActionForInputType(e,"south")},e.prototype.GetWestAction=function(e){return this.GetActionForInputType(e,"west")},e.prototype.GetCenterAction=function(e){return this.GetActionForInputType(e,"center")},e.prototype.GetScrollAction=function(e){return this.GetActionForInputType(e,"scroll")},e.prototype.GetPullAction=function(e){return this.GetActionForInputType(e,"pull")},e.prototype.GetForceAction=function(e){return this.GetActionForInputType(e,"force")},e.prototype.GetGrabAction=function(e){return this.GetActionForInputType(e,"grab")},e.prototype.GetValueAction=function(e){return this.GetActionForInputType(e,"value")},Object.defineProperty(e.prototype,"GetControllerInputName",{get:function(){return w.LocalizeDriverString(this.m_sResourceRoot,this.m_sInputPath)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"GetModes",{get:function(){return this.m_BindingUISource?this.m_BindingUISource:[]},enumerable:!0,configurable:!0}),e.prototype.GetMode=function(e){return this.m_BindingUISource&&e>=0&&e<this.m_BindingUISource.length?this.m_BindingUISource[e].mode:"none"},Object.defineProperty(e.prototype,"GetInputSourceType",{get:function(){return this.m_ControllerProfile.input_source[this.m_sInputPath].type},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"GetInputSource",{get:function(){return this.m_ControllerProfile.input_source[this.m_sInputPath]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"GetInputSourceClickSupport",{get:function(){return!(this.m_ControllerProfile.input_source[this.m_sInputPath].force&&!this.m_ControllerProfile.input_source[this.m_sInputPath].click)&&(("knuckles"!=this.m_ControllerProfile.controller_type||"/input/trackpad"!=this.m_sInputPath)&&(!(!this.m_ControllerProfile.input_source[this.m_sInputPath].click&&!this.m_ControllerProfile.input_source[this.m_sInputPath].touch)&&(this.m_ControllerProfile.input_source[this.m_sInputPath].click||this.m_ControllerProfile.input_source[this.m_sInputPath].touch)))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"GetInputSourceTouchSupport",{get:function(){return!(!this.m_ControllerProfile.input_source[this.m_sInputPath].touch&&!this.m_ControllerProfile.input_source[this.m_sInputPath].proximity)&&(this.m_ControllerProfile.input_source[this.m_sInputPath].touch||this.m_ControllerProfile.input_source[this.m_sInputPath].proximity)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"GetInputSourceForceSupport",{get:function(){return!!this.m_ControllerProfile.input_source[this.m_sInputPath].force&&this.m_ControllerProfile.input_source[this.m_sInputPath].force},enumerable:!0,configurable:!0}),e.prototype.SetInputMode=function(e,t){if(!this.m_BindingUISource||t<0||t>=this.m_BindingUISource.length)return void console.error("SetInputMode: Invalid mode index for new mode");this.ClearNewModeIfSet(t),w.SetInputModeForInputSource(this.GetFullInputPath,t,e)},e.prototype.AddInputMode=function(e){this.m_iNewSourceEntry=w.AddInputModeForSource(this.GetFullInputPath,e)},e.prototype.DeleteInputMode=function(e){if(!this.m_BindingUISource||e<0||e>=this.m_BindingUISource.length)return void console.error("SetInputMode: Invalid mode index for new mode");w.DeleteInputModeForSource(this.GetFullInputPath,e)},e.prototype.ClearNewModeIfSet=function(e){-1!=this.m_iNewSourceEntry&&this.m_iNewSourceEntry==e&&(this.m_iNewSourceEntry=-1)},e.prototype.BHasModeSelectionPending=function(e){return-1!=this.m_iNewSourceEntry&&this.m_iNewSourceEntry==e},e.prototype.SetClickAction=function(e,t){w.SetActionForInputModeType(this.GetFullInputPath,e,"click",t,["button","trackpad","joystick","trigger","toggle_button","complex_button"])},e.prototype.SetTouchAction=function(e,t){w.SetActionForInputModeType(this.GetFullInputPath,e,"touch",t,["button","trackpad","joystick","trigger","toggle_button","complex_button"])},e.prototype.SetHeldAction=function(e,t){w.SetActionForInputModeType(this.GetFullInputPath,e,"held",t,["button","complex_button"])},e.prototype.SetLongAction=function(e,t){w.SetActionForInputModeType(this.GetFullInputPath,e,"long",t,["button","complex_button"])},e.prototype.SetSingleAction=function(e,t){w.SetActionForInputModeType(this.GetFullInputPath,e,"single",t,["button","complex_button"])},e.prototype.SetDoubleAction=function(e,t){w.SetActionForInputModeType(this.GetFullInputPath,e,"double",t,["button","complex_button"])},e.prototype.SetPositionAction=function(e,t){w.SetActionForInputModeType(this.GetFullInputPath,e,"position",t,["trackpad","joystick"])},e.prototype.SetNorthAction=function(e,t){w.SetActionForInputModeType(this.GetFullInputPath,e,"north",t,["dpad","dpad_click","dpad_touch"])},e.prototype.SetEastAction=function(e,t){w.SetActionForInputModeType(this.GetFullInputPath,e,"east",t,["dpad","dpad_click","dpad_touch"])},e.prototype.SetSouthAction=function(e,t){w.SetActionForInputModeType(this.GetFullInputPath,e,"south",t,["dpad","dpad_click","dpad_touch"])},e.prototype.SetWestAction=function(e,t){w.SetActionForInputModeType(this.GetFullInputPath,e,"west",t,["dpad","dpad_click","dpad_touch"])},e.prototype.SetCenterAction=function(e,t){w.SetActionForInputModeType(this.GetFullInputPath,e,"center",t,["dpad","dpad_click","dpad_touch"])},e.prototype.SetScrollAction=function(e,t){w.SetActionForInputModeType(this.GetFullInputPath,e,"scroll",t,["trackpad_scroll"])},e.prototype.SetPullAction=function(e,t){w.SetActionForInputModeType(this.GetFullInputPath,e,"pull",t,["trigger"])},e.prototype.SetForceAction=function(e,t){w.SetActionForInputModeType(this.GetFullInputPath,e,"force",t,["force_sensor"])},e.prototype.SetGrabAction=function(e,t){w.SetActionForInputModeType(this.GetFullInputPath,e,"grab",t,["grab"])},e.prototype.SetValueAction=function(e,t){w.SetActionForInputModeType(this.GetFullInputPath,e,"value",t,["scalar_constant"])},e.prototype.CopyActions=function(e){var t=this;w.ClearModesForInputPath(this.GetFullInputPath),e.GetModes.map(function(e,n){w.AddInputModeForSource(t.GetFullInputPath,e.mode),e.inputs.forEach(function(e,o){w.SetActionForInputModeType(t.GetFullInputPath,n,o,e.output,[])})})},e.prototype.BindingsMatch=function(e){var t=e.GetModes;if(this.GetModes.length!=t.length)return!1;for(var n=this,o=0;o<t.length;o++){var i=function(e){var o=t[e],i=n.GetModes.filter(function(e){return e.mode==o.mode});if(i.length>0){var r=!0;return i[0].inputs.forEach(function(e,t){o.inputs.has(t)&&o.inputs.get(t).output==e.output||(r=!1)}),{value:r}}return{value:!1}}(o);if("object"==typeof i)return i.value}return!0},e.prototype.SetClickParameter=function(e,t,n){w.SetParameterForInputModeType(this.GetFullInputPath,e,"click",t,n)},e.prototype.SetTouchParameter=function(e,t,n){w.SetParameterForInputModeType(this.GetFullInputPath,e,"touch",t,n)},e.prototype.SetParameter=function(e,t,n,o){w.SetParameterForInputModeType(this.GetFullInputPath,e,t,n,o)},e.prototype.GetClickParameter=function(e,t){return w.GetParameterForInputModeType(this.GetFullInputPath,e,"click",t)},e.prototype.GetTouchParameter=function(e,t){return w.GetParameterForInputModeType(this.GetFullInputPath,e,"touch",t)},e.prototype.GetParameter=function(e,t,n){return w.GetParameterForInputModeType(this.GetFullInputPath,e,t,n)},e.prototype.GetTrackpadInvertState=function(e){switch(w.GetParameterForInputModeType(this.GetFullInputPath,e,"trackpad","invert")){case"x":return"x";case"y":return"y";case"xy":return"xy";default:return""}},e.prototype.SetTrackpadInvertState=function(e,t){var n="";switch(t){case"x":n="x";break;case"y":n="y";break;case"xy":n="xy"}w.SetParameterForInputModeType(this.GetFullInputPath,e,"trackpad","invert",n)},s.c([p.k],e.prototype,"m_BindingUISource",void 0),s.c([p.k],e.prototype,"m_sResourceRoot",void 0),s.c([p.k],e.prototype,"m_ControllerProfile",void 0),s.c([p.k],e.prototype,"m_sDeviceInputPath",void 0),s.c([p.k],e.prototype,"m_eButtonSide",void 0),s.c([p.k],e.prototype,"m_sInputPath",void 0),s.c([p.k],e.prototype,"m_sActionSet",void 0),s.c([l.b],e.prototype,"cancelWatcher",null),s.c([p.c],e.prototype,"UpdateBindingSource",null),s.c([p.d],e.prototype,"GetFullInputPath",null),s.c([l.b],e.prototype,"GetSVGEndPoint",null),s.c([p.d],e.prototype,"GetButtonSide",null),s.c([p.d],e.prototype,"GetNumModes",null),s.c([l.b],e.prototype,"GetActionForInputType",null),s.c([l.b],e.prototype,"GetClickAction",null),s.c([l.b],e.prototype,"GetTouchAction",null),s.c([l.b],e.prototype,"GetPositionAction",null),s.c([l.b],e.prototype,"GetHeldAction",null),s.c([l.b],e.prototype,"GetLongAction",null),s.c([l.b],e.prototype,"GetSingleAction",null),s.c([l.b],e.prototype,"GetDoubleAction",null),s.c([l.b],e.prototype,"GetNorthAction",null),s.c([l.b],e.prototype,"GetEastAction",null),s.c([l.b],e.prototype,"GetSouthAction",null),s.c([l.b],e.prototype,"GetWestAction",null),s.c([l.b],e.prototype,"GetCenterAction",null),s.c([l.b],e.prototype,"GetScrollAction",null),s.c([l.b],e.prototype,"GetPullAction",null),s.c([l.b],e.prototype,"GetForceAction",null),s.c([l.b],e.prototype,"GetGrabAction",null),s.c([l.b],e.prototype,"GetValueAction",null),s.c([p.d],e.prototype,"GetControllerInputName",null),s.c([p.d],e.prototype,"GetModes",null),s.c([l.b],e.prototype,"GetMode",null),s.c([p.d],e.prototype,"GetInputSourceType",null),s.c([p.d],e.prototype,"GetInputSource",null),s.c([p.d],e.prototype,"GetInputSourceClickSupport",null),s.c([p.d],e.prototype,"GetInputSourceTouchSupport",null),s.c([p.d],e.prototype,"GetInputSourceForceSupport",null),s.c([p.c],e.prototype,"SetInputMode",null),s.c([p.c],e.prototype,"AddInputMode",null),s.c([p.c],e.prototype,"DeleteInputMode",null),s.c([l.b],e.prototype,"ClearNewModeIfSet",null),s.c([l.b],e.prototype,"BHasModeSelectionPending",null),s.c([p.c],e.prototype,"SetClickAction",null),s.c([p.c],e.prototype,"SetTouchAction",null),s.c([p.c],e.prototype,"SetHeldAction",null),s.c([p.c],e.prototype,"SetLongAction",null),s.c([p.c],e.prototype,"SetSingleAction",null),s.c([p.c],e.prototype,"SetDoubleAction",null),s.c([p.c],e.prototype,"SetPositionAction",null),s.c([p.c],e.prototype,"SetNorthAction",null),s.c([p.c],e.prototype,"SetEastAction",null),s.c([p.c],e.prototype,"SetSouthAction",null),s.c([p.c],e.prototype,"SetWestAction",null),s.c([p.c],e.prototype,"SetCenterAction",null),s.c([p.c],e.prototype,"SetScrollAction",null),s.c([p.c],e.prototype,"SetPullAction",null),s.c([p.c],e.prototype,"SetForceAction",null),s.c([p.c],e.prototype,"SetGrabAction",null),s.c([p.c],e.prototype,"SetValueAction",null),s.c([p.c],e.prototype,"CopyActions",null),s.c([l.b],e.prototype,"BindingsMatch",null),s.c([p.c],e.prototype,"SetClickParameter",null),s.c([p.c],e.prototype,"SetTouchParameter",null),s.c([p.c],e.prototype,"SetParameter",null),s.c([p.c],e.prototype,"GetClickParameter",null),s.c([p.c],e.prototype,"GetTouchParameter",null),s.c([p.c],e.prototype,"GetParameter",null),s.c([l.b],e.prototype,"GetTrackpadInvertState",null),s.c([p.c],e.prototype,"SetTrackpadInvertState",null),e}(),B=function(){function e(e,t,n){this.m_sSaveType=e,this.m_OutstandingSaveBindingResolve=t,this.m_OutstandingSaveBindingReject=n}return e.prototype.resolve=function(e){this.m_OutstandingSaveBindingResolve(e)},e.prototype.reject=function(e){this.m_OutstandingSaveBindingReject(e)},Object.defineProperty(e.prototype,"SaveType",{get:function(){return this.m_sSaveType},enumerable:!0,configurable:!0}),s.c([l.b],e.prototype,"resolve",null),s.c([l.b],e.prototype,"reject",null),e}();!function(e){e[e.eWebSocketState_Unknown=0]="eWebSocketState_Unknown",e[e.eWebSocketState_Disconnected=1]="eWebSocketState_Disconnected",e[e.eWebSocketState_Connecting=2]="eWebSocketState_Connecting",e[e.eWebSocketState_Connected=3]="eWebSocketState_Connected"}(a||(a={}));var A=function(){function e(){this.m_wsWebSocketToServer=void 0,this.m_eWebSocketState=a.eWebSocketState_Unknown,this.m_timerWebSocket=void 0,this.m_dateStartTime=new Date,this.m_InputState=void 0,this.m_sLoadedBindingURI=void 0,this.m_LoadedBinding=void 0,this.m_ModifiedBindingSet=p.k.map(),this.m_sName=void 0,this.m_sDescription=void 0,this.m_SelectedApp=void 0,this.m_SelectedAppActions=void 0,this.m_sSelectedActionSet=void 0,this.m_sSelectedControllerType=void 0,this.m_KnownControllerTypes=p.k.map(),this.m_TrackerBindingSetup=void 0,this.m_bControllerTypeSelectedByUser=!1,this.m_OutstandingSaveBindingCalls=[],this.m_vecBindingSetWatchers=Array(),this.m_mapUnoundActions=new Map,this.m_bIsMissingRequiredActions=!1,this.m_rKnownFailedBindingUris=[],this.m_ControllerWatchers=new Map}return e.prototype.OpenWebSocketToHost=function(){var e=this;return new Promise(function(t,n){e.m_eWebSocketState!=a.eWebSocketState_Connecting&&e.m_eWebSocketState!=a.eWebSocketState_Connected&&(e.m_wsWebSocketToServer&&delete e.m_wsWebSocketToServer,e.m_wsWebSocketToServer=new WebSocket("ws://localhost:8998"),e.m_wsWebSocketToServer.addEventListener("open",function(n){e.OnWebSocketOpen(n),t()}),e.m_wsWebSocketToServer.addEventListener("message",function(t){e.OnWebSocketMessage(t)}),e.m_wsWebSocketToServer.addEventListener("close",function(t){e.OnWebSocketClose(t)}),e.m_eWebSocketState=a.eWebSocketState_Connecting),e.m_timerWebSocket||(e.m_timerWebSocket=setTimeout(e.OpenWebSocketToHost,1e3))})},e.prototype.Init=function(){return s.b(this,void 0,void 0,function(){return s.e(this,function(e){switch(e.label){case 0:return[4,this.OpenWebSocketToHost()];case 1:return e.sent(),[4,this.GetInputState()];case 2:return e.sent(),[2]}})})},Object.defineProperty(e.prototype,"SteamVRUnavailable",{get:function(){return this.m_eWebSocketState==a.eWebSocketState_Connecting||this.m_eWebSocketState==a.eWebSocketState_Unknown?Date.now()-this.m_dateStartTime.getTime()>1e4:this.m_eWebSocketState!=a.eWebSocketState_Connected},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ConnectedDevices",{get:function(){return void 0==this.m_InputState?Array():this.m_InputState.devices.filter(function(e){return"TrackedDeviceClass_Controller"==e.class||"TrackedDeviceClass_HMD"==e.class||"TrackedDeviceClass_GenericTracker"==e.class})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ControllerTypes",{get:function(){return this.m_InputState.controller_types},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ActionSets",{get:function(){var e=this;if(void 0==this.m_SelectedAppActions||void 0==this.m_SelectedAppActions.action_sets)return[];var t=[];return Object.keys(this.m_SelectedAppActions.action_sets).forEach(function(n){var o=e.m_SelectedAppActions.action_sets[n];"hidden"!=o.usage&&t.push(o)}),t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"SelectedApp",{get:function(){return this.m_SelectedApp?this.m_SelectedApp.key:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"CurrentAppCanAccessPrivateInputs",{get:function(){return h.a.IsAppAllowedPrivateInputs(this.m_SelectedApp.key)||this.m_InputState.send_system_button_to_all_apps},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ShowHiddenInputs",{get:function(){return this.m_InputState.show_hidden_inputs},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"IsSteamAvailable",{get:function(){return!this.m_InputState||this.m_InputState.is_steam_available},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"BDevMode",{get:function(){return this.m_InputState.dev_mode},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"SelectedControllerTypeInfo",{get:function(){if(void 0!=this.m_InputState&&void 0!=this.m_sSelectedControllerType)return this.GetControllerTypeInfo(this.m_sSelectedControllerType)},enumerable:!0,configurable:!0}),e.prototype.GetControllerTypeInfo=function(e){return this.m_InputState.controller_types.find(function(t){return t.name==e})},e.prototype.DeviceForSelectedControllerType=function(e){var t=this,n=this.SelectedControllerTypeInfo;if(n){var o=!1,i=this.m_InputState.devices.find(function(i){if(i.controller_type==t.m_sSelectedControllerType){if(o=!0,!e)return!0;if("controller_handed"!=n.profile.input_bindingui_mode)return!0;var r=1==e?"/left":"/right";if(i.root_path&&i.root_path.indexOf(r)>=0)return!0}return!1});return i||(o?this.m_InputState.devices.find(function(e){return e.controller_type==t.m_sSelectedControllerType}):void 0)}},Object.defineProperty(e.prototype,"SelectedActionSet",{get:function(){return this.m_sSelectedActionSet},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"SelectedActionSetDetails",{get:function(){if(void 0!=this.m_SelectedAppActions&&void 0!=this.m_sSelectedActionSet)return this.m_SelectedAppActions.action_sets[this.m_sSelectedActionSet]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"SelectedActionSetActions",{get:function(){return this.GetActionSetActions(this.m_sSelectedActionSet)},enumerable:!0,configurable:!0}),e.prototype.GetSelectedAppDefaultBinding=function(e){if(void 0!=this.m_SelectedAppActions)return this.m_SelectedAppActions.default_bindings&&this.m_SelectedAppActions.default_bindings.hasOwnProperty(e)?this.m_SelectedAppActions.default_bindings[e]:void 0},e.prototype.GetActionSetActions=function(e){var t=this;if(void 0==this.m_SelectedAppActions||void 0==e||!this.m_SelectedAppActions.action_sets.hasOwnProperty(e))return[];var n=[];return Object.keys(this.m_SelectedAppActions.action_sets[e].actions).forEach(function(o){n.push(t.m_SelectedAppActions.action_sets[e].actions[o])}),n},e.prototype.GetActionByName=function(e){var t=this;if(void 0!=this.m_SelectedApp){var n=e.toLowerCase(),o=void 0;return Object.keys(this.m_SelectedAppActions.action_sets).forEach(function(e){t.m_SelectedAppActions.action_sets[e].actions.hasOwnProperty(n)&&(o=t.m_SelectedAppActions.action_sets[e].actions[n])}),o}},Object.defineProperty(e.prototype,"UnboundActions",{get:function(){this.m_bIsMissingRequiredActions=!1;for(var e=0,t=this.ActionSets;e<t.length;e++){var n=t[e],o=[],i=[];for(var r in n.actions){var a=n.actions[r];"optional"!=a.requirement&&(this.IsActionBound(n,a.name)||("mandatory"==a.requirement?o.push(a):i.push(a)))}if(o.length>0&&(this.m_bIsMissingRequiredActions=!0),this.m_mapUnoundActions.has(n.name)){var s=this.m_mapUnoundActions.get(n.name);s.vecRequired=o,s.vecSuggested=i}else this.m_mapUnoundActions.set(n.name,{vecRequired:o,vecSuggested:i})}var l=this.DeviceForSelectedControllerType();return l&&"TrackedDeviceClass_HMD"==l.class&&(this.m_bIsMissingRequiredActions=!1),"gamepad"==this.m_sSelectedControllerType&&(this.m_bIsMissingRequiredActions=!1),this.m_mapUnoundActions},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"HasUnboundActions",{get:function(){return this.UnboundActions,this.m_bIsMissingRequiredActions},enumerable:!0,configurable:!0}),e.prototype.IsActionBound=function(e,t){t=t.toLowerCase();var n=this.GetActionSetSources(e.name);if(n)for(var o=0,i=n;o<i.length;o++){var r=i[o],a=function(e){var n=!1;if(e.inputs.forEach(function(e){e.output.toLowerCase()==t&&(n=!0)}),n)return{value:!0}}(r);if("object"==typeof a)return a.value}var s=this.GetActionSetChords(e.name);if(s)for(var l=0,c=s;l<c.length;l++){var u=c[l];if(u.output&&u.output.toLowerCase()==t)return!0}var p=this.GetActionSetPoses(e.name);if(p)for(var d=0,m=p;d<m.length;d++){var h=m[d];if(h.output&&h.output.toLowerCase()==t)return!0}var f=this.GetActionSetHaptics(e.name);if(f)for(var g=0,_=f;g<_.length;g++){var b=_[g];if(b.output&&b.output.toLowerCase()==t)return!0}var S=this.GetActionSetSkeleton(e.name);if(S)for(var y=0,v=S;y<v.length;y++){var C=v[y];if(C.output&&C.output.toLowerCase()==t)return!0}return!1},e.prototype.GetActionSetPoses=function(e){return this.m_ModifiedBindingSet.has(e)?this.m_ModifiedBindingSet.get(e).poses:[]},e.prototype.GetActionSetHaptics=function(e){return this.m_ModifiedBindingSet.has(e)?this.m_ModifiedBindingSet.get(e).haptics:[]},e.prototype.GetActionSetSkeleton=function(e){return this.m_ModifiedBindingSet.has(e)?this.m_ModifiedBindingSet.get(e).skeleton:[]},e.prototype.GetActionSetChords=function(e){return this.m_ModifiedBindingSet.has(e)?this.m_ModifiedBindingSet.get(e).chords:[]},Object.defineProperty(e.prototype,"SelectedActionSetChords",{get:function(){return this.GetActionSetChords(this.m_sSelectedActionSet)},enumerable:!0,configurable:!0}),e.prototype.GetActionSetSources=function(e){if(void 0!=this.m_ModifiedBindingSet&&void 0!=e){var t=this.m_ModifiedBindingSet;return t.has(e)?t.get(e).sources:void 0}},Object.defineProperty(e.prototype,"SelectedActionSetSources",{get:function(){return this.GetActionSetSources(this.m_sSelectedActionSet)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"BSelectedActionSetHasPoses",{get:function(){return void 0!=this.m_LoadedBinding&&void 0!=this.m_sSelectedActionSet&&this.SelectedActionSetActions.filter(function(e){return"pose"==e.type}).length>0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"BSelectedActionSetHasHaptics",{get:function(){return void 0!=this.m_LoadedBinding&&void 0!=this.m_sSelectedActionSet&&this.SelectedActionSetActions.filter(function(e){return"vibration"==e.type}).length>0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"BSelectedActionSetHasSkeletons",{get:function(){return void 0!=this.m_LoadedBinding&&void 0!=this.m_sSelectedActionSet&&(0!=this.SelectedActionSetActions.filter(function(e){return"skeleton"==e.type}).length&&(void 0!=this.DeviceForSelectedControllerType()&&this.DeviceForSelectedControllerType().components.filter(function(e){return"InputValueType_Skeleton"==e.type}).length>0))},enumerable:!0,configurable:!0}),e.prototype.SetSelectedApp=function(e){if(void 0==this.m_SelectedApp||e!=this.m_SelectedApp.key){this.m_rKnownFailedBindingUris=[],this.m_ControllerWatchers.clear();var t=h.a.GetApp(e);t&&(this.m_SelectedApp=t,this.ReloadCurrentApp())}},e.prototype.ReloadCurrentApp=function(){return s.b(this,void 0,void 0,function(){var e=this;return s.e(this,function(t){return this.m_sSelectedActionSet=void 0,[2,new Promise(function(t,n){e.LoadActionManifest().then(function(){var n=e.ActionSets;n.length>0&&(void 0==e.m_sSelectedActionSet||!e.m_SelectedAppActions.action_sets.hasOwnProperty(e.m_sSelectedActionSet))&&(e.m_sSelectedActionSet=n[0].name);var o=e.LoadControllerConfiguration();o?o.then(function(e){t()}):t()})})]})})},e.prototype.SetSelectedController=function(e){if(e!=this.m_sSelectedControllerType){var t=this.m_InputState.controller_types.find(function(t){return t.name==e});t&&(this.m_ControllerWatchers.clear(),this.m_sSelectedControllerType=t.name,this.m_bControllerTypeSelectedByUser=!0,this.LoadControllerConfiguration())}},e.prototype.SetSelectedActionSet=function(e){e!=this.m_sSelectedActionSet&&(this.m_sSelectedActionSet=e)},e.prototype.GetSelectedActionSet=function(){return void 0!=this.m_sSelectedActionSet?this.m_SelectedAppActions.action_sets[this.m_sSelectedActionSet]:null},e.prototype.LocalizeStringForSelectedControllerType=function(e){var t=this.SelectedControllerTypeInfo;return t&&t.resource_root?this.LocalizeDriverString(t.resource_root,e):e},e.prototype.LocalizePathNameForSelectedControllerType=function(e){var t=["/user/hand/secondary","/user/hand/primary","/user/hand/left","/user/hand/right","/user/head"],n=void 0;return t.forEach(function(t){if(0==e.indexOf(t))return void(n=t)}),n?Object(d.b)("#"+n)+" "+this.LocalizeStringForSelectedControllerType(e.replace(n,"")):e},Object.defineProperty(e.prototype,"SelectedControllerTypeLocalizedName",{get:function(){var e=this.SelectedControllerTypeInfo;return e?e.resource_root?this.LocalizeDriverString(e.resource_root,e.name):e.name:""},enumerable:!0,configurable:!0}),e.prototype.LocalizeControllerString=function(e,t){var n=Object(d.b)("#"+t);return n!="#"+t?n:e&&this.m_InputState&&this.m_InputState.localization.hasOwnProperty(e.resource_root)&&this.m_InputState.localization[e.resource_root].hasOwnProperty(t.toLowerCase())?this.m_InputState.localization[e.resource_root][t.toLowerCase()]:t},e.prototype.LocalizeDriverString=function(e,t){var n=Object(d.b)("#"+t);return n!="#"+t?n:this.m_InputState&&this.m_InputState.localization.hasOwnProperty(e)&&this.m_InputState.localization[e].hasOwnProperty(t.toLowerCase())?this.m_InputState.localization[e][t.toLowerCase()]:t},e.prototype.LocalizeInputPathName=function(e,t){var n=["/user/hand/secondary","/user/hand/primary","/user/hand/left","/user/hand/right"],o=void 0;return n.forEach(function(e){if(0==t.indexOf(e))return void(o=e)}),o?Object(d.b)("#"+o)+" "+this.LocalizeControllerString(e,t.replace(o,"")):t},e.prototype.RegisterBindingWatcher=function(e){void 0==this.m_vecBindingSetWatchers.find(function(t){return t==e})&&this.m_vecBindingSetWatchers.push(e)},e.prototype.UnregisterBindingWatcher=function(e){var t=this.m_vecBindingSetWatchers.indexOf(e);t>=0&&this.m_vecBindingSetWatchers.splice(t,1)},e.prototype.GetActionBinding=function(e,t){if(void 0!=this.m_ModifiedBindingSet){var n=this.m_ModifiedBindingSet;if(n.has(t)){var o=n.get(t).sources;if(o){var i=o.filter(function(t){return t.path==e});if(i)return i}}}},e.prototype.GetInputModesForSourceType=function(e,t){var n=[];switch(e){case"button":n=["button","-","toggle_button","","scalar_constant"];break;case"trackpad":n=["trackpad","dpad","-","trackpad_scroll","radial","button","toggle_button"];break;case"trigger":n=["trigger","button","-","toggle_button","scalar_constant"];break;case"joystick":n=["joystick","dpad","-","trackpad_scroll","radial","button","toggle_button"];break;case"pinch":n=["grab"];break;default:n=[]}return t&&(n.push("force_sensor"),"trigger"==e&&n.push("grab")),n},e.prototype.GetBooleanInputOptionsForMode=function(e){switch(e){case"button":case"toggle_button":return["click","touch"];case"button":return["single","double","held","long","click","touch"];case"trackpad":return["click","touch"];case"dpad_click":case"dpad_touch":case"dpad":return["left","right","up","down"];case"trackpad_scroll":return[];case"trigger":return["click","touch"];case"force_sensor":default:return[]}},e.prototype.GetActionBindingsOfType=function(e){var t=this;if(void 0==this.m_SelectedApp||void 0==this.m_sSelectedActionSet||void 0==this.m_SelectedAppActions.action_sets)return[];var n=[];return Object.keys(this.m_SelectedAppActions.action_sets[this.m_sSelectedActionSet].actions).forEach(function(o){var i=t.m_SelectedAppActions.action_sets[t.m_sSelectedActionSet].actions[o];i.type==e&&n.push(i)}),n},Object.defineProperty(e.prototype,"GetBooleanActionBindings",{get:function(){return this.GetActionBindingsOfType("boolean")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"GetVector1ActionBindings",{get:function(){return this.GetActionBindingsOfType("vector1")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"GetVector2ActionBindings",{get:function(){return this.GetActionBindingsOfType("vector2")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"GetVector3ActionBindings",{get:function(){return this.GetActionBindingsOfType("vector3")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"GetPoseActionBindings",{get:function(){return this.GetActionBindingsOfType("pose")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"GetHapticsActionBindings",{get:function(){return this.GetActionBindingsOfType("vibration")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"GetSkeletonActionBindings",{get:function(){return this.GetActionBindingsOfType("skeleton")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ConfigName",{get:function(){return this.m_sName},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ConfigDescription",{get:function(){return this.m_sDescription},enumerable:!0,configurable:!0}),e.prototype.GetPoseAction=function(e){if(this.m_ModifiedBindingSet.has(this.m_sSelectedActionSet)){var t=this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).poses;if(void 0!=t){var n=t.filter(function(t){return t.output.toLowerCase()==e.toLowerCase()});return n.length?n:void 0}}},e.prototype.GetPoseActionByPath=function(e){if(this.m_ModifiedBindingSet.has(this.m_sSelectedActionSet)){var t=this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).poses;if(void 0!=t){var n=t.filter(function(t){return t.path.toLowerCase()==e.toLowerCase()});return n.length?n:void 0}}},e.prototype.GetHapticsAction=function(e){if(this.m_ModifiedBindingSet.has(this.m_sSelectedActionSet)){var t=this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).haptics;if(void 0!=t){var n=t.filter(function(t){return t.output.toLowerCase()==e.toLowerCase()});return n.length?n:void 0}}},e.prototype.GetHapticsActionByPath=function(e){if(this.m_ModifiedBindingSet.has(this.m_sSelectedActionSet)){var t=this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).haptics;if(void 0!=t){var n=t.filter(function(t){return t.path.toLowerCase()==e.toLowerCase()});return n.length?n:void 0}}},e.prototype.GetSkeletonAction=function(e){if(this.m_ModifiedBindingSet.has(this.m_sSelectedActionSet)){var t=this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).skeleton;if(void 0!=t){var n=t.filter(function(t){return t.output.toLowerCase()==e.toLowerCase()});return n.length?n:void 0}}},e.prototype.GetSkeletonActionByPath=function(e){if(this.m_ModifiedBindingSet.has(this.m_sSelectedActionSet)){var t=this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).skeleton;if(void 0!=t){var n=t.filter(function(t){return t.path.toLowerCase()==e.toLowerCase()});return n.length?n:void 0}}},e.prototype.NotifyWatchersOfChange=function(){console.log("Binding file changed"),this.m_vecBindingSetWatchers.forEach(function(e){e()}),this.AutosaveBinding()},e.prototype.SetActionForInputModeType=function(e,t,n,o,i){if(!this.m_ModifiedBindingSet.has(this.m_sSelectedActionSet))return void console.error("SetActionForInputModeType: Invalid action set specified");var r=function(){function e(e,t){this.mode=e,this.sourceIdx=t}return e}(),a=[];if(this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).sources.filter(function(t,n){t.path==e&&a.push(new r(t,n))}),a.length<=t)return void console.warn("Invalid mode index (",t,") for path ",e);var s=a[t].sourceIdx;if(s>=0){var l=this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).sources[s];if(l.inputs&&l.inputs.has(n)&&l.inputs.get(n).output==o)return void console.log("Trying to set new action to old action for type",n," action is ",o);if(i.length>0&&!i.find(function(e){return e==l.mode}))return void console.log("Trying to set invalid input type of ",n," for current mode ",l.mode);l.inputs||(l.inputs=p.k.map()),"none"==o?l.inputs.has(n)&&l.inputs.delete(n):l.inputs.has(n)?l.inputs.get(n).output=o:l.inputs.set(n,{output:o}),this.NotifyWatchersOfChange()}},e.prototype.SetParameterForInputModeType=function(e,t,n,o,i){if(!this.m_ModifiedBindingSet.has(this.m_sSelectedActionSet))return void console.error("SetParameterForInputModeType: Invalid action set specified");var r=[];if(this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).sources.filter(function(t,n){t.path==e&&r.push(n)}),r.length<=t)return void console.warn("Invalid mode index (",t,") for path ",e);var a=r[t];if(a>=0){var s=this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).sources[a];if(!s.inputs)return void console.log("SetParameterForInputModeType: Trying to set parameter for missing input type of ",n," for current mode ",s.mode);s.parameters||(s.parameters=p.k.map()),void 0==i?s.parameters.delete(o):s.parameters.set(o,i),this.NotifyWatchersOfChange()}},e.prototype.GetParameterForInputModeType=function(e,t,n,o){if(!this.m_ModifiedBindingSet.has(this.m_sSelectedActionSet))return console.error("SetParameterForInputModeType: Invalid action set specified"),null;var i=[];if(this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).sources.filter(function(t,n){t.path==e&&i.push(n)}),i.length<=t)return console.warn("Invalid mode index (",t,") for path ",e),null;var r=i[t];if(r>=0){var a=this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).sources[r];return a.inputs?a.parameters&&a.parameters.has(o)?a.parameters.get(o):null:(console.log("GetParameterForInputModeType: Trying to get parameter for missing input type of ",n," for current mode ",a.mode),null)}return null},e.prototype.AddActionSetIfRequired=function(){if(!this.m_ModifiedBindingSet.has(this.m_sSelectedActionSet)){var e=new y;e.sources=[],this.m_ModifiedBindingSet.set(this.m_sSelectedActionSet,e)}},e.prototype.AddInputModeForSource=function(e,t){this.AddActionSetIfRequired();var n=new f;return n.mode=t,n.path=e,n.inputs=p.k.map(),this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).sources.push(n),this.NotifyWatchersOfChange(),this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).sources.filter(function(t){return t.path.toLowerCase()==e.toLowerCase()}).length-1},e.prototype.DeleteInputModeForSource=function(e,t){if(!this.m_ModifiedBindingSet.has(this.m_sSelectedActionSet))return void console.error("AddInputModeForType: Invalid action set specified");var n=[];if(this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).sources.filter(function(t,o){t.path.toLowerCase()==e.toLowerCase()&&n.push(o)}),n.length<=t)return void console.warn("Invalid mode index (",t,") for path ",e);var o=n[t];if(-1==o)return void console.error("DeleteInputModeForSource: Mode not found for source");this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).sources.splice(o,1),this.NotifyWatchersOfChange()},e.prototype.SetInputModeForInputSource=function(e,t,n){if(!this.m_ModifiedBindingSet.has(this.m_sSelectedActionSet))return void console.error("SetActionForInputModeType: Invalid action set specified");var o=[];if(this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).sources.filter(function(t,n){t.path.toLowerCase()==e.toLowerCase()&&o.push(n)}),o.length<=t)return void console.warn("Invalid mode index (",t,") for path ",e);var i=o[t];if(-1==i)return void console.error("SetActionForInputModeType: trying to change a mode for a source that we don't have already");var r=this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).sources[i];if(r.path==e){if(r.mode==n)return void console.log("Trying to set new input mode to old mode!");var a=JSON.parse(JSON.stringify(r)),s=new f;switch(s.mode=n,s.path=e,s.inputs=p.k.map(),n){case"button":case"toggle_button":switch(a.mode){case"complex_button":a.inputs.single&&s.inputs.set("click",a.inputs.single);break;case"button":case"toggle_button":case"trackpad":case"trigger":a.inputs.click&&s.inputs.set("click",a.inputs.click),a.inputs.touch&&s.inputs.set("touch",a.inputs.touch)}break;case"complex_button":switch(a.mode){case"toggle_button":case"button":a.inputs.click&&s.inputs.set("single",a.inputs.click);break;case"trackpad":case"trigger":a.inputs.click&&s.inputs.set("single",a.inputs.click)}break;case"trackpad":switch(a.mode){case"complex_button":a.inputs.single&&s.inputs.set("click",a.inputs.single);break;case"toggle_button":case"button":case"trigger":a.inputs.click&&s.inputs.set("click",a.inputs.click),a.inputs.touch&&s.inputs.set("touch",a.inputs.touch)}break;case"trigger":switch(a.mode){case"complex_button":a.inputs.single&&s.inputs.set("click",a.inputs.single);break;case"toggle_button":case"trackpad":case"button":a.inputs.click&&s.inputs.set("click",a.inputs.click),a.inputs.touch&&s.inputs.set("touch",a.inputs.touch)}}return this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).sources[i]=s,void this.NotifyWatchersOfChange()}},e.prototype.ClearModesForInputPath=function(e){if(!this.m_ModifiedBindingSet.has(this.m_sSelectedActionSet))return void console.error("ClearModesForInputPath: Invalid action set specified");this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).sources=this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).sources.filter(function(t){return t.path.toLowerCase()!=e.toLowerCase()})},e.prototype.SetInputPathForPose=function(e,t){if(!this.m_ModifiedBindingSet.has(this.m_sSelectedActionSet))return void console.error("SetActionForPose: Invalid action set specified");this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).poses||(this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).poses=new Array);var n=this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).poses.findIndex(function(t){return t.path.toLowerCase()==e.path.toLowerCase()&&t.output.toLowerCase()==e.output.toLowerCase()});if(-1==n&&(n=this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).poses.push(new g)-1,this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).poses[n].output=e.output),this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).poses[n].path==t)return void console.log("Trying to set new pose action path to old action path!");this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).poses[n].path=t,this.NotifyWatchersOfChange()},e.prototype.SetPoseForInputPath=function(e,t){if(!this.m_ModifiedBindingSet.has(this.m_sSelectedActionSet))return void console.error("SetActionForPose: Invalid action set specified");this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).poses||(this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).poses=new Array);var n=this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).poses.findIndex(function(t){return t.path.toLowerCase()==e.toLowerCase()});if(-1==n&&(n=this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).poses.push(new g)-1,this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).poses[n].path=e),this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).poses[n].output==t)return void console.log("Trying to set new pose action path to old action path!");this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).poses[n].output=t,this.NotifyWatchersOfChange()},e.prototype.AddDefaultPose=function(e,t){this.AddActionSetIfRequired(),this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).poses||(this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).poses=new Array);var n=this.DeviceForSelectedControllerType().components.filter(function(e){return"InputValueType_Pose"==e.type}).map(function(e){return t+e.path})[0],o=function(){function e(){}return e}(),i=new o;i.output=e,i.path=n,this.SetInputPathForPose(i,n)},e.prototype.SetInputPathForHaptics=function(e,t){if(!this.m_ModifiedBindingSet.has(this.m_sSelectedActionSet))return void console.error("SetInputPathForHaptics: Invalid action set specified");this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).haptics||(this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).haptics=new Array);var n=this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).haptics.findIndex(function(t){return t.path.toLowerCase()==e.path.toLowerCase()&&t.output.toLowerCase()==e.output.toLowerCase()});if(-1==n&&(n=this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).haptics.push(new _)-1,this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).haptics[n].output=e.output),this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).haptics[n].path==t)return void console.log("Trying to set new haptics action path to old action path!");this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).haptics[n].path=t,this.NotifyWatchersOfChange()},e.prototype.SetHapticsForInputPath=function(e,t){if(!this.m_ModifiedBindingSet.has(this.m_sSelectedActionSet))return void console.error("SetHapticsForInputPath: Invalid action set specified");this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).haptics||(this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).haptics=new Array);var n=this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).haptics.findIndex(function(t){return t.path.toLowerCase()==e.toLowerCase()});if(-1==n&&(n=this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).haptics.push(new g)-1,this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).haptics[n].path=e),this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).haptics[n].output==t)return void console.log("Trying to set new haptic action path to old action path!");this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).haptics[n].output=t,this.NotifyWatchersOfChange()},e.prototype.AddDefaultHaptics=function(e,t){this.AddActionSetIfRequired(),this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).haptics||(this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).haptics=new Array);var n=this.DeviceForSelectedControllerType().components.filter(function(e){return"InputValueType_Haptic"==e.type}).map(function(e){return t+e.path})[0],o=function(){function e(){}return e}(),i=new o;i.output=e,i.path=n,this.SetInputPathForHaptics(i,n)},e.prototype.SetInputPathForSkeleton=function(e,t){if(!this.m_ModifiedBindingSet.has(this.m_sSelectedActionSet))return void console.error("SetInputPathForSkeleton: Invalid action set specified");this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).skeleton||(this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).skeleton=new Array);var n=this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).skeleton.findIndex(function(t){return t.path.toLowerCase()==e.path.toLowerCase()&&t.output.toLowerCase()==e.output.toLowerCase()});if(-1==n&&(n=this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).skeleton.push(new b)-1,this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).skeleton[n].output=e.output),this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).skeleton[n].path==t)return void console.log("Trying to set new skeleton action path to old action path!");this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).skeleton[n].path=t,this.NotifyWatchersOfChange()},e.prototype.SetSkeletonForInputPath=function(e,t){if(!this.m_ModifiedBindingSet.has(this.m_sSelectedActionSet))return void console.error("SetSkeletonForInputPath: Invalid action set specified");this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).skeleton||(this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).skeleton=new Array);var n=this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).skeleton.findIndex(function(t){return t.path.toLowerCase()==e.toLowerCase()});if(-1==n&&(n=this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).skeleton.push(new g)-1,this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).skeleton[n].path=e),this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).skeleton[n].output==t)return void console.log("Trying to set new skeleton action path to old action path!");this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).skeleton[n].output=t,this.NotifyWatchersOfChange()},e.prototype.AddDefaultSkeleton=function(e,t){this.AddActionSetIfRequired(),this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).skeleton||(this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).skeleton=new Array);var n=this.DeviceForSelectedControllerType().components.filter(function(e){return"InputValueType_Skeleton"==e.type}).map(function(e){return t+e.path})[0],o=function(){function e(){}return e}(),i=new o;i.output=e,i.path=n,this.SetInputPathForSkeleton(i,n)},e.prototype.SetActionForChord=function(e,t){if(!this.m_ModifiedBindingSet.has(this.m_sSelectedActionSet))return void console.error("SetActionForChord: Invalid action set specified");var n=this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).chords.findIndex(function(t){return t==e});return-1==n?void console.error("SetActionForChord: Invalid chord  specified ",e):this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).chords[n].output==t?void console.log("Trying to set new chord action to old action!"):(this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).chords[n].output=t,void this.NotifyWatchersOfChange())},e.prototype.DeleteChord=function(e){if(!this.m_ModifiedBindingSet.has(this.m_sSelectedActionSet))return void console.error("DeleteChordForSource: Invalid action set specified");var t=this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).chords.findIndex(function(t){return t==e});if(-1==t)return void console.error("DeleteChordForSource: Invalid chord  specified ",e);this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).chords.splice(t,1),this.NotifyWatchersOfChange()},e.prototype.AddChord=function(){this.AddActionSetIfRequired(),this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).chords||(this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).chords=new Array);this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).chords.push(new S);this.NotifyWatchersOfChange()},e.prototype.DeleteSourceFromChord=function(e,t){if(!this.m_ModifiedBindingSet.has(this.m_sSelectedActionSet))return void console.error("DeleteSourceFromChord: Invalid action set specified");var n=this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).chords.findIndex(function(t){return t==e});if(-1==n)return void console.error("DeleteSourceFromChord: Invalid chord  specified ",e);var o=this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).chords[n].inputs.findIndex(function(e){return e[0]==t});-1!=o&&(this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).chords[n].inputs.splice(o,1),this.NotifyWatchersOfChange())},e.prototype.SetInputTypeForChord=function(e,t,n){if(!this.m_ModifiedBindingSet.has(this.m_sSelectedActionSet))return void console.error("SetInputsForChord: Invalid action set specified");var o=this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).chords.findIndex(function(t){return t==e});if(-1==o)return void console.error("SetInputsForChord: Invalid chord  specified ",e);var i=this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).chords[o].inputs.findIndex(function(e){return e[0]==t});return-1==i?void console.log("Invalid bounds for new input chord, trying to add type without source"):this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).chords[o].inputs[i][1]==n?void console.log("Trying to set new chord inputs to old inputs!"):(this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).chords[o].inputs[i][1]=n,void this.NotifyWatchersOfChange())},e.prototype.SetInputSourceForChord=function(e,t,n){if(!this.m_ModifiedBindingSet.has(this.m_sSelectedActionSet))return void console.error("SetInputsForChord: Invalid action set specified");var o=this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).chords.findIndex(function(t){return t==e});if(-1==o)return void console.error("SetInputsForChord: Invalid chord  specified ",e);var i=this.GetActionBinding(t,this.SelectedActionSet);if(!i)return void console.log("Failed to find action binding for path");var r="click";if(i.length&&(r=this.GetBooleanInputOptionsForMode(i[0].mode)[0]),void 0==n)this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).chords[o].inputs||(this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).chords[o].inputs=new Array),this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).chords[o].inputs.push([t,r]);else{var a=this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).chords[o].inputs.findIndex(function(e){return e[0]==n});if(-1==a)return void console.log("Trying to set replace chord input path when we didn't have that path!");if(this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).chords[o].inputs[a][0]==t)return void console.log("Trying to set new chord inputs to old inputs!");this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).chords[o].inputs[a][0]=t,this.m_ModifiedBindingSet.get(this.m_sSelectedActionSet).chords[o].inputs[a][1]=r}this.NotifyWatchersOfChange()},e.prototype.LoadActionManifest=function(){return s.b(this,void 0,void 0,function(){var e=this;return s.e(this,function(t){return[2,new Promise(function(t,n){i(e.m_SelectedApp.key).then(function(n){void 0==n.error?(e.m_SelectedAppActions=n,void 0==e.m_sLoadedBindingURI&&n.current_binding_url.hasOwnProperty(e.m_sSelectedControllerType)&&(e.m_sLoadedBindingURI=n.current_binding_url[e.m_sSelectedControllerType])):(e.m_SelectedAppActions=void 0,e.m_sLoadedBindingURI=void 0),t()})})]})})},Object.defineProperty(e.prototype,"SelectedBindingURL",{get:function(){return void 0!=this.m_sSelectedControllerType&&void 0!=this.m_SelectedAppActions&&void 0!=this.m_SelectedAppActions.current_binding_url&&this.m_SelectedAppActions.current_binding_url.hasOwnProperty(this.m_sSelectedControllerType)?this.m_SelectedAppActions.current_binding_url[this.m_sSelectedControllerType]:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"LoadedBindingURL",{get:function(){return this.m_sLoadedBindingURI},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"SelectedBindingIsLegacy",{get:function(){return!this.m_SelectedAppActions||this.m_SelectedAppActions.legacy},enumerable:!0,configurable:!0}),e.prototype.LoadControllerConfiguration=function(){var e=this;if(this.m_SelectedAppActions&&this.m_sLoadedBindingURI&&void 0!=this.SelectedControllerTypeInfo){if(void 0!=this.m_OutstandingConfigLoad&&console.warn("About to start second binding load when one is already pending",this.m_OutstandingConfigLoad),this.m_sLoadedBindingURI.length>0){var t=new Promise(function(t,n){e.m_OutstandingConfigLoad=t,r(e.m_SelectedApp.key,e.SelectedControllerTypeInfo.name,e.m_sLoadedBindingURI).then(function(e){console.log("LoadControllerConfiguration: ajax request successful")}).catch(function(e){n(e)})});return t}var t=new Promise(function(e,t){e()});return t}return null},e.prototype.GetInputState=function(){return s.b(this,void 0,void 0,function(){var e=this;return s.e(this,function(t){switch(t.label){case 0:return[4,o().then(function(t){console.log("GetInputState: ",t);var n=e.m_KnownControllerTypes.size;e.m_KnownControllerTypes.clear(),t.devices.map(function(n){var o=t.controller_types.find(function(e){return e.name==n.controller_type});o&&e.m_KnownControllerTypes.set(n.controller_type,o.profile)}),e.m_SelectedApp&&n!=e.m_KnownControllerTypes.size&&e.ReloadCurrentApp(),e.m_InputState=t;var o,i=!1;for(var r in t.controller_types){var a=t.controller_types[r];(void 0==o||a.priority<o.priority)&&(o=a)}var s=e.FindDeviceClassForControllerType(e.m_sSelectedControllerType);if(void 0!=o&&e.m_sSelectedControllerType!=o.name&&!e.m_bControllerTypeSelectedByUser){var l=e.FindDeviceClassForControllerType(o.name);m.a.IsSafeToResetControllerType(s,l)&&(e.m_sSelectedControllerType=o.name,i=!0,void 0!=s&&m.a.RefreshBindingList())}i&&e.LoadControllerConfiguration()})];case 1:return t.sent(),[2]}})})},Object.defineProperty(e.prototype,"TrackerBindings",{get:function(){var e=this;return void 0==this.m_TrackerBindingSetup&&this.GetTrackerBindings().then(function(t){e.m_TrackerBindingSetup=t}),this.m_TrackerBindingSetup},enumerable:!0,configurable:!0}),e.prototype.GetTrackerBindings=function(){return s.b(this,void 0,void 0,function(){return s.e(this,function(e){return[2,new Promise(function(e,t){u.a.get("/input/gettrackerbindings.json").then(function(t){e(t.data)}).catch(function(e){t(e)})})]})})},e.prototype.SetTrackerBinding=function(e,t,n){var o=this,i={device_path:e,role:t,controller_role:n},r=JSON.stringify(i);console.log("Saving tracker binding "+e),u.a.post("/input/settrackerbinding.action",r).then(function(e){console.log("SetTrackerBinding response: ",e.data),o.GetTrackerBindings()}).catch(function(e){})},e.prototype.PulseHaptics=function(e){var t={path_handle:e},n=JSON.stringify(t);u.a.post("/input/pulsehaptics.action",n).then(function(e){console.log("PulseHaptics response: ",e.data)}).catch(function(e){})},e.prototype.FindDeviceClassForControllerType=function(e){var t=this.m_InputState.devices.find(function(t){return t.controller_type==e});return void 0==t?void 0:t.class},Object.defineProperty(e.prototype,"KnownControllerTypes",{get:function(){var e=[];return this.m_KnownControllerTypes.forEach(function(t){e.push(t)}),e},enumerable:!0,configurable:!0}),e.prototype.AutosaveBinding=function(){if(!this.m_sName){var e=w.DeviceForSelectedControllerType(),t=w.LocalizeControllerString(e,e?e.controller_type:"");this.m_sName=Object(d.b)("#BindingUI_SaveDefaultName",this.m_SelectedApp.name,t)}this.SaveCurrentBinding(this.m_sName,this.m_sDescription,"autosave").then(function(e){w.SetBindingURL(e.uri)})},e.prototype.SaveCurrentBinding=function(e,t,n){return s.b(this,void 0,void 0,function(){var o,i,r,a=this;return s.e(this,function(s){return this.HasUnboundActions?(console.log("Aborting save: Missing at least one required action"),[2,new Promise(function(e,t){t()})]):(this.m_sName=e,this.m_sDescription=t,o={app_key:this.SelectedApp,controller_type:this.DeviceForSelectedControllerType().controller_type,save_type:n},o.binding={name:e,description:t,app_key:this.SelectedApp,controller_type:this.DeviceForSelectedControllerType().controller_type,bindings:this.m_ModifiedBindingSet},i=JSON.stringify(o),console.log("Saving binding "+e+" for app "+this.SelectedApp),r=new Promise(function(e,t){var o=new B(n,e,t);a.m_OutstandingSaveBindingCalls.push(o),u.a.post("/input/savebinding.action",i).then(function(e){e.data.error?(console.log("SaveCurrentBinding failed:",e.data.error),t(e.data.error)):console.log("SaveCurrentBinding Successful")}).catch(function(e){t(e)})}),[2,r])})})},e.prototype.PublishBindingToWorkshop=function(e){return s.b(this,void 0,void 0,function(){var t,n;return s.e(this,function(o){switch(o.label){case 0:return t={app_key:this.SelectedApp,description:e},t.binding={bindings:this.m_ModifiedBindingSet,controller_type:this.DeviceForSelectedControllerType().controller_type},n=JSON.stringify(t),[4,new Promise(function(e,t){u.a.post("/input/submitworkshopbinding.action",n).then(function(t){console.log("PublishBindingToWorkshop response: ",t),e()}).catch(function(e){t(e)})})];case 1:return o.sent(),[2]}})})},e.prototype.OnWebSocketOpen=function(e){var t=this;console.log("Websocket connected"),this.m_eWebSocketState=a.eWebSocketState_Connected,this.WebSocketSend("input_open"),this.m_timerWebSocket&&clearTimeout(this.m_timerWebSocket),window.addEventListener("beforeunload",function(){t.WebSocketSend("input_close")})},e.prototype.OnWebSocketClose=function(e){console.log("Websocket closed ",e),this.m_eWebSocketState=a.eWebSocketState_Disconnected,this.OpenWebSocketToHost()},e.prototype.WebSocketSend=function(e){void 0!=this.m_wsWebSocketToServer&&1==this.m_wsWebSocketToServer.readyState&&this.m_wsWebSocketToServer.send(e)},e.prototype.OnWorkshopUploadComplete=function(e){if(console.log("OnWorkshopUploadComplete: ",e),e.app_key!=this.SelectedApp)return void console.log("Ignoring binding load for an app we aren't viewing");if(this.m_OutstandingSaveBindingCalls.length<=0)return void console.log("Got workshop upload result without pending resolve");var t=this.m_OutstandingSaveBindingCalls.shift();e.success?(t.resolve(e),this.LoadActionManifest()):t.reject(e)},e.prototype.OnPendingFileSaved=function(e){if(console.log("OnPendingFileSaved: ",e),e.app_key!=this.SelectedApp)return void console.log("Ignoring pending file saved for an app we aren't viewing")},Object.defineProperty(e.prototype,"SaveNoticeText",{get:function(){if(this.m_OutstandingSaveBindingCalls.length>0){var e=!1;return this.m_OutstandingSaveBindingCalls.forEach(function(t){"personal"!=t.SaveType&&"public"!=t.SaveType||(e=!0)}),e?"#SaveNotice_Uploading":"#SaveNotice_Saving"}},enumerable:!0,configurable:!0}),e.prototype.OnBindingConfigLoaded=function(e){var t=this;if(console.log("OnBindingConfigLoaded: ",e," selected action set:",this.m_sSelectedActionSet),e.app_key!=this.SelectedApp)return void console.log("Ignoring binding load for an app we aren't viewing");if(e.uri!=this.m_sLoadedBindingURI)return void console.log("Ignoring binding load for an config url we aren't viewing");this.m_ControllerWatchers.clear(),this.m_LoadedBinding=e,this.m_ModifiedBindingSet=p.k.map();var n=Object(d.b)("#unknown_application"),o=h.a.GetApp(w.SelectedApp);if(o&&(n=o.name),this.m_sName="",this.m_sDescription="",e.binding_config&&("developer"==e.type?this.SelectedBindingIsLegacy?(this.m_sName=Object(d.b)("#BindingUI_List_Legacy_Binding_Title",n),this.m_sDescription=Object(d.b)("#BindingUI_List_Legacy_Binding_Description")):(this.m_sName=Object(d.b)("#BindingUI_List_Developer_Binding_Title",n),this.m_sDescription=Object(d.b)("#BindingUI_List_Developer_Binding_Description")):(e.binding_config.hasOwnProperty("name")&&(this.m_sName=e.binding_config.name),e.binding_config.hasOwnProperty("description")&&(this.m_sDescription=e.binding_config.description))),""==this.m_sName){var i=w.DeviceForSelectedControllerType(),r=w.LocalizeControllerString(i,i?i.controller_type:"");this.m_sName=Object(d.b)("#BindingUI_SaveDefaultName",n,r)}e.binding_config&&e.binding_config.bindings&&Object.keys(e.binding_config.bindings).forEach(function(n){var o=new y;o.chords=e.binding_config.bindings[n].chords,o.poses=e.binding_config.bindings[n].poses,o.haptics=e.binding_config.bindings[n].haptics,o.skeleton=e.binding_config.bindings[n].skeleton,o.sources=new Array,e.binding_config.bindings[n].sources.forEach(function(e){var t=new f;t.mode=e.mode,t.path=e.path,t.inputs=p.k.map(),e.hasOwnProperty("inputs")&&Object.keys(e.inputs).forEach(function(n){t.inputs.set(n,e.inputs[n])}),void 0!=e.parameters&&Object.keys(e.parameters).length>0&&(t.parameters=p.k.map(),e.hasOwnProperty("parameters")&&Object.keys(e.parameters).forEach(function(n){t.parameters.set(n,e.parameters[n])})),o.sources.push(t)}),t.m_ModifiedBindingSet.set(n,o)}),this.m_vecBindingSetWatchers.forEach(function(e){e()}),void 0!=this.m_OutstandingConfigLoad&&(this.m_OutstandingConfigLoad(e),this.m_OutstandingConfigLoad=void 0)},e.prototype.OnControllerTypeChanged=function(e){},e.prototype.QueryBindingList=function(e,t){var n=this;return void 0!=this.m_OutstandingQueryResolve&&console.warn("About to start second binding list query when one is already pending",this.m_OutstandingQueryResolve),new Promise(function(o,i){n.m_OutstandingQueryResolve=o,u.a.get("/input/queryworkshopbindings.json?app_key="+e+"&controller_type="+t).then(function(e){console.log("QueryBindingList: ajax request successful")}).catch(function(e){i(e)})})},e.prototype.DeleteBinding=function(e){var t=this;void 0!=this.m_OutstandingDeleteResolve&&console.warn("About to start second binding delete when one is already pending",this.m_OutstandingDeleteResolve);var n={url:e},o=JSON.stringify(n);return new Promise(function(n,i){t.m_OutstandingDeleteResolve=n,t.m_sOutstandingDeleteURL=e,u.a.post("/input/deleteconfig.action",o).then(function(e){console.log("Delete ajax request successful")}).catch(function(e){i(e)})})},e.prototype.OnBindingDeleteComplete=function(e){if(void 0==this.m_OutstandingDeleteResolve)return void console.warn("Missing outstanding query resolve for binding delete");e.url==this.m_sOutstandingDeleteURL&&(this.m_sOutstandingDeleteURL=void 0,this.m_OutstandingDeleteResolve(e),this.m_OutstandingDeleteResolve=void 0,console.log("OnDeleteComplete: ",e))},e.prototype.OnBindingLoadFailed=function(e){var t=this;h.a.UpdateApplications().then(function(){if(h.a.ShouldShowBindingFailureForApp(e.app_key)&&t.ShouldShowBindingFailureForControllerType(e.controller_type)){t.m_rKnownFailedBindingUris.push(e.uri),t.SetSelectedApp(e.app_key);var n=h.a.GetApp(e.app_key);m.a.ShowBindingList(Object(d.b)(e.error,n?n.name:Object(d.b)("#unknown_application"))),"undefined"!=typeof VRHTML&&VRHTML.ShowBindingUI()}})},e.prototype.ShouldShowBindingFailureForControllerType=function(e){if(void 0==e||""==e)return!1;var t=this.FindDeviceClassForControllerType(e);return"TrackedDeviceClass_HMD"!=t&&"TrackedDeviceClass_TrackingReference"!=t},e.prototype.HasBindingUriFailedToLoad=function(e){return-1!=this.m_rKnownFailedBindingUris.indexOf(e)},e.prototype.OnQueryResults=function(e){if(console.log("OnQueryResults: ",e),void 0==this.m_OutstandingQueryResolve)return void console.warn("Missing outstanding query resolve for binding query");this.m_OutstandingQueryResolve(e),this.m_OutstandingQueryResolve=void 0},e.prototype.SelectConfig=function(e,t,n){var o=this;if(this.m_sLoadedBindingURI=n,console.log("Selecting config "+n+" for app "+e),this.SelectedBindingURL==n)return console.debug("Selecting the config we already have set",n),new Promise(function(e,t){e()});var i={app_key:e,controller_type:t,url:n},r=JSON.stringify(i);return void 0!=this.m_OutstandingSelectConfigResolve&&console.warn("About to start second select config when one is already pending",this.m_OutstandingSelectConfigResolve),new Promise(function(e,t){o.m_OutstandingSelectConfigResolve=e,u.a.post("/input/selectconfig.action",r).then(function(e){console.log("selectconfig ajax request successful")}).catch(function(e){t(e)})})},e.prototype.OnSelectConfigComplete=function(e){if(void 0==this.m_OutstandingSelectConfigResolve)return void console.warn("Missing outstanding query resolve for select config");this.m_OutstandingSelectConfigResolve(),this.m_OutstandingSelectConfigResolve=void 0,console.log("OnSelectConfigComplete: ",e)},e.prototype.OnTrackersBindingChanged=function(e){var t=this;this.GetTrackerBindings().then(function(e){t.m_TrackerBindingSetup=e})},e.prototype.OnActionManifestReloaded=function(e){e.app_key==this.SelectedApp&&this.ReloadCurrentApp()},e.prototype.OnActionManifestLoadFailed=function(e){m.a.ShowActionManifestLoadFailed(e.app_key,e.error,e.error_param,e.path)},e.prototype.OnShowActionOrigins=function(e){m.a.ShowActionOrigins(e.app_key,e.action_set,e.origin_to_highlight)},e.prototype.SetBindingURL=function(e){this.m_sLoadedBindingURI=e},e.prototype.OnActionBindingsReloaded=function(e){this.GetInputState()},e.prototype.GetControllerWatcherForSource=function(e,t,n,o){return this.GetControllerWatcherForSourceFromControllerType(this.GetControllerTypeInfo(e.controller_type),t,n,o)},e.prototype.GetControllerWatcherForSourceFromControllerType=function(e,t,n,o){var i=""+e.name+t+n+o;if(!this.m_ControllerWatchers.has(i)){var r="";if("controller_handed"==e.profile.input_bindingui_mode)switch(t){case 1:r="/user/hand/left";break;case 2:r="/user/hand/right"}else{var a=w.ConnectedDevices.find(function(t){return t.controller_type==e.name});a&&a.root_path?r=a.root_path:console.log("Unable to find device path for controller type ",e)}this.m_ControllerWatchers.set(i,new N(e.resource_root,r,e.profile,t,n,o))}return this.m_ControllerWatchers.get(i)},e.prototype.OnWebSocketMessage=function(e){var t=JSON.parse(e.data);if("jsonid"in t&&"vr_input_get_notifications"==t.jsonid)for(var n in t.notifications){var o=t.notifications[n];switch(o.type){case"pending_file_saved":this.OnPendingFileSaved(o);break;case"workshop_upload_complete":this.OnWorkshopUploadComplete(o);break;case"binding_loaded":this.OnBindingConfigLoaded(o);break;case"controller_type_changed":this.OnControllerTypeChanged(o);break;case"query_results":this.OnQueryResults(o);break;case"action_bindings_reloaded":this.OnActionBindingsReloaded(o);break;case"delete_binding_complete":this.OnBindingDeleteComplete(o);break;case"binding_load_failed":this.OnBindingLoadFailed(o);break;case"select_config_complete":this.OnSelectConfigComplete(o);break;case"trackers_binding_changed":this.OnTrackersBindingChanged(o);break;case"action_manifest_reloaded":this.OnActionManifestReloaded(o);break;case"action_manifest_load_failed":this.OnActionManifestLoadFailed(o);break;case"show_action_origins":this.OnShowActionOrigins(o)}}},Object.defineProperty(e.prototype,"BindingConfig",{get:function(){return void 0==this.m_ModifiedBindingSet?"":JSON.stringify(this.m_ModifiedBindingSet,null,"\t")},enumerable:!0,configurable:!0}),s.c([p.k],e.prototype,"m_eWebSocketState",void 0),s.c([p.k],e.prototype,"m_InputState",void 0),s.c([p.k],e.prototype,"m_sLoadedBindingURI",void 0),s.c([p.k],e.prototype,"m_LoadedBinding",void 0),s.c([p.k],e.prototype,"m_ModifiedBindingSet",void 0),s.c([p.k],e.prototype,"m_sName",void 0),s.c([p.k],e.prototype,"m_sDescription",void 0),s.c([p.k],e.prototype,"m_SelectedApp",void 0),s.c([p.k],e.prototype,"m_SelectedAppActions",void 0),s.c([p.k],e.prototype,"m_sSelectedActionSet",void 0),s.c([p.k],e.prototype,"m_sSelectedControllerType",void 0),s.c([p.k],e.prototype,"m_KnownControllerTypes",void 0),s.c([p.k],e.prototype,"m_TrackerBindingSetup",void 0),s.c([p.k],e.prototype,"m_OutstandingSaveBindingCalls",void 0),s.c([l.b],e.prototype,"OpenWebSocketToHost",null),s.c([p.d],e.prototype,"SteamVRUnavailable",null),s.c([p.d],e.prototype,"ConnectedDevices",null),s.c([p.d],e.prototype,"ControllerTypes",null),s.c([p.d],e.prototype,"ActionSets",null),s.c([p.d],e.prototype,"SelectedApp",null),s.c([p.d],e.prototype,"CurrentAppCanAccessPrivateInputs",null),s.c([p.d],e.prototype,"ShowHiddenInputs",null),s.c([p.d],e.prototype,"IsSteamAvailable",null),s.c([p.d],e.prototype,"BDevMode",null),s.c([p.d],e.prototype,"SelectedControllerTypeInfo",null),s.c([l.b],e.prototype,"GetControllerTypeInfo",null),s.c([p.d],e.prototype,"SelectedActionSet",null),s.c([p.d],e.prototype,"SelectedActionSetDetails",null),s.c([p.d],e.prototype,"SelectedActionSetActions",null),s.c([l.b],e.prototype,"GetSelectedAppDefaultBinding",null),s.c([l.b],e.prototype,"GetActionByName",null),s.c([p.d],e.prototype,"SelectedActionSetChords",null),s.c([p.d],e.prototype,"SelectedActionSetSources",null),s.c([p.d],e.prototype,"BSelectedActionSetHasPoses",null),s.c([p.d],e.prototype,"BSelectedActionSetHasHaptics",null),s.c([p.d],e.prototype,"BSelectedActionSetHasSkeletons",null),s.c([p.c],e.prototype,"SetSelectedApp",null),s.c([p.c],e.prototype,"SetSelectedController",null),s.c([p.c],e.prototype,"SetSelectedActionSet",null),s.c([l.b],e.prototype,"LocalizeStringForSelectedControllerType",null),s.c([l.b],e.prototype,"LocalizePathNameForSelectedControllerType",null),s.c([p.d],e.prototype,"SelectedControllerTypeLocalizedName",null),s.c([l.b],e.prototype,"LocalizeControllerString",null),s.c([l.b],e.prototype,"LocalizeDriverString",null),s.c([l.b],e.prototype,"LocalizeInputPathName",null),s.c([p.c],e.prototype,"RegisterBindingWatcher",null),s.c([p.c],e.prototype,"UnregisterBindingWatcher",null),s.c([p.c],e.prototype,"GetActionBinding",null),s.c([l.b],e.prototype,"GetInputModesForSourceType",null),s.c([l.b],e.prototype,"GetBooleanInputOptionsForMode",null),s.c([l.b],e.prototype,"GetActionBindingsOfType",null),s.c([p.d],e.prototype,"GetBooleanActionBindings",null),s.c([p.d],e.prototype,"GetVector1ActionBindings",null),s.c([p.d],e.prototype,"GetVector2ActionBindings",null),s.c([p.d],e.prototype,"GetVector3ActionBindings",null),s.c([p.d],e.prototype,"GetPoseActionBindings",null),s.c([p.d],e.prototype,"GetHapticsActionBindings",null),s.c([p.d],e.prototype,"GetSkeletonActionBindings",null),s.c([p.d],e.prototype,"ConfigName",null),s.c([p.d],e.prototype,"ConfigDescription",null),s.c([l.b],e.prototype,"GetPoseAction",null),s.c([l.b],e.prototype,"GetPoseActionByPath",null),s.c([l.b],e.prototype,"GetHapticsAction",null),s.c([l.b],e.prototype,"GetHapticsActionByPath",null),s.c([l.b],e.prototype,"GetSkeletonAction",null),s.c([l.b],e.prototype,"GetSkeletonActionByPath",null),s.c([l.b],e.prototype,"NotifyWatchersOfChange",null),s.c([p.c],e.prototype,"SetActionForInputModeType",null),s.c([p.c],e.prototype,"SetParameterForInputModeType",null),s.c([l.b],e.prototype,"AddActionSetIfRequired",null),s.c([p.c],e.prototype,"AddInputModeForSource",null),s.c([p.c],e.prototype,"DeleteInputModeForSource",null),s.c([p.c],e.prototype,"SetInputModeForInputSource",null),s.c([p.c],e.prototype,"ClearModesForInputPath",null),s.c([p.c],e.prototype,"SetInputPathForPose",null),s.c([p.c],e.prototype,"SetPoseForInputPath",null),s.c([p.c],e.prototype,"AddDefaultPose",null),s.c([p.c],e.prototype,"SetInputPathForHaptics",null),s.c([p.c],e.prototype,"SetHapticsForInputPath",null),s.c([p.c],e.prototype,"AddDefaultHaptics",null),s.c([p.c],e.prototype,"SetInputPathForSkeleton",null),s.c([p.c],e.prototype,"SetSkeletonForInputPath",null),s.c([p.c],e.prototype,"AddDefaultSkeleton",null),s.c([p.c],e.prototype,"SetActionForChord",null),s.c([p.c],e.prototype,"DeleteChord",null),s.c([p.c],e.prototype,"AddChord",null),s.c([p.c],e.prototype,"DeleteSourceFromChord",null),s.c([p.c],e.prototype,"SetInputTypeForChord",null),s.c([p.c],e.prototype,"SetInputSourceForChord",null),s.c([p.c],e.prototype,"LoadActionManifest",null),s.c([p.d],e.prototype,"SelectedBindingURL",null),s.c([p.d],e.prototype,"LoadedBindingURL",null),s.c([p.d],e.prototype,"SelectedBindingIsLegacy",null),s.c([l.b],e.prototype,"LoadControllerConfiguration",null),s.c([p.c],e.prototype,"GetInputState",null),s.c([p.d],e.prototype,"TrackerBindings",null),s.c([p.c],e.prototype,"GetTrackerBindings",null),s.c([l.b],e.prototype,"SetTrackerBinding",null),s.c([l.b],e.prototype,"PulseHaptics",null),s.c([l.b],e.prototype,"FindDeviceClassForControllerType",null),s.c([p.d],e.prototype,"KnownControllerTypes",null),s.c([l.b],e.prototype,"AutosaveBinding",null),s.c([l.b],e.prototype,"OnWebSocketOpen",null),s.c([l.b],e.prototype,"OnWebSocketClose",null),s.c([l.b],e.prototype,"WebSocketSend",null),s.c([l.b],e.prototype,"OnWorkshopUploadComplete",null),s.c([l.b],e.prototype,"OnPendingFileSaved",null),s.c([p.d],e.prototype,"SaveNoticeText",null),s.c([l.b],e.prototype,"OnBindingConfigLoaded",null),s.c([l.b],e.prototype,"OnControllerTypeChanged",null),s.c([l.b],e.prototype,"QueryBindingList",null),s.c([l.b],e.prototype,"DeleteBinding",null),s.c([l.b],e.prototype,"OnBindingDeleteComplete",null),s.c([l.b],e.prototype,"OnBindingLoadFailed",null),s.c([l.b],e.prototype,"ShouldShowBindingFailureForControllerType",null),s.c([l.b],e.prototype,"HasBindingUriFailedToLoad",null),s.c([l.b],e.prototype,"OnQueryResults",null),s.c([l.b],e.prototype,"SelectConfig",null),s.c([l.b],e.prototype,"OnSelectConfigComplete",null),s.c([l.b],e.prototype,"OnTrackersBindingChanged",null),s.c([l.b],e.prototype,"OnActionManifestReloaded",null),s.c([l.b],e.prototype,"OnActionManifestLoadFailed",null),s.c([l.b],e.prototype,"OnShowActionOrigins",null),s.c([l.b],e.prototype,"SetBindingURL",null),s.c([l.b],e.prototype,"OnActionBindingsReloaded",null),s.c([l.b],e.prototype,"GetControllerWatcherForSource",null),s.c([l.b],e.prototype,"GetControllerWatcherForSourceFromControllerType",null),s.c([l.b],e.prototype,"OnWebSocketMessage",null),s.c([p.d],e.prototype,"BindingConfig",null),e}(),w=new A;window.controllerBindingStore=w},"6Pre":function(e,t,n){"use strict";n.d(t,"b",function(){return u}),n.d(t,"a",function(){return p});var o=n("TToO"),i=n("GiK3"),r=(n.n(i),n("NQlb")),a=n.n(r),s=n("N87Q"),l=(n.n(s),n("FBH1")),c="c:\\buildslave\\steamvr_webpack_rel_win32\\build\\src\\vrwebui\\shared\\js\\utils\\inlineoptionsdropdown.tsx",u=function(){function e(e,t){this.sValue=e,this.sLocalized=t}return e}(),p=function(e){function t(t){var n=e.call(this,t)||this;return n.state={sSelectedOption:void 0,bVisible:!1},n}return o.d(t,e),t.prototype.componentWillMount=function(){void 0!=this.props.bShowOptionsOnStart&&this.setState({bVisible:this.props.bShowOptionsOnStart})},t.prototype.componentWillReceiveProps=function(e){void 0!=e.bShowOptionsOnStart&&e.bShowOptionsOnStart!=this.props.bShowOptionsOnStart&&this.setState({bVisible:e.bShowOptionsOnStart})},t.prototype.Show=function(e){this.setState({bVisible:!0}),e.stopPropagation()},t.prototype.Hide=function(e){this.setState({bVisible:!1}),e&&e.stopPropagation()},t.prototype.OnOptionChanged=function(e,t){this.setState({sSelectedOption:t}),this.props.fnOptionSelected(t),this.Hide(e)},t.prototype.render=function(){var e=this,t=this.props.vecOptions.map(function(t,n){if("-"==t.sValue)return i.createElement("div",{key:n,className:"InlineSeparator",__source:{fileName:c,lineNumber:54}});var o="InlineDropdownItem";return e.props.sValueSelectedItem==t.sValue&&(o+=" Selected"),i.createElement("div",{key:n,className:o,onClick:function(n){e.OnOptionChanged(n,t.sValue)},__source:{fileName:c,lineNumber:61}},t.sLocalized)}),n="InlineDropdownLabel "+(void 0==this.props.sHeaderClass?"":this.props.sHeaderClass),o="InlineOptionsDropDownRodal "+(void 0==this.props.sModalClass?"":this.props.sModalClass),r={width:"60%",height:"fit-content",maxHeight:"90%",display:"flex"},s=this.props.bReadOnly?function(){}:this.Show;return i.createElement("div",{className:n,onClick:s,__source:{fileName:c,lineNumber:73}},this.props.sLocalizedSelectedItem&&i.createElement("div",{__source:{fileName:c,lineNumber:74}},this.props.sLocalizedSelectedItem),i.createElement(a.a,{visible:this.state.bVisible,onClose:this.Hide,customStyles:r,showCloseButton:!1,animation:"fade",className:o,closeOnEsc:!0,__source:{fileName:c,lineNumber:75}},this.state.bVisible&&i.createElement("div",{className:"FlexColumn InlineDropdownModalWrapper",__source:{fileName:c,lineNumber:77}},this.props.sModalTitleString&&i.createElement("div",{className:"Label ModalHeader",__source:{fileName:c,lineNumber:78}},this.props.sModalTitleString),i.createElement("div",{className:"FlexColumn InlineDropdownItemWrapper",__source:{fileName:c,lineNumber:79}},t))))},o.c([l.b],t.prototype,"Show",null),o.c([l.b],t.prototype,"Hide",null),o.c([l.b],t.prototype,"OnOptionChanged",null),t}(i.Component)},APa2:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var o=n("TToO"),i=n("FBH1"),r=n("mtWM"),a=n.n(r),s=n("y986"),l=function(){function e(){this.m_Applications=s.k.map()}return e.prototype.Init=function(){return o.b(this,void 0,void 0,function(){return o.e(this,function(e){switch(e.label){case 0:return[4,this.UpdateApplications()];case 1:return e.sent(),[2]}})})},e.prototype.SetApplicationMap=function(e){var t=this;this.m_Applications.clear(),e.apps.forEach(function(e){t.m_Applications.set(e.key,e)})},e.prototype.UpdateApplications=function(){return o.b(this,void 0,void 0,function(){var e=this;return o.e(this,function(t){switch(t.label){case 0:return[4,this.QueryApplications().then(function(t){e.SetApplicationMap(t)})];case 1:return t.sent(),[2]}})})},e.prototype.QueryApplications=function(){return new Promise(function(e,t){a.a.get("/app/list.json").then(function(t){e(t.data)}).catch(function(e){t(e)})})},e.prototype.GetAppImageURL=function(e){return"/app/image?app_key="+e},e.prototype.GetApp=function(e){return this.m_Applications.has(e)?this.m_Applications.get(e):void 0},e.prototype.GetRecentApps=function(){var e=[];return this.m_Applications.forEach(function(t){t.is_internal||e.push(t)}),e.sort(function(e,t){return e.last_launch<t.last_launch?1:e.last_launch>t.last_launch?-1:e.name<t.name?1:e.name>t.name?-1:0}),e},e.prototype.GetCurrentSceneProcess=function(){var e=void 0;return this.m_Applications.forEach(function(t){t.current_scene_process&&!t.is_internal&&(e=t)}),e},e.prototype.IsAppAllowedPrivateInputs=function(e){return"openvr.component.vrcompositor"==e},e.prototype.ShouldShowBindingFailureForApp=function(e){if(void 0==e||""==e)return!1;if("openvr.component.vrcompositor"==e)return!0;if(void 0==this.GetApp(e))return!1;var t=this.GetCurrentSceneProcess();return void 0!=t&&t.key==e},o.c([s.k],e.prototype,"m_Applications",void 0),o.c([s.c],e.prototype,"SetApplicationMap",null),o.c([i.b],e.prototype,"QueryApplications",null),o.c([i.b],e.prototype,"GetAppImageURL",null),o.c([i.b],e.prototype,"GetApp",null),o.c([i.b],e.prototype,"GetRecentApps",null),o.c([i.b],e.prototype,"GetCurrentSceneProcess",null),o.c([i.b],e.prototype,"IsAppAllowedPrivateInputs",null),o.c([i.b],e.prototype,"ShouldShowBindingFailureForApp",null),e}(),c=new l;window.applications=c},AwaH:function(e,t,n){"use strict";n.d(t,"a",function(){return v});var o=n("TToO"),i=n("GiK3"),r=(n.n(i),n("Mn8c")),a=n("FBH1"),s=n("mVfh"),l=n("6CG6"),c=n("nhcq"),u=n("J4P+"),p=n("4PsW"),d=n("APa2"),m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},h="c:\\buildslave\\steamvr_webpack_rel_win32\\build\\src\\vrwebui\\src\\js\\inputdebuggerui.tsx",f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.d(t,e),t.prototype.render=function(){var e=u.a.GetScalarInputValue(this.props.container,this.props.path),t=Math.abs(e),n=50*t+"%";return i.createElement("div",{className:"FlexRow DebuggerInputWrapper",__source:{fileName:h,lineNumber:22}},i.createElement("div",{className:"FlexColumn DebuggerDeviceLabelWrapper",__source:{fileName:h,lineNumber:23}},i.createElement("div",{className:"Label",__source:{fileName:h,lineNumber:24}},this.props.name),i.createElement("div",{className:"Label",__source:{fileName:h,lineNumber:25}},this.props.path)),i.createElement("div",{className:"DebuggerScalarValueWrapper",__source:{fileName:h,lineNumber:27}},e<0&&i.createElement("div",{className:"DebuggerScalarValueLeft",style:{width:n},__source:{fileName:h,lineNumber:28}}),e>0&&i.createElement("div",{className:"DebuggerScalarValueRight",style:{width:n},__source:{fileName:h,lineNumber:29}})))},t=o.c([r.a],t)}(i.Component),g=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.d(t,e),t.prototype.render=function(){var e=u.a.GetBooleanInputValue(this.props.container,this.props.path),t="DebuggerBooleanValue"+(e?" DebuggerBooleanValueTrue":"");return i.createElement("div",{className:"FlexRow DebuggerInputWrapper",__source:{fileName:h,lineNumber:46}},i.createElement("div",{className:"FlexColumn DebuggerDeviceLabelWrapper",__source:{fileName:h,lineNumber:47}},i.createElement("div",{className:"Label",__source:{fileName:h,lineNumber:48}},this.props.name),"(",i.createElement("div",{className:"ActionPath",__source:{fileName:h,lineNumber:49}},this.props.path),")"),i.createElement("div",{className:t,__source:{fileName:h,lineNumber:51}}))},t=o.c([r.a],t)}(i.Component),_=function(){function e(){}return e}(),b=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.d(t,e),t.prototype.render=function(){return u.a.GetActionValue(this.props.container,this.props.path).map(function(e,t){var n="DebuggerBooleanValue"+(e.active?" DebuggerBooleanValueTrue":""),o="DebuggerBooleanValue"+(e.state?" DebuggerBooleanValueTrue":""),r="DebuggerBooleanValue"+(e.changed?" DebuggerBooleanValueTrue":"");return i.createElement("div",{className:"FlexColumn",__source:{fileName:h,lineNumber:75}},i.createElement("div",{className:"DebuggerBindingPath",__source:{fileName:h,lineNumber:76}},e.binding_path),i.createElement("div",{className:"FlexRow DebuggerActionDigitalWrapper DebuggerActionDataWrapper",__source:{fileName:h,lineNumber:77}},i.createElement("div",{className:n,__source:{fileName:h,lineNumber:78}}),i.createElement("div",{className:o,__source:{fileName:h,lineNumber:79}}),i.createElement("div",{className:r,__source:{fileName:h,lineNumber:80}})),i.createElement("div",{className:"FlexRow DebuggerActionDataWrapper",__source:{fileName:h,lineNumber:82}},i.createElement("div",{className:"DebuggerChangeTime",__source:{fileName:h,lineNumber:83}},e.update_time.toFixed(3)),i.createElement("div",{className:"DebuggerActiveOrigin",__source:{fileName:h,lineNumber:84}},e.active_origin)))})},t=o.c([r.a],t)}(i.Component),S=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.d(t,e),t.prototype.render=function(){return u.a.GetActionValue(this.props.container,this.props.path).map(function(e,t){var n="DebuggerBooleanValue"+(e.active?" DebuggerBooleanValueTrue":""),o="InputActionType_Vector2"==e.type||"InputActionType_Vector3"==e.type,r="InputActionType_Vector3"==e.type;return i.createElement("div",{className:"FlexColumn",__source:{fileName:h,lineNumber:105}},i.createElement("div",{className:"DebuggerBindingPath",__source:{fileName:h,lineNumber:106}},e.binding_path),i.createElement("div",{className:"FlexRow DebuggerActionDigitalWrapper DebuggerActionDataWrapper",__source:{fileName:h,lineNumber:107}},i.createElement("div",{className:n,__source:{fileName:h,lineNumber:108}}),i.createElement("div",{className:"DebuggerVectorValue",__source:{fileName:h,lineNumber:109}},"[",e.x.toFixed(2),o?", "+e.y.toFixed(2):"",r?", "+e.z.toFixed(2):""," ]"),i.createElement("div",{className:"DebuggerVectorValue",__source:{fileName:h,lineNumber:114}},"[",e.delta_x.toFixed(2),o?", "+e.delta_y.toFixed(2):"",r?", "+e.delta_z.toFixed(2):""," ]")),i.createElement("div",{className:"FlexRow DebuggerActionDataWrapper",__source:{fileName:h,lineNumber:120}},i.createElement("div",{className:"DebuggerChangeTime",__source:{fileName:h,lineNumber:121}},e.update_time.toFixed(3)),i.createElement("div",{className:"DebuggerActiveOrigin",__source:{fileName:h,lineNumber:122}},e.active_origin)))})},t=o.c([r.a],t)}(i.Component),y=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.d(t,e),t.prototype.render=function(){var e=l.a.GetActionByName(this.props.path),t=u.a.GetActionValue(this.props.container,this.props.path),n=void 0;return 1==t.length&&!t[0].binding_path||void 0==e?n=i.createElement("div",{className:"DebuggerBindingPath",__source:{fileName:h,lineNumber:142}},Object(s.b)("#InputDebugger_Unbound")):"boolean"==e.type?n=i.createElement(b,m({},this.props,{__source:{fileName:h,lineNumber:145}})):"vector1"!=e.type&&"vector2"!=e.type&&"vector3"!=e.type||(n=i.createElement(S,m({},this.props,{__source:{fileName:h,lineNumber:148}}))),i.createElement("div",{className:"FlexRow NoShrink",__source:{fileName:h,lineNumber:150}},i.createElement("div",{className:"FlexColumn",__source:{fileName:h,lineNumber:151}},i.createElement("div",{className:"Label",__source:{fileName:h,lineNumber:152}},e?e.localized_name:this.props.path,i.createElement("div",{className:"DebuggerActionPath",__source:{fileName:h,lineNumber:154}},"(",this.props.path,")")),n))},t=o.c([r.a],t)}(i.Component),v=function(e){function t(t){var n=e.call(this,t)||this;return l.a.ConnectedDevices.forEach(function(e){u.a.AddSubscribedContainer(e.container)}),n}return o.d(t,e),t.prototype.RenderDeviceComponent=function(e,t,n){switch(t.type){case"InputValueType_Boolean":return i.createElement(g,{key:n,name:t.path,container:e.container,path:t.path,__source:{fileName:h,lineNumber:177}});case"InputValueType_Scalar":return i.createElement(f,{key:n,name:t.path,container:e.container,path:t.path,__source:{fileName:h,lineNumber:179}})}},t.prototype.RenderDevice=function(e,t){var n=this;return i.createElement("div",{key:t,__source:{fileName:h,lineNumber:185}},i.createElement("div",{className:"Label DebuggerDeviceName",__source:{fileName:h,lineNumber:186}},e.root_path?e.root_path:Object(s.b)("#InputDebugger_UnknownPath")," -",e.controller_type),e.components.map(function(t,o){return n.RenderDeviceComponent(e,t,o)}))},t.prototype.render=function(){var e=this,t=[],n=l.a.SelectedApp,o=[];if(void 0!=n){var r=d.a.GetApp(n);if(r&&r.client_container_handle){u.a.GetAllActions(r.client_container_handle).forEach(function(e){var n=new _;n.container=r.client_container_handle,n.path=e,t.push(n)});u.a.GetAllInputValues(r.client_container_handle).forEach(function(e){switch(u.a.GetInputValue(r.client_container_handle,e).type){case"boolean":o.push(i.createElement(g,{key:e,name:e,container:r.client_container_handle,path:e,__source:{fileName:h,lineNumber:213}}));break;case"scalar":o.push(i.createElement(f,{key:e,name:e,container:r.client_container_handle,path:e,__source:{fileName:h,lineNumber:216}}))}})}}var a=l.a.ConnectedDevices;return i.createElement("div",{className:"FlexRowWithWrap",__source:{fileName:h,lineNumber:223}},i.createElement(p.a,{fnOnClick:c.a.EditCurrentBinding,strTitle:Object(s.b)("#InputDebugger_Title"),bShowBackButton:!0,__source:{fileName:h,lineNumber:224}}),i.createElement("div",{className:"FlexFullWidthRowCentered DebuggerMainContentWrapper",__source:{fileName:h,lineNumber:225}},i.createElement("div",{className:"FlexColumn DebuggerColumn",__source:{fileName:h,lineNumber:226}},i.createElement("div",{className:"Label",__source:{fileName:h,lineNumber:227}},Object(s.b)("#InputDebugger_Actions")),t.map(function(e,t){return i.createElement(y,m({key:t},e,{__source:{fileName:h,lineNumber:229}}))})),i.createElement("div",{className:"FlexColumn DebuggerColumn",__source:{fileName:h,lineNumber:232}},i.createElement("div",{className:"Label",__source:{fileName:h,lineNumber:233}},Object(s.b)("#InputDebugger_Filters")),o),i.createElement("div",{className:"FlexColumn DebuggerColumn",__source:{fileName:h,lineNumber:236}},i.createElement("div",{className:"Label",__source:{fileName:h,lineNumber:237}},Object(s.b)("#InputDebugger_Devices")),a.map(function(t,n){return e.RenderDevice(t,n)}))))},o.c([a.b],t.prototype,"RenderDeviceComponent",null),o.c([a.b],t.prototype,"RenderDevice",null),t=o.c([r.a],t)}(i.Component)},"FZ+f":function(e,t){function n(e,t){var n=e[1]||"",i=e[3];if(!i)return n;if(t&&"function"==typeof btoa){var r=o(i);return[n].concat(i.sources.map(function(e){return"/*# sourceURL="+i.sourceRoot+e+" */"})).concat([r]).join("\n")}return[n].join("\n")}function o(e){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e))))+" */"}e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var o=n(t,e);return t[2]?"@media "+t[2]+"{"+o+"}":o}).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var o={},i=0;i<this.length;i++){var r=this[i][0];"number"==typeof r&&(o[r]=!0)}for(i=0;i<e.length;i++){var a=e[i];"number"==typeof a[0]&&o[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),t.push(a))}},t}},IXHb:function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e,t){for(var n=e.parentNode;n;){if(n===t)return!0;n=n.parentNode}return!1}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),c=n("GiK3"),u=function(e){return e&&e.__esModule?e:{default:e}}(c),p={position:"absolute",left:0,top:0,right:0,bottom:0,overflow:"hidden",zIndex:-1,visibility:"hidden",pointerEvents:"none"},d={position:"absolute",left:0,top:0,transition:"0s"},m=function(e){function t(e,n){o(this,t);var r=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r._expandRef=null,r._shrinkRef=null,r._node=null,r._lastRect={},r._handleScroll=r._handleScroll.bind(r),r._reflow=r._reflow.bind(r),r._handleRef=r._handleRef.bind(r),r._handleExpandRef=r._handleExpandRef.bind(r),r._handleShrinkRef=r._handleShrinkRef.bind(r),r}return r(t,e),l(t,null,[{key:"_handleScroll",value:function(e){for(var n=t._scrollListeners.length,o=0;o<n;o++)t._scrollListeners[o].call(void 0,e)}},{key:"_handleResize",value:function(e){for(var n=t._resizeListeners.length,o=0;o<n;o++)t._resizeListeners[o].call(void 0,e)}},{key:"addScrollListener",value:function(e){0===t._scrollListeners.length&&document.addEventListener("scroll",t._handleScroll,!0);var n=!0;return t._scrollListeners.push(e),function(){n&&(n=!1,t._scrollListeners.splice(t._scrollListeners.indexOf(e),1),0===t._scrollListeners.length&&document.removeEventListener("scroll",t._handleScroll,!0))}}},{key:"addResizeListener",value:function(e){0===t._resizeListeners.length&&window.addEventListener("resize",t._handleResize,!0);var n=!0;return t._resizeListeners.push(e),function(){n&&(n=!1,t._resizeListeners.splice(t._resizeListeners.indexOf(e),1),0===t._resizeListeners.length&&window.removeEventListener("resize",t._handleResize,!0))}}}]),l(t,[{key:"componentDidMount",value:function(){this._reflow(),this._removeScroll=t.addScrollListener(this._handleScroll),(this.props.onPosition||this.props.onReflow)&&(this._removeResize=t.addResizeListener(this._reflow))}},{key:"componentWillReceiveProps",value:function(e){!e.onPosition&&!e.onReflow||this._removeResize?e.onPosition||e.onReflow||!this._removeResize||(this._removeResize(),this._removeResize=null):this._removeResize=t.addResizeListener(this._reflow)}},{key:"componentWillUnmount",value:function(){this._removeScroll&&(this._removeScroll(),this._removeScroll=null),this._removeResize&&(this._removeResize(),this._removeResize=null)}},{key:"_handleScroll",value:function(e){(this.props.onPosition||this.props.onReflow||this.props.onResize)&&(this._globalScollTarget(e.target)||this._refScrollTarget(e.target)||this._ancestorScollTarget(e.target))&&this._reflow()}},{key:"_globalScollTarget",value:function(e){return(this.props.onPosition||this.props.onReflow)&&(e===document||e===document.documentElement||e===document.body)}},{key:"_refScrollTarget",value:function(e){if(e===this._expandRef||e===this._shrinkRef){var t=e.offsetWidth,n=e.offsetHeight;if(t!==this._lastWidth||n!==this._lastHeight)return this._lastWidth=t,this._lastHeight=n,this._reset(this._expandRef),this._reset(this._shrinkRef),!0}return!1}},{key:"_ancestorScollTarget",value:function(e){return(this.props.onPosition||this.props.onReflow)&&this._node&&a(this._node,e)}},{key:"_reflow",value:function(){if(this._node&&this._node.parentNode instanceof Element){var e=this._node.parentNode.getBoundingClientRect(),t=e.width!==this._lastRect.width||e.height!==this._lastRect.height,n=e.top!==this._lastRect.top||e.left!==this._lastRect.left;this._lastRect=e,t&&this.props.onResize&&this.props.onResize(e),n&&this.props.onPosition&&this.props.onPosition(e),(t||n)&&this.props.onReflow&&this.props.onReflow(e)}}},{key:"_reset",value:function(e){e&&(e.scrollLeft=1e5,e.scrollTop=1e5)}},{key:"_handleRef",value:function(e){this._node=e}},{key:"_handleExpandRef",value:function(e){this._reset(e),this._expandRef=e}},{key:"_handleShrinkRef",value:function(e){this._reset(e),this._shrinkRef=e}},{key:"render",value:function(){return this.props.onResize||this.props.onReflow?u.default.createElement("div",{style:p,ref:this._handleRef},u.default.createElement("div",{ref:this._handleExpandRef,style:p},u.default.createElement("div",{style:s({},d,{width:1e5,height:1e5})})),u.default.createElement("div",{ref:this._handleShrinkRef,style:p},u.default.createElement("div",{style:s({},d,{width:"200%",height:"200%"})}))):u.default.createElement("noscript",{ref:this._handleRef})}}]),t}(u.default.Component);m.displayName="ResizeObserver",m._scrollListeners=[],m._resizeListeners=[],t.default=m},"J4P+":function(e,t,n){"use strict";n.d(t,"a",function(){return u});var o=n("TToO"),i=n("FBH1"),r=n("mtWM"),a=n.n(r),s=n("y986"),l=(function(){function e(){}}(),function(){function e(){this.contents=s.k.map()}return o.c([s.k],e.prototype,"contents",void 0),e}()),c=function(){function e(){this.m_Containers=s.k.map()}return e.prototype.Init=function(){return o.b(this,void 0,void 0,function(){return o.e(this,function(e){switch(e.label){case 0:return this.AddSubscribedContainer("25769803776"),[4,this.UpdatePaths()];case 1:return e.sent(),[2]}})})},e.prototype.AddSubscribedContainer=function(e){if(!this.m_Containers.has(e)){var t=new l;t.handle=e,this.m_Containers.set(e,t)}},e.prototype.UpdateContainer=function(e,t){this.AddSubscribedContainer(e);var n=this.m_Containers.get(e);n.contents.clear(),t.entries.forEach(function(e){void 0!=e.path&&n.contents.set(e.path,e)})},e.prototype.QueryContainer=function(e){return o.b(this,void 0,void 0,function(){return o.e(this,function(t){return[2,new Promise(function(t,n){a.a.get("/properties.json?container="+e).then(function(n){t([e,n.data])}).catch(function(t){n([e,t])})})]})})},e.prototype.UpdatePaths=function(){return o.b(this,void 0,void 0,function(){var e,t,n,i=this;return o.e(this,function(o){switch(o.label){case 0:e=[],this.m_Containers.forEach(function(t){e.push(i.QueryContainer(t.handle))}),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,Promise.all(e)];case 2:return t=o.sent(),t.forEach(function(e){2!=e.length?console.log("Failed to update container. ",e.length,"entries in array"):"string"==typeof e[1]?console.log("Failed to update container ",e[0],":",e[1]):i.UpdateContainer(e[0],e[1])}),[3,4];case 3:throw n=o.sent(),console.log(n),n;case 4:return[2]}})})},e.prototype.GetAllActions=function(e){if(this.m_Containers.has(e)){var t=[];return this.m_Containers.get(e).contents.forEach(function(e){"k_unActionPropertyTag"==e.type&&void 0!=e.path&&t.push(e.path)}),t}},e.prototype.GetActionValue=function(e,t){if(this.m_Containers.has(e)){var n=this.m_Containers.get(e);if(n.contents.has(t)){var o=n.contents.get(t);if("k_unActionPropertyTag"==o.type)return o.value}}},e.prototype.GetAllInputValues=function(e){if(this.m_Containers.has(e)){var t=[];return this.m_Containers.get(e).contents.forEach(function(e){"k_unInputValuePropertyTag"==e.type&&void 0!=e.path&&t.push(e.path)}),t}},e.prototype.GetInputValue=function(e,t){if(this.m_Containers.has(e)){var n=this.m_Containers.get(e);if(n.contents.has(t)){var o=n.contents.get(t);if("k_unInputValuePropertyTag"==o.type){var i=o.value;if(!(i.length<1))return i[0]}}}},e.prototype.GetScalarInputValue=function(e,t){var n=this.GetInputValue(e,t);return void 0==n||"scalar"!=n.type?0:n.value},e.prototype.GetBooleanInputValue=function(e,t){var n=this.GetInputValue(e,t);return void 0!=n&&"boolean"==n.type&&n.value},o.c([s.k],e.prototype,"m_Containers",void 0),o.c([i.b],e.prototype,"AddSubscribedContainer",null),o.c([s.c],e.prototype,"UpdateContainer",null),o.c([i.b],e.prototype,"GetAllActions",null),o.c([i.b],e.prototype,"GetActionValue",null),o.c([i.b],e.prototype,"GetAllInputValues",null),o.c([i.b],e.prototype,"GetInputValue",null),o.c([i.b],e.prototype,"GetScalarInputValue",null),o.c([i.b],e.prototype,"GetBooleanInputValue",null),e}(),u=new c;window.paths=u},KSGD:function(e,t,n){e.exports=n("Q4WQ")()},MTIv:function(e,t,n){function o(e,t){for(var n=0;n<e.length;n++){var o=e[n],i=h[o.id];if(i){i.refs++;for(var r=0;r<i.parts.length;r++)i.parts[r](o.parts[r]);for(;r<o.parts.length;r++)i.parts.push(u(o.parts[r],t))}else{for(var a=[],r=0;r<o.parts.length;r++)a.push(u(o.parts[r],t));h[o.id]={id:o.id,refs:1,parts:a}}}}function i(e,t){for(var n=[],o={},i=0;i<e.length;i++){var r=e[i],a=t.base?r[0]+t.base:r[0],s=r[1],l=r[2],c=r[3],u={css:s,media:l,sourceMap:c};o[a]?o[a].parts.push(u):n.push(o[a]={id:a,parts:[u]})}return n}function r(e,t){var n=_(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var o=y[y.length-1];if("top"===e.insertAt)o?o.nextSibling?n.insertBefore(t,o.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),y.push(t);else if("bottom"===e.insertAt)n.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var i=_(e.insertInto+" "+e.insertAt.before);n.insertBefore(t,i)}}function a(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=y.indexOf(e);t>=0&&y.splice(t,1)}function s(e){var t=document.createElement("style");return e.attrs.type="text/css",c(t,e.attrs),r(e,t),t}function l(e){var t=document.createElement("link");return e.attrs.type="text/css",e.attrs.rel="stylesheet",c(t,e.attrs),r(e,t),t}function c(e,t){Object.keys(t).forEach(function(n){e.setAttribute(n,t[n])})}function u(e,t){var n,o,i,r;if(t.transform&&e.css){if(!(r=t.transform(e.css)))return function(){};e.css=r}if(t.singleton){var c=S++;n=b||(b=s(t)),o=p.bind(null,n,c,!1),i=p.bind(null,n,c,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=l(t),o=m.bind(null,n,t),i=function(){a(n),n.href&&URL.revokeObjectURL(n.href)}):(n=s(t),o=d.bind(null,n),i=function(){a(n)});return o(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;o(e=t)}else i()}}function p(e,t,n,o){var i=n?"":o.css;if(e.styleSheet)e.styleSheet.cssText=C(t,i);else{var r=document.createTextNode(i),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(r,a[t]):e.appendChild(r)}}function d(e,t){var n=t.css,o=t.media;if(o&&e.setAttribute("media",o),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}function m(e,t,n){var o=n.css,i=n.sourceMap,r=void 0===t.convertToAbsoluteUrls&&i;(t.convertToAbsoluteUrls||r)&&(o=v(o)),i&&(o+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var a=new Blob([o],{type:"text/css"}),s=e.href;e.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}var h={},f=function(e){var t;return function(){return void 0===t&&(t=e.apply(this,arguments)),t}}(function(){return window&&document&&document.all&&!window.atob}),g=function(e){return document.querySelector(e)},_=function(e){var t={};return function(e){if("function"==typeof e)return e();if(void 0===t[e]){var n=g.call(this,e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}}(),b=null,S=0,y=[],v=n("mJPh");e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");t=t||{},t.attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=f()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var n=i(e,t);return o(n,t),function(e){for(var r=[],a=0;a<n.length;a++){var s=n[a],l=h[s.id];l.refs--,r.push(l)}if(e){o(i(e,t),t)}for(var a=0;a<r.length;a++){var l=r[a];if(0===l.refs){for(var c=0;c<l.parts.length;c++)l.parts[c]();delete h[l.id]}}}};var C=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}()},N87Q:function(e,t,n){var o=n("YRYY");"string"==typeof o&&(o=[[e.i,o,""]]);var i={hmr:!0};i.transform=void 0,i.insertInto=void 0;n("MTIv")(o,i);o.locals&&(e.exports=o.locals)},NQlb:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},c=n("GiK3"),u=o(c),p=n("KSGD"),d=o(p),m="undefined"!=typeof window,h=m&&window.navigator.userAgent.toLowerCase(),f=h&&h.indexOf("msie 9.0")>0,g=function(e){var t=("enter"===e.animationType?e.enterAnimation:e.leaveAnimation)||e.animation,n="rodal-dialog rodal-"+t+"-"+e.animationType,o=e.showCloseButton?u.default.createElement("span",{className:"rodal-close",onClick:e.onClose}):null,i=e.width,r=e.height,a=e.measure,s=e.duration,c=e.customStyles,p={width:i+a,height:r+a,animationDuration:s+"ms",WebkitAnimationDuration:s+"ms"},d=l({},p,c);return u.default.createElement("div",{style:d,className:n},e.children,o)},_=function(e){function t(){var e,n,o,a;i(this,t);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return n=o=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),o.state={isShow:!1,animationType:"leave"},o.onKeyUp=function(e){o.props.closeOnEsc&&27===e.keyCode&&o.props.onClose()},o.animationEnd=function(e){if("leave"===o.state.animationType?o.setState({isShow:!1}):o.props.closeOnEsc&&o.el.focus(),e.target===o.el){var t=o.props.onAnimationEnd;t&&t()}},a=n,r(o,a)}return a(t,e),s(t,[{key:"componentDidMount",value:function(){this.props.visible&&this.enter()}},{key:"componentWillReceiveProps",value:function(e){!this.props.visible&&e.visible?this.enter():this.props.visible&&!e.visible&&this.leave()}},{key:"enter",value:function(){this.setState({isShow:!0,animationType:"enter"})}},{key:"leave",value:function(){this.setState(f?{isShow:!1}:{animationType:"leave"})}},{key:"render",value:function(){var e=this,t=this.props,n=this.state,o=t.closeMaskOnClick?t.onClose:null,i=t.showMask?u.default.createElement("div",{className:"rodal-mask",style:t.customMaskStyles,onClick:o}):null,r={display:n.isShow?"":"none",animationDuration:t.duration+"ms",WebkitAnimationDuration:t.duration+"ms"};return u.default.createElement("div",{style:r,className:"rodal rodal-fade-"+n.animationType+" "+t.className,onAnimationEnd:this.animationEnd,tabIndex:"-1",ref:function(t){e.el=t},onKeyUp:this.onKeyUp},i,u.default.createElement(g,l({},t,{animationType:n.animationType}),t.children))}}]),t}(u.default.Component);_.propTypes={width:d.default.number,height:d.default.number,measure:d.default.string,visible:d.default.bool,showMask:d.default.bool,closeOnEsc:d.default.bool,closeMaskOnClick:d.default.bool,showCloseButton:d.default.bool,animation:d.default.string,enterAnimation:d.default.string,leaveAnimation:d.default.string,duration:d.default.number,className:d.default.string,customStyles:d.default.object,customMaskStyles:d.default.object,onClose:d.default.func.isRequired,onAnimationEnd:d.default.func},_.defaultProps={width:400,height:240,measure:"px",visible:!1,showMask:!0,closeOnEsc:!1,closeMaskOnClick:!0,showCloseButton:!0,animation:"zoom",enterAnimation:"",leaveAnimation:"",duration:300,className:"",customStyles:{},customMaskStyles:{}},t.default=_},Q4WQ:function(e,t,n){"use strict";var o=n("e6+Q"),i=n("cxPT"),r=n("gt/O");e.exports=function(){function e(e,t,n,o,a,s){s!==r&&i(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=o,n.PropTypes=n,n}},YRYY:function(e,t,n){t=e.exports=n("FZ+f")(!1),t.push([e.i,"/* -- container -- */\n.rodal,\n.rodal-mask {\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    z-index: 100;\n}\n\n.rodal {\n    position: fixed;\n}\n\n/* -- mask -- */\n.rodal-mask {\n    position: absolute;\n    background: rgba(0, 0, 0, .3);\n}\n\n/* -- dialog -- */\n.rodal-dialog {\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    margin: auto;\n    z-index: 101;\n    padding: 15px;\n    background: #fff;\n    border-radius: 3px;\n    box-shadow: 0 1px 3px rgba(0, 0, 0, .2);\n}\n\n.rodal-dialog:focus {\n    outline: none;\n}\n\n/* -- close button -- */\n.rodal-close {\n    position: absolute;\n    cursor: pointer;\n    top: 16px;\n    right: 16px;\n    width: 16px;\n    height: 16px;\n}\n\n.rodal-close:before,\n.rodal-close:after {\n    position: absolute;\n    content: '';\n    height: 2px;\n    width: 100%;\n    top: 50%;\n    left: 0;\n    margin-top: -1px;\n    background: #999;\n    border-radius: 100%;\n    -webkit-transition: background .2s;\n    transition: background .2s;\n}\n\n.rodal-close:before {\n    -webkit-transform: rotate(45deg);\n    transform: rotate(45deg);\n}\n\n.rodal-close:after {\n    -webkit-transform: rotate(-45deg);\n    transform: rotate(-45deg);\n}\n\n.rodal-close:hover:before,\n.rodal-close:hover:after {\n    background: #333;\n}\n\n/* -- fade -- */\n@-webkit-keyframes rodal-fade-enter {\n    from {\n        opacity: 0;\n    }\n}\n\n@keyframes rodal-fade-enter {\n    from {\n        opacity: 0;\n    }\n}\n\n.rodal-fade-enter {\n    -webkit-animation: rodal-fade-enter both ease-in;\n    animation: rodal-fade-enter both ease-in;\n}\n\n@-webkit-keyframes rodal-fade-leave {\n    to {\n        opacity: 0\n    }\n}\n\n@keyframes rodal-fade-leave {\n    to {\n        opacity: 0\n    }\n}\n\n.rodal-fade-leave {\n    -webkit-animation: rodal-fade-leave both ease-out;\n    animation: rodal-fade-leave both ease-out;\n}\n\n/* -- zoom -- */\n@-webkit-keyframes rodal-zoom-enter {\n    from {\n        -webkit-transform: scale3d(.3, .3, .3);\n        transform: scale3d(.3, .3, .3);\n    }\n}\n\n@keyframes rodal-zoom-enter {\n    from {\n        -webkit-transform: scale3d(.3, .3, .3);\n        transform: scale3d(.3, .3, .3);\n    }\n}\n\n.rodal-zoom-enter {\n    -webkit-animation: rodal-zoom-enter both cubic-bezier(0.4, 0, 0, 1.5);\n    animation: rodal-zoom-enter both cubic-bezier(0.4, 0, 0, 1.5);\n}\n\n@-webkit-keyframes rodal-zoom-leave {\n    to {\n        -webkit-transform: scale3d(.3, .3, .3);\n        transform: scale3d(.3, .3, .3);\n    }\n}\n\n@keyframes rodal-zoom-leave {\n    to {\n        -webkit-transform: scale3d(.3, .3, .3);\n        transform: scale3d(.3, .3, .3);\n    }\n}\n\n.rodal-zoom-leave {\n    -webkit-animation: rodal-zoom-leave both;\n    animation: rodal-zoom-leave both;\n}\n\n/* -- slideDown -- */\n@-webkit-keyframes rodal-slideDown-enter {\n    from {\n        -webkit-transform: translate3d(0, -100px, 0);\n        transform: translate3d(0, -100px, 0);\n    }\n}\n\n@keyframes rodal-slideDown-enter {\n    from {\n        -webkit-transform: translate3d(0, -100px, 0);\n        transform: translate3d(0, -100px, 0);\n    }\n}\n\n.rodal-slideDown-enter {\n    -webkit-animation: rodal-slideDown-enter both cubic-bezier(0.4, 0, 0, 1.5);\n    animation: rodal-slideDown-enter both cubic-bezier(0.4, 0, 0, 1.5);\n}\n\n@-webkit-keyframes rodal-slideDown-leave {\n    to {\n        -webkit-transform: translate3d(0, -100px, 0);\n        transform: translate3d(0, -100px, 0);\n    }\n}\n\n@keyframes rodal-slideDown-leave {\n    to {\n        -webkit-transform: translate3d(0, -100px, 0);\n        transform: translate3d(0, -100px, 0);\n    }\n}\n\n.rodal-slideDown-leave {\n    -webkit-animation: rodal-slideDown-leave both;\n    animation: rodal-slideDown-leave both;\n}\n\n/* -- slideLeft -- */\n@-webkit-keyframes rodal-slideLeft-enter {\n    from {\n        -webkit-transform: translate3d(-150px, 0, 0);\n        transform: translate3d(-150px, 0, 0);\n    }\n}\n\n@keyframes rodal-slideLeft-enter {\n    from {\n        -webkit-transform: translate3d(-150px, 0, 0);\n        transform: translate3d(-150px, 0, 0);\n    }\n}\n\n.rodal-slideLeft-enter {\n    -webkit-animation: rodal-slideLeft-enter both cubic-bezier(0.4, 0, 0, 1.5);\n    animation: rodal-slideLeft-enter both cubic-bezier(0.4, 0, 0, 1.5);\n}\n\n@-webkit-keyframes rodal-slideLeft-leave {\n    to {\n        -webkit-transform: translate3d(-150px, 0, 0);\n        transform: translate3d(-150px, 0, 0);\n    }\n}\n\n@keyframes rodal-slideLeft-leave {\n    to {\n        -webkit-transform: translate3d(-150px, 0, 0);\n        transform: translate3d(-150px, 0, 0);\n    }\n}\n\n.rodal-slideLeft-leave {\n    -webkit-animation: rodal-slideLeft-leave both;\n    animation: rodal-slideLeft-leave both;\n}\n\n/* -- slideRight -- */\n@-webkit-keyframes rodal-slideRight-enter {\n    from {\n        -webkit-transform: translate3d(150px, 0, 0);\n        transform: translate3d(150px, 0, 0);\n    }\n}\n\n@keyframes rodal-slideRight-enter {\n    from {\n        -webkit-transform: translate3d(150px, 0, 0);\n        transform: translate3d(150px, 0, 0);\n    }\n}\n\n.rodal-slideRight-enter {\n    -webkit-animation: rodal-slideRight-enter both cubic-bezier(0.4, 0, 0, 1.5);\n    animation: rodal-slideRight-enter both cubic-bezier(0.4, 0, 0, 1.5);\n}\n\n@-webkit-keyframes rodal-slideRight-leave {\n    to {\n        -webkit-transform: translate3d(150px, 0, 0);\n        transform: translate3d(150px, 0, 0);\n    }\n}\n\n@keyframes rodal-slideRight-leave {\n    to {\n        -webkit-transform: translate3d(150px, 0, 0);\n        transform: translate3d(150px, 0, 0);\n    }\n}\n\n.rodal-slideRight-leave {\n    -webkit-animation: rodal-slideRight-leave both;\n    animation: rodal-slideRight-leave both;\n}\n\n/* -- slideUp -- */\n@-webkit-keyframes rodal-slideUp-enter {\n    from {\n        -webkit-transform: translate3d(0, 100px, 0);\n        transform: translate3d(0, 100px, 0);\n    }\n}\n\n@keyframes rodal-slideUp-enter {\n    from {\n        -webkit-transform: translate3d(0, 100px, 0);\n        transform: translate3d(0, 100px, 0);\n    }\n}\n\n.rodal-slideUp-enter {\n    -webkit-animation: rodal-slideUp-enter both cubic-bezier(0.4, 0, 0, 1.5);\n    animation: rodal-slideUp-enter both cubic-bezier(0.4, 0, 0, 1.5);\n}\n\n@-webkit-keyframes rodal-slideUp-leave {\n    to {\n        -webkit-transform: translate3d(0, 100px, 0);\n        transform: translate3d(0, 100px, 0);\n    }\n}\n\n@keyframes rodal-slideUp-leave {\n    to {\n        -webkit-transform: translate3d(0, 100px, 0);\n        transform: translate3d(0, 100px, 0);\n    }\n}\n\n.rodal-slideUp-leave {\n    -webkit-animation: rodal-slideUp-leave both;\n    animation: rodal-slideUp-leave both;\n}\n\n/* -- flip -- */\n@-webkit-keyframes rodal-flip-enter {\n    from {\n        -webkit-transform: perspective(400px) rotate3d(1, 0, 0, 60deg);\n        transform: perspective(400px) rotate3d(1, 0, 0, 60deg);\n    }\n    70% {\n        -webkit-transform: perspective(400px) rotate3d(1, 0, 0, -15deg);\n        transform: perspective(400px) rotate3d(1, 0, 0, -15deg);\n    }\n    to {\n        -webkit-transform: perspective(400px);\n        transform: perspective(400px);\n    }\n}\n\n@keyframes rodal-flip-enter {\n    from {\n        -webkit-transform: perspective(400px) rotate3d(1, 0, 0, 60deg);\n        transform: perspective(400px) rotate3d(1, 0, 0, 60deg);\n    }\n    70% {\n        -webkit-transform: perspective(400px) rotate3d(1, 0, 0, -15deg);\n        transform: perspective(400px) rotate3d(1, 0, 0, -15deg);\n    }\n    to {\n        -webkit-transform: perspective(400px);\n        transform: perspective(400px);\n    }\n}\n\n.rodal-flip-enter {\n    -webkit-animation: rodal-flip-enter both ease-in;\n    animation: rodal-flip-enter both ease-in;\n    -webkit-backface-visibility: visible !important;\n    backface-visibility: visible !important;\n}\n\n@-webkit-keyframes rodal-flip-leave {\n    from {\n        -webkit-transform: perspective(400px);\n        transform: perspective(400px);\n    }\n    30% {\n        -webkit-transform: perspective(400px) rotate3d(1, 0, 0, -15deg);\n        transform: perspective(400px) rotate3d(1, 0, 0, -15deg);\n    }\n    to {\n        -webkit-transform: perspective(400px) rotate3d(1, 0, 0, 45deg);\n        transform: perspective(400px) rotate3d(1, 0, 0, 45deg);\n    }\n}\n\n@keyframes rodal-flip-leave {\n    from {\n        -webkit-transform: perspective(400px);\n        transform: perspective(400px);\n    }\n    30% {\n        -webkit-transform: perspective(400px) rotate3d(1, 0, 0, -15deg);\n        transform: perspective(400px) rotate3d(1, 0, 0, -15deg);\n    }\n    to {\n        -webkit-transform: perspective(400px) rotate3d(1, 0, 0, 45deg);\n        transform: perspective(400px) rotate3d(1, 0, 0, 45deg);\n    }\n}\n\n.rodal-flip-leave {\n    -webkit-animation: rodal-flip-leave both;\n    animation: rodal-flip-leave both;\n    -webkit-backface-visibility: visible !important;\n    backface-visibility: visible !important;\n}\n\n/* -- rotate -- */\n@-webkit-keyframes rodal-rotate-enter {\n    from {\n        -webkit-transform: rotate3d(0, 0, 1, -180deg) scale3d(.3, .3, .3);\n        transform: rotate3d(0, 0, 1, -180deg) scale3d(.3, .3, .3);\n    }\n}\n\n@keyframes rodal-rotate-enter {\n    from {\n        -webkit-transform: rotate3d(0, 0, 1, -180deg) scale3d(.3, .3, .3);\n        transform: rotate3d(0, 0, 1, -180deg) scale3d(.3, .3, .3);\n    }\n}\n\n.rodal-rotate-enter {\n    -webkit-animation: rodal-rotate-enter both;\n    animation: rodal-rotate-enter both;\n    -webkit-transform-origin: center;\n    transform-origin: center;\n}\n\n@-webkit-keyframes rodal-rotate-leave {\n    to {\n        -webkit-transform: rotate3d(0, 0, 1, 180deg) scale3d(.3, .3, .3);\n        transform: rotate3d(0, 0, 1, 180deg) scale3d(.3, .3, .3);\n    }\n}\n\n@keyframes rodal-rotate-leave {\n    to {\n        -webkit-transform: rotate3d(0, 0, 1, 180deg) scale3d(.3, .3, .3);\n        transform: rotate3d(0, 0, 1, 180deg) scale3d(.3, .3, .3);\n    }\n}\n\n.rodal-rotate-leave {\n    -webkit-animation: rodal-rotate-leave both;\n    animation: rodal-rotate-leave both;\n    -webkit-transform-origin: center;\n    transform-origin: center;\n}\n\n/* -- door -- */\n@-webkit-keyframes rodal-door-enter {\n    from {\n        -webkit-transform: scale3d(0, 1, 1);\n        transform: scale3d(0, 1, 1);\n    }\n}\n\n@keyframes rodal-door-enter {\n    from {\n        -webkit-transform: scale3d(0, 1, 1);\n        transform: scale3d(0, 1, 1);\n    }\n}\n\n.rodal-door-enter {\n    -webkit-animation: rodal-door-enter both cubic-bezier(0.4, 0, 0, 1.5);\n    animation: rodal-door-enter both cubic-bezier(0.4, 0, 0, 1.5);\n}\n\n@-webkit-keyframes rodal-door-leave {\n    60% {\n        -webkit-transform: scale3d(.01, 1, 1);\n        transform: scale3d(.01, 1, 1);\n    }\n    to {\n        -webkit-transform: scale3d(0, 1, .1);\n        transform: scale3d(0, 1, .1);\n    }\n}\n\n@keyframes rodal-door-leave {\n    60% {\n        -webkit-transform: scale3d(.01, 1, 1);\n        transform: scale3d(.01, 1, 1);\n    }\n    to {\n        -webkit-transform: scale3d(0, 1, .1);\n        transform: scale3d(0, 1, .1);\n    }\n}\n\n.rodal-door-leave {\n    -webkit-animation: rodal-door-leave both;\n    animation: rodal-door-leave both;\n}",""])},bD9n:function(e,t){throw new Error("Module build failed: SyntaxError: c:/buildslave/steamvr_webpack_rel_win32/build/src/vrwebui/src/js/controllerbinding_controller.tsx: Unexpected token (447:8)\n\n  445 | \t\t\t\t\t\t</div>);\n  446 |         div >\n> 447 |         ;\n      |         ^\n  448 |         div >\n  449 |         ;\n  450 |         ;\n")},ceep:function(e,t,n){"use strict";n.d(t,"a",function(){return b});var o=n("TToO"),i=n("GiK3"),r=(n.n(i),n("Mn8c")),a=n("NQlb"),s=n.n(a),l=n("N87Q"),c=(n.n(l),n("FBH1")),u=n("mVfh"),p=n("6CG6"),d=n("nhcq"),m=n("APa2"),h=n("4PsW"),f="c:\\buildslave\\steamvr_webpack_rel_win32\\build\\src\\vrwebui\\src\\js\\inputappselectui.tsx",g=function(e){function t(t){var n=e.call(this,t)||this;return n.state={bIsVisible:!0},n}return o.d(t,e),t.prototype.CloseDialog=function(){d.a.ManifestLoadErrorClose(),this.setState({bIsVisible:!1})},t.prototype.render=function(){return i.createElement(s.a,{visible:this.state.bIsVisible,onClose:this.CloseDialog,showCloseButton:!1,animation:"fade",closeOnEsc:!0,width:"600",__source:{fileName:f,lineNumber:26}},i.createElement("div",{className:"SaveDialogWrapper FlexColumn LoadErrorDialogWrapper",__source:{fileName:f,lineNumber:27}},i.createElement("div",{className:"Label TitleCenter",__source:{fileName:f,lineNumber:28}},this.props.sError),i.createElement("div",{className:"Label",__source:{fileName:f,lineNumber:31}},Object(u.b)("#ActionManifestError_Path")+" "+this.props.sPath),i.createElement("div",{className:"FlexRow SaveBottomButtonRow LoadErrorCloseButton",__source:{fileName:f,lineNumber:32}},i.createElement("div",{onClick:this.CloseDialog,className:"ButtonControl",__source:{fileName:f,lineNumber:33}},Object(u.b)("#Button_Close")))))},o.c([c.b],t.prototype,"CloseDialog",null),t=o.c([r.a],t)}(i.Component),_=function(e){function t(t){var n=e.call(this,t)||this;return n.state={strImageURL:m.a.GetAppImageURL(n.props.app.key)},n}return o.d(t,e),t.prototype.componentWillReceiveProps=function(e){e.app.key!=this.props.app.key&&this.setState({strImageURL:m.a.GetAppImageURL(e.app.key)})},t.prototype.onImageLoadError=function(){this.setState({strImageURL:"images/steamvr_empty_app.png"})},t.prototype.render=function(){var e=this;return i.createElement("div",{className:"AppSelectContainer",onClick:function(){e.props.fnSelectApp(e.props.app.key)},__source:{fileName:f,lineNumber:64}},i.createElement("img",{src:this.state.strImageURL,onError:this.onImageLoadError,__source:{fileName:f,lineNumber:65}}),i.createElement("div",{className:"AppSelectName AllCaps",__source:{fileName:f,lineNumber:66}},this.props.app.name))},o.c([c.b],t.prototype,"onImageLoadError",null),t=o.c([r.a],t)}(i.Component),b=function(e){function t(t){var n=e.call(this,t)||this;return n.m_bInHeadset=!1,n.state={bAppSelectListScrolled:!1},n.m_bInHeadset="undefined"!=typeof VRHTML,n}return o.d(t,e),t.prototype.SelectApplication=function(e){p.a.SetSelectedApp(e),d.a.ShowBindingList()},t.prototype.OnScroll=function(e){this.setState({bAppSelectListScrolled:e.currentTarget.scrollTop>0})},t.prototype.render=function(){var e=this,t=m.a.GetApp("openvr.component.vrcompositor"),n=m.a.GetApp("openvr.tool.steamvr_environments"),o=m.a.GetRecentApps();n||(n=t);var r="AppSelectPageWrapper",a=Object(u.b)("#AppSelect_LastRunApp"),s=o.filter(function(e){return e.key!=n.key}),l=m.a.GetCurrentSceneProcess();l&&l.key!=n.key?(r+=" RunningApp",a=Object(u.b)("#AppSelect_CurrentApp")):l=s.length>1?s.slice(1,2)[0]:s[0],s=s.filter(function(e){return e.key!=l.key}),s=s.slice(0,6);var c="FlexRowWithWrap AppSelectWrapper";return this.state.bAppSelectListScrolled&&(c+=" Scrolled"),i.createElement("div",{className:r,__source:{fileName:f,lineNumber:123}},i.createElement(h.a,{fnOnClick:d.a.ReturnToSettingsUI,strTitle:Object(u.b)("#AppSelect_Title"),bShowBackButton:this.m_bInHeadset,__source:{fileName:f,lineNumber:124}}),i.createElement("div",{className:"FlexFullWidthRowCentered",__source:{fileName:f,lineNumber:125}},i.createElement("div",{className:"FlexColumn",__source:{fileName:f,lineNumber:126}},i.createElement("div",{className:"AppSelectTitle AllCaps",__source:{fileName:f,lineNumber:127}},a),l&&i.createElement(_,{app:l,fnSelectApp:this.SelectApplication,__source:{fileName:f,lineNumber:128}}),i.createElement("div",{className:"AppSelectTitle AllCaps",__source:{fileName:f,lineNumber:129}},Object(u.b)("#AppSelect_RecentApp"))),i.createElement("div",{className:"FlexColumn",__source:{fileName:f,lineNumber:131}},i.createElement("div",{className:"AppSelectTitle AllCaps",__source:{fileName:f,lineNumber:132}},Object(u.b)("#AppSelect_CoreSteamVRApps")),i.createElement("div",{className:"FlexRow",__source:{fileName:f,lineNumber:133}},t&&i.createElement(_,{app:t,fnSelectApp:this.SelectApplication,__source:{fileName:f,lineNumber:134}}),n&&i.createElement(_,{app:n,fnSelectApp:this.SelectApplication,__source:{fileName:f,lineNumber:135}})))),i.createElement("div",{className:c,onScroll:this.OnScroll,__source:{fileName:f,lineNumber:139}},s.map(function(t,n){return i.createElement(_,{key:n,app:t,fnSelectApp:e.SelectApplication,__source:{fileName:f,lineNumber:140}})})),d.a.ShowManifestError&&i.createElement(g,{sError:d.a.ManifestError,sPath:d.a.ManifestErrorPath,__source:{fileName:f,lineNumber:142}}))},o.c([c.b],t.prototype,"SelectApplication",null),o.c([c.b],t.prototype,"OnScroll",null),t=o.c([r.a],t)}(i.Component)},"gt/O":function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},mJPh:function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var n=t.protocol+"//"+t.host,o=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,t){var i=t.trim().replace(/^"(.*)"$/,function(e,t){return t}).replace(/^'(.*)'$/,function(e,t){return t});if(/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(i))return e;var r;return r=0===i.indexOf("//")?i:0===i.indexOf("/")?n+i:o+i.replace(/^\.\//,""),"url("+JSON.stringify(r)+")"})}},nhcq:function(e,t,n){"use strict";n.d(t,"b",function(){return o}),n.d(t,"a",function(){return d});var o,i=n("TToO"),r=n("FBH1"),a=n("y986"),s=n("mVfh"),l=n("6CG6"),c=n("APa2"),u=n("J4P+");!function(e){e[e.None=0]="None",e[e.List=1]="List",e[e.ViewBinding=2]="ViewBinding",e[e.EditBinding=3]="EditBinding",e[e.AppSelect=4]="AppSelect",e[e.Debugger=5]="Debugger",e[e.TrackerEdit=6]="TrackerEdit"}(o||(o={}));var p=function(){function e(){this.m_State=o.None,this.m_bLoading=!1,this.m_rBindingList=void 0,this.m_bShowBindingListError=!1,this.m_sBindingListError=void 0,this.m_timeoutLoading=void 0,this.m_pathUpdateTimer=void 0,this.m_bShowManifestError=!1,this.m_sManifestError=void 0,this.m_sManifestErrorPath=void 0}return e.prototype.Init=function(){window.addEventListener("popstate",this.OnPopState),history.pushState({direction:"back"},"back"),history.pushState({direction:"current"},"current"),history.pushState({direction:"forward"},"forward"),history.back()},e.prototype.SetBindingListError=function(e){this.m_bShowBindingListError=void 0!=e,this.m_sBindingListError=e},Object.defineProperty(e.prototype,"ShowBindingListError",{get:function(){return this.m_bShowBindingListError},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"BindingListError",{get:function(){return this.m_sBindingListError},enumerable:!0,configurable:!0}),e.prototype.OnPopState=function(e){var t="";e.state&&e.state.direction&&(t=e.state.direction),"back"==t?(history.forward(),this.GoBackPage()):"forward"==t&&(history.back(),this.GoForwardPage())},e.prototype.GoBackPage=function(){switch(this.m_State){default:case o.None:case o.AppSelect:break;case o.List:this.ShowAppSelect();break;case o.TrackerEdit:case o.EditBinding:case o.ViewBinding:this.ShowBindingList()}},e.prototype.GoForwardPage=function(){switch(this.m_State){default:case o.None:case o.AppSelect:this.ShowBindingList();break;case o.List:this.CurrentBinding.url==l.a.LoadedBindingURL?this.EditCurrentBinding():this.ViewCurrentBinding();break;case o.EditBinding:case o.ViewBinding:case o.TrackerEdit:}},Object.defineProperty(e.prototype,"GetUIState",{get:function(){return this.m_State},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"BindingQueryResults",{get:function(){return this.m_rBindingList},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Loading",{get:function(){return this.m_bLoading},set:function(e){var t=this;this.m_bLoading=e,e?(this.m_timeoutLoading&&clearTimeout(this.m_timeoutLoading),this.m_timeoutLoading=setTimeout(function(){t.Loading=!1},1e4)):this.m_timeoutLoading&&clearTimeout(this.m_timeoutLoading)},enumerable:!0,configurable:!0}),e.prototype.IsSafeToResetControllerType=function(e,t){return this.m_State==o.AppSelect||this.m_State==o.None||"TrackedDeviceClass_HMD"==e&&"TrackedDeviceClass_Controller"==t},e.prototype.EditCurrentBinding=function(){this.m_State=o.EditBinding},e.prototype.ViewCurrentBinding=function(){this.m_State=o.ViewBinding},e.prototype.ShowBindingList=function(e){var t=this;void 0===e&&(e=void 0),this.Loading=!0,this.RefreshBindingList().then(function(){t.SetBindingListError(e),t.Loading=!1,t.m_State=o.List}).catch(function(){t.Loading=!1})},Object.defineProperty(e.prototype,"CurrentBinding",{get:function(){if(this.BindingQueryResults)return d.BindingQueryResults.find(function(e){return e.url==l.a.SelectedBindingURL})},enumerable:!0,configurable:!0}),e.prototype.ReturnToSettingsUI=function(){this.ShowAppSelect(),this.IsRunningInDashboard&&VRHTML.ShowSettingsUI()},e.prototype.ShowAppSelect=function(){var e=this;this.Loading=!0,c.a.UpdateApplications().then(function(){e.Loading=!1,e.m_State=o.AppSelect}).catch(function(){e.Loading=!1})},e.prototype.UpdatePathsTimeout=function(){var e=this;try{u.a.UpdatePaths().then(function(){e.m_State==o.Debugger?e.m_pathUpdateTimer=setTimeout(e.UpdatePathsTimeout,500):e.m_pathUpdateTimer=void 0})}catch(e){console.log("Stopping debugger timer because",e)}},e.prototype.ShowDebugger=function(){var e=this;this.Loading=!0,c.a.UpdateApplications().then(function(){e.Loading=!1;var t=c.a.GetApp(l.a.SelectedApp);t&&t.client_container_handle&&u.a.AddSubscribedContainer(t.client_container_handle),e.m_State=o.Debugger,e.m_pathUpdateTimer=setTimeout(e.UpdatePathsTimeout,500)}).catch(function(){e.Loading=!1})},e.prototype.ShowTrackerEdit=function(){this.m_State=o.TrackerEdit},e.prototype.RefreshBindingList=function(){return i.b(this,void 0,void 0,function(){var e=this;return i.e(this,function(t){switch(t.label){case 0:return this.Loading=!0,[4,new Promise(function(t,n){var o=l.a.SelectedControllerTypeInfo;l.a.QueryBindingList(l.a.SelectedApp,o?o.name:"").then(function(n){n.success&&(e.m_rBindingList=n.results,e.Loading=!1,t())}).catch(function(){e.Loading=!1})})];case 1:return t.sent(),[2]}})})},Object.defineProperty(e.prototype,"IsRunningInDashboard",{get:function(){return"undefined"!=typeof VRHTML},enumerable:!0,configurable:!0}),e.prototype.ShowActionManifestLoadFailed=function(e,t,n,o){var i=c.a.GetApp(e);this.m_sManifestError=Object(s.b)(t,i?i.name:e,n),this.m_sManifestErrorPath=o,this.m_bShowManifestError=!0,this.ShowAppSelect()},e.prototype.ManifestLoadErrorClose=function(){this.m_sManifestError=void 0,this.m_sManifestErrorPath=void 0,this.m_bShowManifestError=!1},Object.defineProperty(e.prototype,"ShowManifestError",{get:function(){return this.m_bShowManifestError},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ManifestError",{get:function(){return this.m_sManifestError},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ManifestErrorPath",{get:function(){return this.m_sManifestErrorPath},enumerable:!0,configurable:!0}),e.prototype.ShowActionOrigins=function(e,t,n){var o=this;c.a.UpdateApplications().then(function(){l.a.SetSelectedApp(e),t&&l.a.SetSelectedActionSet(t),d.ViewCurrentBinding(),o.IsRunningInDashboard&&VRHTML.ShowBindingUI()})},i.c([a.k],e.prototype,"m_State",void 0),i.c([a.k],e.prototype,"m_bLoading",void 0),i.c([a.k],e.prototype,"m_rBindingList",void 0),i.c([a.k],e.prototype,"m_bShowBindingListError",void 0),i.c([a.k],e.prototype,"m_sBindingListError",void 0),i.c([a.k],e.prototype,"m_bShowManifestError",void 0),i.c([a.k],e.prototype,"m_sManifestError",void 0),i.c([a.k],e.prototype,"m_sManifestErrorPath",void 0),i.c([r.b],e.prototype,"SetBindingListError",null),i.c([a.d],e.prototype,"ShowBindingListError",null),i.c([a.d],e.prototype,"BindingListError",null),i.c([r.b],e.prototype,"OnPopState",null),i.c([r.b],e.prototype,"GoBackPage",null),i.c([r.b],e.prototype,"GoForwardPage",null),i.c([a.d],e.prototype,"GetUIState",null),i.c([a.d],e.prototype,"BindingQueryResults",null),i.c([a.d],e.prototype,"Loading",null),i.c([r.b],e.prototype,"IsSafeToResetControllerType",null),i.c([r.b],e.prototype,"EditCurrentBinding",null),i.c([r.b],e.prototype,"ViewCurrentBinding",null),i.c([r.b],e.prototype,"ShowBindingList",null),i.c([a.d],e.prototype,"CurrentBinding",null),i.c([r.b],e.prototype,"ReturnToSettingsUI",null),i.c([r.b],e.prototype,"ShowAppSelect",null),i.c([r.b],e.prototype,"UpdatePathsTimeout",null),i.c([r.b],e.prototype,"ShowDebugger",null),i.c([r.b],e.prototype,"ShowTrackerEdit",null),i.c([r.b],e.prototype,"RefreshBindingList",null),i.c([a.d],e.prototype,"IsRunningInDashboard",null),i.c([a.c],e.prototype,"ShowActionManifestLoadFailed",null),i.c([a.c],e.prototype,"ManifestLoadErrorClose",null),i.c([a.d],e.prototype,"ShowManifestError",null),i.c([a.d],e.prototype,"ManifestError",null),i.c([a.d],e.prototype,"ManifestErrorPath",null),i.c([a.c],e.prototype,"ShowActionOrigins",null),e}(),d=new p;window.inputUI=d},rG7K:function(e,t,n){"use strict";n.d(t,"a",function(){return h});var o=n("TToO"),i=n("GiK3"),r=(n.n(i),n("Mn8c")),a=n("FBH1"),s=n("mVfh"),l=n("6CG6"),c=n("nhcq"),u=n("4PsW"),p=n("6Pre"),d="c:\\buildslave\\steamvr_webpack_rel_win32\\build\\src\\vrwebui\\src\\js\\trackereditor.tsx",m=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.d(t,e),t.prototype.OnTrackerRoleChanged=function(e){l.a.SetTrackerBinding(this.props.trackerConfig.device_path_string,e,this.props.trackerConfig.controller_role)},t.prototype.OnControllerRoleChanged=function(e){l.a.SetTrackerBinding(this.props.trackerConfig.device_path_string,this.props.trackerConfig.role,e)},t.prototype.BuzzTracker=function(){l.a.PulseHaptics(this.props.trackerConfig.device_path_handle)},t.prototype.render=function(){var e=this.props.validTrackerRoles.map(function(e){return new p.b(e,Object(s.b)("#"+e))}),t=[];if("TrackerRole_Handed"==this.props.trackerConfig.role){t=["TrackedControllerRole_Invalid","TrackedControllerRole_LeftHand","TrackedControllerRole_RightHand"].map(function(e){return new p.b(e,Object(s.b)("#"+e))})}return console.log("Tracker info ",this.props.trackerConfig),i.createElement("div",{className:"FlexRow TrackerEntry",__source:{fileName:d,lineNumber:48}},i.createElement("div",{className:"FlexColumn",__source:{fileName:d,lineNumber:49}},i.createElement("div",{className:"Label ButtonControl",onClick:this.BuzzTracker,__source:{fileName:d,lineNumber:51}},Object(s.b)("#TrackerEditor_BuzzTracker")),i.createElement("div",{className:"Title TrackerPath",__source:{fileName:d,lineNumber:52}},this.props.trackerConfig.device_path_string)),i.createElement("div",{className:"FlexColumn",__source:{fileName:d,lineNumber:54}},i.createElement("div",{className:"Title Label",__source:{fileName:d,lineNumber:55}},Object(s.b)("#TrackerEditor_SelectRole")),i.createElement(p.a,{vecOptions:e,sModalClass:"PinTop",sValueSelectedItem:this.props.trackerConfig.role,sLocalizedSelectedItem:Object(s.b)("#"+this.props.trackerConfig.role),fnOptionSelected:this.OnTrackerRoleChanged,__source:{fileName:d,lineNumber:56}})),t.length>0&&i.createElement("div",{className:"FlexColumn",__source:{fileName:d,lineNumber:59}},i.createElement("div",{className:"Title Label",__source:{fileName:d,lineNumber:60}},Object(s.b)("#TrackerEditor_SelectControllerRole")),i.createElement(p.a,{vecOptions:t,sModalClass:"PinTop",sValueSelectedItem:this.props.trackerConfig.controller_role,sLocalizedSelectedItem:Object(s.b)("#"+this.props.trackerConfig.controller_role),fnOptionSelected:this.OnControllerRoleChanged,__source:{fileName:d,lineNumber:61}})))},o.c([a.b],t.prototype,"OnTrackerRoleChanged",null),o.c([a.b],t.prototype,"OnControllerRoleChanged",null),o.c([a.b],t.prototype,"BuzzTracker",null),t=o.c([r.a],t)}(i.Component),h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.d(t,e),t.prototype.render=function(){var e=l.a.TrackerBindings,t=void 0;return e&&e.trackers&&(t=e.trackers.map(function(t,n){return i.createElement(m,{key:n,trackerConfig:t,validTrackerRoles:e.valid_roles,__source:{fileName:d,lineNumber:89}})})),i.createElement("div",{className:"FlexRowWithWrap",__source:{fileName:d,lineNumber:91}},i.createElement(u.a,{fnOnClick:c.a.ShowBindingList,strTitle:Object(s.b)("#TrackerEditor_Title"),bShowBackButton:!0,__source:{fileName:d,lineNumber:92}}),t&&i.createElement("div",{className:"FlexFullWidthRowCentered TrackerEditorMainContentWrapper",__source:{fileName:d,lineNumber:94}},t))},t=o.c([r.a],t)}(i.Component)},ukV5:function(e,t,n){"use strict";n.d(t,"a",function(){return u});var o=n("TToO"),i=n("FBH1"),r=n("mtWM"),a=n.n(r),s=n("y986"),l=function(){function e(e){this.m_communityData=void 0,this.m_bLoadingData=!1,this.m_sSteamID=void 0,this.m_dateLastUpdate=void 0,this.m_sSteamID=e,e.length>0&&this.EnsureCommunityDataLoaded()}return Object.defineProperty(e.prototype,"community_data_ready",{get:function(){return void 0!==this.m_communityData},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"avatar_url",{get:function(){return this.m_communityData&&this.m_communityData.avatar_url},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"persona_name",{get:function(){return this.m_communityData&&this.m_communityData.persona_name},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"player_level",{get:function(){return this.m_communityData&&this.m_communityData.level},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"player_level_class",{get:function(){return this.m_communityData&&this.m_communityData.level_class},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"player_badge",{get:function(){return this.m_communityData&&this.m_communityData.favorite_badge},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"player_in_game",{get:function(){return this.m_communityData&&this.m_communityData.in_game},enumerable:!0,configurable:!0}),e.prototype.EnsureCommunityDataLoaded=function(){var e=this;if(void 0===this.m_communityData&&!this.m_bLoadingData){this.m_bLoadingData=!0;a.a.get("https://steamcommunity.com/miniprofile/s"+this.m_sSteamID+"/json").then(function(t){var n=t.data;n&&n.avatar_url&&(e.m_communityData=n,e.m_dateLastUpdate=new Date),e.m_bLoadingData=!1}).catch(function(t){console.log(t),e.m_bLoadingData=!1})}},o.c([s.k],e.prototype,"m_communityData",void 0),o.c([i.b],e.prototype,"EnsureCommunityDataLoaded",null),e}(),c=function(){function e(){this.m_SteamCommunityUsers=s.k.map()}return e.prototype.GetUserInformation=function(e){return this.m_SteamCommunityUsers.has(e)?this.m_SteamCommunityUsers.get(e):(console.warn("CSteamCommunity:: Invalid GetUserInformation, call RequestUserInformation first"),new l(""))},e.prototype.RequestUserInformation=function(e){this.m_SteamCommunityUsers.hasOwnProperty(e)||this.m_SteamCommunityUsers.set(e,new l(e))},o.c([s.k],e.prototype,"m_SteamCommunityUsers",void 0),o.c([i.b],e.prototype,"GetUserInformation",null),o.c([i.b],e.prototype,"RequestUserInformation",null),e}(),u=new c;window.steamcommunity=u},y8T1:function(e,t,n){"use strict";function o(){return i.b(this,void 0,void 0,function(){var e,t,n,o,r,a;return i.e(this,function(i){switch(i.label){case 0:return[4,v.a.Init()];case 1:return i.sent(),[4,b.a.Init()];case 2:return i.sent(),[4,m.a.Init()];case 3:return i.sent(),void 0!=(e=Object(p.a)("app"))&&e.length>0&&(t=b.a.GetApp(e))?(m.a.SetSelectedApp(e),void 0!=(n=Object(p.a)("controller"))&&n.length>0?(m.a.SetSelectedController(n),o=Object(p.a)("action_set"),void 0!=o&&o.length>0&&m.a.SetSelectedActionSet("/actions/"+o),r=Object(p.a)("read_only").length>0,r?f.a.ViewCurrentBinding():f.a.EditCurrentBinding(),[2]):void 0!=(a=Object(p.a)("debugger"))&&a.length>0?(f.a.ShowDebugger(),[2]):(f.a.ShowBindingList(),[2])):(f.a.ShowAppSelect(),[2])}})})}Object.defineProperty(t,"__esModule",{value:!0});var i=n("TToO"),r=n("GiK3"),a=(n.n(r),n("O27J")),s=(n.n(a),n("Mn8c")),l=n("NQlb"),c=n.n(l),u=n("N87Q"),p=(n.n(u),n("FBH1")),d=n("mVfh"),m=n("6CG6"),h=n("zX5x"),f=n("nhcq"),g=n("1OpY"),_=n("ceep"),b=n("APa2"),S=n("AwaH"),y=n("rG7K"),v=n("J4P+"),C="c:\\buildslave\\steamvr_webpack_rel_win32\\build\\src\\vrwebui\\src\\js\\inputcontainerui.tsx",N=function(e){function t(t){return e.call(this,t)||this}return i.d(t,e),t.prototype.render=function(){f.a.Loading?document.body.classList.add("Loading"):document.body.classList.remove("Loading"),m.a.IsSteamAvailable?document.body.classList.remove("SteamUnavailable"):document.body.classList.add("SteamUnavailable");var e={width:"60%",height:"60%"};return r.createElement("div",{className:"FullPage",__source:{fileName:C,lineNumber:46}},!m.a.IsSteamAvailable&&r.createElement("div",{className:"NoSteamWarning",__source:{fileName:C,lineNumber:47}},Object(d.b)("#NoSteamWarning")),(f.a.GetUIState==f.b.ViewBinding||f.a.GetUIState==f.b.EditBinding)&&r.createElement(h.a,{bReadOnlyView:f.a.GetUIState==f.b.ViewBinding,__source:{fileName:C,lineNumber:48}}),f.a.GetUIState==f.b.List&&r.createElement(g.a,{__source:{fileName:C,lineNumber:49}}),f.a.GetUIState==f.b.AppSelect&&r.createElement(_.a,{__source:{fileName:C,lineNumber:50}}),f.a.GetUIState==f.b.Debugger&&r.createElement(S.a,{__source:{fileName:C,lineNumber:51}}),f.a.GetUIState==f.b.TrackerEdit&&r.createElement(y.a,{__source:{fileName:C,lineNumber:52}}),f.a.GetUIState==f.b.None&&r.createElement("div",{__source:{fileName:C,lineNumber:53}}),r.createElement(c.a,{visible:m.a.SteamVRUnavailable,showCloseButton:!1,onClose:function(){},animation:"fade",className:"ModeSettingsModal",closeOnEsc:!1,customStyles:e,__source:{fileName:C,lineNumber:54}},r.createElement("div",{className:"FlexFullHeightColumnCentered",__source:{fileName:C,lineNumber:55}},r.createElement("div",{className:"Title Label",__source:{fileName:C,lineNumber:56}},Object(d.b)("#BindingUI_SteamVRUnavailable")))))},t=i.c([s.a],t)}(r.Component),B=document.getElementById("root"),A=function(e){return a.render(r.createElement(e,{__source:{fileName:C,lineNumber:68}}),B)};"undefined"!=typeof VRHTML&&B.classList.add("VROverlay"),Object(d.a)("english").then(function(){o()}).then(function(){f.a.Init()}).then(function(){A(N)}).catch(function(e){return console.log("FAILED TO INITIALIZE BINDINGUI",e)})},zX5x:function(e,t,n){"use strict";n.d(t,"a",function(){return C});var o,i=n("TToO"),r=n("GiK3"),a=(n.n(r),n("Mn8c")),s=n("NQlb"),l=n.n(s),c=n("N87Q"),u=(n.n(c),n("FBH1")),p=n("mVfh"),d=n("6CG6"),m=n("nhcq"),h=n("bD9n"),f=(n.n(h),n("3y8m")),g=n("+MXI"),_=n("APa2"),b=n("4PsW"),S="c:\\buildslave\\steamvr_webpack_rel_win32\\build\\src\\vrwebui\\src\\js\\controllerbindingui.tsx";!function(e){e[e.None=0]="None",e[e.Personal=1]="Personal",e[e.Public=2]="Public",e[e.LocalFile=3]="LocalFile",e[e.ReplaceDefault=4]="ReplaceDefault",e[e.AddNewDefault=5]="AddNewDefault"}(o||(o={}));var y=function(e){function t(t){var n=e.call(this,t)||this;return n.m_NameInput=void 0,n.m_DescriptionInput=void 0,n.m_NameInputCallbackHandle=void 0,n.m_DescriptionCallbackHandle=void 0,n.state={sError:void 0},n}return i.d(t,e),t.prototype.CloseSaveDialog=function(){void 0!=this.m_NameInputCallbackHandle&&this.m_NameInputCallbackHandle.unregister(),void 0!=this.m_DescriptionCallbackHandle&&this.m_DescriptionCallbackHandle.unregister(),this.props.ParentClose()},t.prototype.ConfirmBindingName=function(){var e=this;console.log("Confirmed: ",this.m_NameInput.value,this.m_DescriptionInput.value);var t=void 0;switch(this.props.eSaveType){case o.Personal:t="personal";break;case o.Public:t="public";break;case o.LocalFile:t="local_file";break;case o.AddNewDefault:case o.ReplaceDefault:t="replace_default"}void 0!=t?d.a.SaveCurrentBinding(this.m_NameInput.value,this.m_DescriptionInput.value,t).then(function(t){d.a.SetBindingURL(t.uri),e.CloseSaveDialog()}).catch(function(t){console.log("Save failed:",t),e.setState({sError:t})}):console.error("Invalid save type: ",this.props.eSaveType)},t.prototype.BindNameInput=function(e){this.m_NameInput=e},t.prototype.BindDescriptionInput=function(e){this.m_DescriptionInput=e},t.prototype.OnNameFocus=function(e){m.a.IsRunningInDashboard&&void 0==this.m_NameInputCallbackHandle&&(this.m_NameInput.blur(),this.m_NameInputCallbackHandle=VRHTML.VROverlay.ShowKeyboard(Object(p.b)("#BindingUI_Binding_Name"),e.target.value,128,this.OnOverlayNameText))},t.prototype.OnOverlayNameText=function(e){this.m_NameInput.value=e,this.m_NameInputCallbackHandle.unregister(),this.m_NameInputCallbackHandle=void 0},t.prototype.OnDescriptionFocus=function(e){m.a.IsRunningInDashboard&&void 0==this.m_DescriptionCallbackHandle&&(this.m_DescriptionInput.blur(),this.m_DescriptionCallbackHandle=VRHTML.VROverlay.ShowKeyboard(Object(p.b)("#BindingUI_Binding_Description"),e.target.value,128,this.OnOverlayDescriptionText))},t.prototype.OnOverlayDescriptionText=function(e){this.m_DescriptionInput.value=e,this.m_DescriptionCallbackHandle.unregister(),this.m_DescriptionCallbackHandle=void 0},t.prototype.render=function(){var e={width:"60%",height:"fit-content"};return r.createElement(l.a,{visible:!0,onClose:this.CloseSaveDialog,showCloseButton:!1,animation:"fade",customStyles:e,className:"BindingChordsModal",closeOnEsc:!0,__source:{fileName:S,lineNumber:125}},r.createElement("div",{className:"SaveDialogWrapper FlexColumn",__source:{fileName:S,lineNumber:126}},r.createElement("div",{className:"FlexRow SaveTitleBar",__source:{fileName:S,lineNumber:127}},r.createElement("img",{className:"ActionButtonImage ActionButtonImageLarge ChordManageTopButton",src:"images/bindingui/icon_download.svg",__source:{fileName:S,lineNumber:128}}),r.createElement("div",{className:"Label Title TitleCenter AllCaps",__source:{fileName:S,lineNumber:129}},Object(p.b)("#BindingUI_SaveTitle"))),this.state.sError&&r.createElement("div",{className:"Label Error",__source:{fileName:S,lineNumber:131}},Object(p.b)(this.state.sError)),this.props.eSaveType==o.Personal&&r.createElement("div",{className:"Label Title",__source:{fileName:S,lineNumber:132}},Object(p.b)("#BindingUI_Save_Personal")),this.props.eSaveType==o.Public&&r.createElement("div",{className:"Label Title",__source:{fileName:S,lineNumber:133}},Object(p.b)("#BindingUI_Save_Public")),this.props.eSaveType==o.LocalFile&&r.createElement("div",{className:"Label Title",__source:{fileName:S,lineNumber:134}},Object(p.b)("#BindingUI_Save_Export")),(this.props.eSaveType==o.ReplaceDefault||this.props.eSaveType==o.AddNewDefault)&&r.createElement("div",{className:"Label Title",__source:{fileName:S,lineNumber:135}},Object(p.b)("#BindingUI_Save_ReplaceDefault")),this.props.eSaveType==o.AddNewDefault&&r.createElement("div",{className:"Label",__source:{fileName:S,lineNumber:136}},Object(p.b)("#BindingUI_Save_AddNewDefault")),r.createElement("label",{className:"Label",htmlFor:"SaveDialogName",__source:{fileName:S,lineNumber:137}},Object(p.b)("#BindingUI_Binding_Name")," "),r.createElement("input",{type:"text",defaultValue:this.props.sName,ref:this.BindNameInput,onFocus:this.OnNameFocus,__source:{fileName:S,lineNumber:138}}),r.createElement("label",{className:"Label",htmlFor:"SaveDialogDescription",__source:{fileName:S,lineNumber:139}},Object(p.b)("#BindingUI_Binding_Description")),r.createElement("textarea",{cols:80,rows:5,ref:this.BindDescriptionInput,defaultValue:this.props.sDescription,onFocus:this.OnDescriptionFocus,placeholder:Object(p.b)("BindingUI_SaveDescriptionPlaceholder"),__source:{fileName:S,lineNumber:140}}),r.createElement("div",{className:"FlexRow SaveBottomButtonRow",__source:{fileName:S,lineNumber:141}},r.createElement("div",{onClick:this.ConfirmBindingName,className:"ButtonControl",__source:{fileName:S,lineNumber:142}},Object(p.b)("#BindingUI_SaveBinding")),r.createElement("div",{onClick:this.CloseSaveDialog,className:"ButtonControl",__source:{fileName:S,lineNumber:143}},Object(p.b)("#Button_Cancel")))))},i.c([u.b],t.prototype,"CloseSaveDialog",null),i.c([u.b],t.prototype,"ConfirmBindingName",null),i.c([u.b],t.prototype,"BindNameInput",null),i.c([u.b],t.prototype,"BindDescriptionInput",null),i.c([u.b],t.prototype,"OnNameFocus",null),i.c([u.b],t.prototype,"OnOverlayNameText",null),i.c([u.b],t.prototype,"OnDescriptionFocus",null),i.c([u.b],t.prototype,"OnOverlayDescriptionText",null),t=i.c([a.a],t)}(r.Component),v=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.d(t,e),t.prototype.render=function(){var e=this.props.UnboundActions.vecRequired.map(function(e,t){return r.createElement("div",{key:t,__source:{fileName:S,lineNumber:185}},Object(p.b)("#BindingUI_UnboundActions_Required",e.localized_name))}),t=this.props.UnboundActions.vecSuggested.map(function(e,t){return r.createElement("div",{key:t,__source:{fileName:S,lineNumber:188}},Object(p.b)("#BindingUI_UnboundActions_Suggested",e.localized_name))}),n="UnboundActionsOverlay";return this.props.Visible&&(e.length||t.length)&&(n+=" Visible"),r.createElement("div",{className:n,__source:{fileName:S,lineNumber:193}},r.createElement("div",{className:"FlexColumn",__source:{fileName:S,lineNumber:194}},r.createElement("div",{className:"Label Title",__source:{fileName:S,lineNumber:195}},Object(p.b)("#BindingUI_UnboundActions_Title")),e,t))},t=i.c([a.a],t)}(r.Component),C=function(e){function t(t){var n=e.call(this,t)||this;return n.state={bDeveloperOutput:!1,bShowPoseBindings:!1,bShowBindingSettings:!1,bBindingUIInMirroredMode:!1,bShowHapticsBindings:!1,bShowChordBindings:!1,eSaveType:o.None,bScrolledBindingList:!1,bShowSelectConfirmModal:!1,bShowSkeletonBindings:!1,bEditBindingOnSelectConfirm:!1,bShowUnboundActionsOverlay:!1,vecUnboundActions:{vecRequired:[],vecSuggested:[]}},n}return i.d(t,e),t.prototype.OnAppDropdownChanged=function(e){d.a.SetSelectedApp(e)},t.prototype.OnActionSetDropdownChanged=function(e){d.a.SetSelectedActionSet(e)},t.prototype.ToggleDeveloperOutput=function(){this.setState({bDeveloperOutput:!this.state.bDeveloperOutput})},t.prototype.OpenPoseBindingsModal=function(){this.setState({bShowPoseBindings:!0})},t.prototype.ClosePoseBindingsModal=function(){this.setState({bShowPoseBindings:!1})},t.prototype.OpenHapticsBindingsModal=function(){this.setState({bShowHapticsBindings:!0})},t.prototype.CloseHapticsBindingsModal=function(){this.setState({bShowHapticsBindings:!1})},t.prototype.OpenSkeletonBindingsModal=function(){this.setState({bShowSkeletonBindings:!0})},t.prototype.CloseSkeletonBindingsModal=function(){this.setState({bShowSkeletonBindings:!1})},t.prototype.OpenChordBindingsModal=function(){this.setState({bShowChordBindings:!0})},t.prototype.CloseChordBindingsModal=function(){this.setState({bShowChordBindings:!1})},t.prototype.CloseSaveModal=function(){this.setState({eSaveType:o.None})},t.prototype.ShowPublicModal=function(){this.setState({eSaveType:o.Public})},t.prototype.ShowPersonalModal=function(){this.setState({eSaveType:o.Personal})},t.prototype.ShowExportModal=function(){this.setState({eSaveType:o.LocalFile})},t.prototype.ShowReplaceDefaultModal=function(){var e=void 0!=d.a.GetSelectedAppDefaultBinding(d.a.SelectedControllerTypeInfo.name);this.setState({eSaveType:e?o.ReplaceDefault:o.AddNewDefault})},t.prototype.ShowUnboundActionsOverlay=function(e){this.setState({bShowUnboundActionsOverlay:!0,vecUnboundActions:e})},t.prototype.HideUnboundActionsOverlay=function(){this.setState({bShowUnboundActionsOverlay:!1})},t.prototype.OnScroll=function(e){this.setState({bScrolledBindingList:e.currentTarget.scrollTop>0})},t.prototype.SetBindingUIInMirroredMode=function(e){this.state.bBindingUIInMirroredMode!=e&&this.setState({bBindingUIInMirroredMode:e})},t.prototype.SelectThisBinding=function(e,t){m.a.Loading=!0;var n=d.a.SelectedControllerTypeInfo;d.a.SelectConfig(d.a.SelectedApp,n?n.name:"",e).then(function(){d.a.ReloadCurrentApp().then(function(){t?m.a.EditCurrentBinding():m.a.ShowBindingList(),setTimeout(function(){m.a.Loading=!1},1)})})},t.prototype.ShouldShowSelectConfirmDialog=function(){var e=m.a.CurrentBinding;return!!e&&(this.props.bReadOnlyView&&"autosave"==e.type&&e.url!=d.a.LoadedBindingURL)},t.prototype.OnSelectBinding=function(e){this.ShouldShowSelectConfirmDialog()?this.setState({bShowSelectConfirmModal:!0,bEditBindingOnSelectConfirm:e}):this.OnSelectConfirmed(d.a.LoadedBindingURL,e)},t.prototype.OnSelectConfirmed=function(e,t){this.SelectThisBinding(e,t),this.OnSelectDone()},t.prototype.OnSelectDone=function(){this.setState({bShowSelectConfirmModal:!1})},t.prototype.OnSaveCurrentBinding=function(e){var t=m.a.CurrentBinding;d.a.SetBindingURL(t.url),d.a.LoadControllerConfiguration().then(function(){d.a.SaveCurrentBinding(t.name,t.description,"personal").then(function(){e()})})},t.prototype.renderSelectConfirmModal=function(){var e=this;return r.createElement(l.a,{visible:this.state.bShowSelectConfirmModal,onClose:this.OnSelectDone,showCloseButton:!1,animation:"fade",className:"ModeSettingsModal",closeOnEsc:!0,__source:{fileName:S,lineNumber:325}},this.state.bShowSelectConfirmModal&&r.createElement("div",{className:"FlexFullHeightColumnCentered",__source:{fileName:S,lineNumber:327}},r.createElement("div",{className:"Label",__source:{fileName:S,lineNumber:328}},Object(p.b)("#BindingUI_List_Select_Confirm")),r.createElement("div",{className:"FlexRow",__source:{fileName:S,lineNumber:329}},r.createElement("div",{className:"ButtonControl",onClick:function(){return e.OnSelectConfirmed(d.a.LoadedBindingURL,e.state.bEditBindingOnSelectConfirm)},__source:{fileName:S,lineNumber:330}},Object(p.b)("#Button_Discard")),r.createElement("div",{className:"ButtonControl",onClick:function(){var t=d.a.LoadedBindingURL;e.OnSaveCurrentBinding(function(){return e.OnSelectConfirmed(t,e.state.bEditBindingOnSelectConfirm)})},__source:{fileName:S,lineNumber:331}},Object(p.b)("#Button_Save")),r.createElement("div",{className:"ButtonControl",onClick:this.OnSelectDone,__source:{fileName:S,lineNumber:332}},Object(p.b)("#Button_Cancel")))))},t.prototype.ShowInputDebugger=function(){m.a.ShowDebugger()},t.prototype.render=function(){var e=this,t=d.a.ActionSets,n=t.map(function(t,n){var o="Label Tab PositionRelative",i=new d.c;d.a.UnboundActions.has(t.name)&&(i=d.a.UnboundActions.get(t.name));var a=i.vecRequired.length+i.vecSuggested.length;return i.vecRequired.length>0?o+=" Error":i.vecSuggested.length>0&&(o+=" Warning"),t.name==d.a.SelectedActionSet&&(o+=" Selected"),r.createElement("div",{key:n,className:o,onMouseEnter:function(){e.ShowUnboundActionsOverlay(i)},onMouseLeave:e.HideUnboundActionsOverlay,onClick:function(){e.OnActionSetDropdownChanged(t.name)},__source:{fileName:S,lineNumber:357}},t.localized_name,a>0&&r.createElement("div",{className:"UnboundActionsCount",__source:{fileName:S,lineNumber:359}},a))}),i=!1,a=!1,s=void 0;d.a.SelectedControllerTypeInfo&&d.a.SelectedControllerTypeInfo.profile&&(s=d.a.SelectedControllerTypeInfo.profile,i="controller_handed"==s.input_bindingui_mode,a="hmd"==s.input_bindingui_mode||"single_device"==s.input_bindingui_mode);var c=!i&&!a,u=this.state.bDeveloperOutput?"Hide Developer output":"Show Developer output",C="";this.state.bScrolledBindingList&&(C+=" Scrolled");var N={width:"60%",height:"auto",padding:"0px",maxHeight:"90%"},B={width:"fit-content",height:"fit-content",padding:"0px",maxHeight:"90%"},A=_.a.GetApp(d.a.SelectedApp),w="";A&&(w=A.name);var k=this.props.bReadOnlyView?Object(p.b)("#BindingUI_ViewPageTitle",d.a.ConfigName):Object(p.b)("#BindingUI_EditPageTitle",d.a.ConfigName),I=Object(p.b)("#BindingUI_PageSubTitle",d.a.SelectedControllerTypeLocalizedName,w);return r.createElement("div",{className:"FlexColumn FullPage",__source:{fileName:S,lineNumber:396}},r.createElement("div",{className:"TopRow FlexColumn"+C,__source:{fileName:S,lineNumber:397}},r.createElement("div",{className:"FlexColumn DescriptionTopRow",__source:{fileName:S,lineNumber:398}},r.createElement(b.a,{fnOnClick:m.a.ShowBindingList,strTitle:k,strSubTitle:I,__source:{fileName:S,lineNumber:399}})),t.length>0&&r.createElement("div",{className:"ActionTabContainer TabRow FlexFullWidthRowCentered",__source:{fileName:S,lineNumber:401}},n),r.createElement(v,{Visible:this.state.bShowUnboundActionsOverlay,UnboundActions:this.state.vecUnboundActions,__source:{fileName:S,lineNumber:404}}),d.a.SaveNoticeText&&r.createElement("div",{className:"UnboundActionsOverlay Visible",__source:{fileName:S,lineNumber:406}},Object(p.b)(d.a.SaveNoticeText))),i&&r.createElement(h.ControllerBindingDevices,{bSingleMode:!1,selectedActionSet:d.a.SelectedActionSetDetails,fnSetMirroredMode:this.SetBindingUIInMirroredMode,fnOpenChordBindingsModal:this.OpenChordBindingsModal,fnOpenHapticsBindingsModal:this.OpenHapticsBindingsModal,fnOpenPoseBindingsModal:this.OpenPoseBindingsModal,fnOpenSkeletonBindingsModal:this.OpenSkeletonBindingsModal,fnScrolledBindingList:this.OnScroll,bReadOnly:this.props.bReadOnlyView,__source:{fileName:S,lineNumber:412}}),a&&r.createElement(h.ControllerBindingDevices,{bSingleMode:!0,fnOpenChordBindingsModal:this.OpenChordBindingsModal,fnOpenHapticsBindingsModal:this.OpenHapticsBindingsModal,fnOpenPoseBindingsModal:this.OpenPoseBindingsModal,fnOpenSkeletonBindingsModal:this.OpenSkeletonBindingsModal,fnScrolledBindingList:this.OnScroll,bReadOnly:this.props.bReadOnlyView,__source:{fileName:S,lineNumber:413}}),c&&r.createElement(h.ControllerBindingList,{__source:{fileName:S,lineNumber:414}}),r.createElement("div",{className:"BottomButtonRow"+C,__source:{fileName:S,lineNumber:416}},r.createElement("hr",{__source:{fileName:S,lineNumber:417}}),r.createElement("div",{className:"BindingManageButtons FlexFullWidthRowCentered",__source:{fileName:S,lineNumber:418}},!this.props.bReadOnlyView&&r.createElement("div",{className:"FlexColumn ButtonControl SteamRequired",onClick:this.ShowPublicModal,__source:{fileName:S,lineNumber:419}},Object(p.b)("#BindingUI_PublishToWorkshop")),!this.props.bReadOnlyView&&r.createElement("div",{className:"FlexColumn ButtonControl SteamRequired",onClick:this.ShowPersonalModal,__source:{fileName:S,lineNumber:420}},Object(p.b)("#BindingUI_SavePersonal")),this.props.bReadOnlyView&&r.createElement("div",{className:"FlexColumn ButtonControl",onClick:function(){e.OnSelectBinding(!1)},__source:{fileName:S,lineNumber:421}},Object(p.b)("#BindingUI_SelectThisBinding")),this.props.bReadOnlyView&&r.createElement("div",{className:"FlexColumn ButtonControl",onClick:function(){e.OnSelectBinding(!0)},__source:{fileName:S,lineNumber:422}},Object(p.b)("#BindingUI_EditThisBinding")),d.a.BDevMode&&r.createElement("div",{className:"BindingManageButtonsHR",__source:{fileName:S,lineNumber:423}}),d.a.BDevMode&&r.createElement("div",{className:"FlexColumn ButtonControl",onClick:this.ToggleDeveloperOutput,__source:{fileName:S,lineNumber:424}},u),d.a.BDevMode&&d.a.SelectedBindingIsLegacy&&r.createElement("div",{className:"FlexColumn ButtonControl",onClick:this.ShowExportModal,__source:{fileName:S,lineNumber:427}},Object(p.b)("#BindingUI_ExportBindingFile")),d.a.BDevMode&&!d.a.SelectedBindingIsLegacy&&r.createElement("div",{className:"FlexColumn ButtonControl",onClick:this.ShowReplaceDefaultModal,__source:{fileName:S,lineNumber:430}},Object(p.b)("#BindingUI_ReplaceDefaultFile")),d.a.BDevMode&&r.createElement("div",{className:"FlexColumn ButtonControl",onClick:this.ShowInputDebugger,__source:{fileName:S,lineNumber:431}},Object(p.b)("#BindingUI_InputDebugger")),d.a.BSelectedActionSetHasPoses&&r.createElement(l.a,{visible:this.state.bShowPoseBindings,onClose:this.ClosePoseBindingsModal,showCloseButton:!1,animation:"fade",customStyles:N,className:"BindingPosesModal",closeOnEsc:!0,__source:{fileName:S,lineNumber:434}},this.state.bShowPoseBindings&&r.createElement(f.a,{fnCloseModal:this.ClosePoseBindingsModal,eActionSourceType:f.b.Pose,bSingleControllerMode:a,bSlaveSecondaryControllerBinding:!(i&&!this.state.bBindingUIInMirroredMode),bReadOnly:this.props.bReadOnlyView,__source:{fileName:S,lineNumber:435}})),d.a.BSelectedActionSetHasHaptics&&r.createElement(l.a,{visible:this.state.bShowHapticsBindings,onClose:this.CloseHapticsBindingsModal,showCloseButton:!1,animation:"fade",customStyles:N,className:"BindingPosesModal",closeOnEsc:!0,__source:{fileName:S,lineNumber:438}},this.state.bShowHapticsBindings&&r.createElement(f.a,{fnCloseModal:this.CloseHapticsBindingsModal,eActionSourceType:f.b.Haptics,bSingleControllerMode:a,bSlaveSecondaryControllerBinding:!(i&&!this.state.bBindingUIInMirroredMode),bReadOnly:this.props.bReadOnlyView,__source:{fileName:S,lineNumber:439}})),d.a.BSelectedActionSetHasSkeletons&&r.createElement(l.a,{visible:this.state.bShowSkeletonBindings,onClose:this.CloseSkeletonBindingsModal,showCloseButton:!1,animation:"fade",customStyles:N,className:"BindingPosesModal",closeOnEsc:!0,__source:{fileName:S,lineNumber:442}},this.state.bShowSkeletonBindings&&r.createElement(f.a,{fnCloseModal:this.CloseSkeletonBindingsModal,eActionSourceType:f.b.Skeleton,bSingleControllerMode:a,bSlaveSecondaryControllerBinding:!(i&&!this.state.bBindingUIInMirroredMode),bReadOnly:this.props.bReadOnlyView,__source:{fileName:S,lineNumber:443}})),r.createElement(l.a,{visible:this.state.bShowChordBindings,onClose:this.CloseChordBindingsModal,showCloseButton:!1,animation:"fade",className:"BindingChordsModal",closeOnEsc:!0,customStyles:B,__source:{fileName:S,lineNumber:445}},this.state.bShowChordBindings&&r.createElement(g.a,{fnCloseModal:this.CloseChordBindingsModal,bReadOnly:this.props.bReadOnlyView,__source:{fileName:S,lineNumber:446}}))),r.createElement("div",{className:"DebugButtons FlexFullWidthRowCentered",__source:{fileName:S,lineNumber:449}},this.state.bDeveloperOutput&&r.createElement("textarea",{readOnly:!0,style:{width:"1000px",height:"400px"},value:d.a.BindingConfig,__source:{fileName:S,lineNumber:450}}))),this.state.eSaveType!=o.None&&r.createElement(y,{sName:d.a.ConfigName,sDescription:d.a.ConfigDescription,eSaveType:this.state.eSaveType,ParentClose:this.CloseSaveModal,__source:{fileName:S,lineNumber:453}}),this.renderSelectConfirmModal())},i.c([u.b],t.prototype,"OnAppDropdownChanged",null),i.c([u.b],t.prototype,"OnActionSetDropdownChanged",null),i.c([u.b],t.prototype,"ToggleDeveloperOutput",null),i.c([u.b],t.prototype,"OpenPoseBindingsModal",null),i.c([u.b],t.prototype,"ClosePoseBindingsModal",null),i.c([u.b],t.prototype,"OpenHapticsBindingsModal",null),i.c([u.b],t.prototype,"CloseHapticsBindingsModal",null),i.c([u.b],t.prototype,"OpenSkeletonBindingsModal",null),i.c([u.b],t.prototype,"CloseSkeletonBindingsModal",null),i.c([u.b],t.prototype,"OpenChordBindingsModal",null),i.c([u.b],t.prototype,"CloseChordBindingsModal",null),i.c([u.b],t.prototype,"CloseSaveModal",null),i.c([u.b],t.prototype,"ShowPublicModal",null),i.c([u.b],t.prototype,"ShowPersonalModal",null),i.c([u.b],t.prototype,"ShowExportModal",null),i.c([u.b],t.prototype,"ShowReplaceDefaultModal",null),i.c([u.b],t.prototype,"ShowUnboundActionsOverlay",null),i.c([u.b],t.prototype,"HideUnboundActionsOverlay",null),i.c([u.b],t.prototype,"OnScroll",null),i.c([u.b],t.prototype,"SetBindingUIInMirroredMode",null),i.c([u.b],t.prototype,"SelectThisBinding",null),i.c([u.b],t.prototype,"OnSelectBinding",null),i.c([u.b],t.prototype,"OnSelectConfirmed",null),i.c([u.b],t.prototype,"OnSelectDone",null),i.c([u.b],t.prototype,"OnSaveCurrentBinding",null),i.c([u.b],t.prototype,"renderSelectConfirmModal",null),i.c([u.b],t.prototype,"ShowInputDebugger",null),t=i.c([a.a],t)}(r.Component)}},["y8T1"]);
//# sourceMappingURL=controllerbindingui.83183e4ddac6cc95b864.js.map