/*!
 * (c) Valve Corporation. Use is governed by the terms of the Steam Subscriber Agreement http://store.steampowered.com/subscriber_agreement/. 
 * 
 */
webpackJsonp([5],{"8+NW":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("TToO"),a=n("GiK3"),i=(n.n(a),n("O27J")),o=(n.n(i),n("FBH1")),l=n("Ys5n"),s=n("GtC3"),c=n("VTO8"),u=n("fmnk"),m=n("Ywy1"),b=n("HRkv"),_=n("/oCN"),d=n("EKNN"),h="c:\\buildslave\\steamvr_webpack_rel_win32\\build\\src\\vrwebui\\src\\js\\scenegraphtest\\scenegraphtest.tsx",N=function(e){function t(t){var n=e.call(this,t)||this;return n.state={Frame:1,Degrees:0,Transform:Object(u.c)(),LabelValue:"                                               ",ShowElasticPanel:!0},n.animationFrameHandle=window.requestAnimationFrame(n.onAnimationFrame),n.mailbox=new d.a,n.mailbox.Init("scenegraphtest"),n.mailbox.RegisterHandler("fnord",n.onMailboxMessage),n}return r.d(t,e),t.prototype.componentWillUnmount=function(){window.cancelAnimationFrame(this.animationFrameHandle)},t.prototype.onAnimationFrame=function(){var e=this.state.Transform;if(e.translation.x=8451e3,VRHTML.IsAvailable())try{e=VRHTML.IsAvailable()?VRHTML.GetPose("/user/hand/right",m.b.Standing).xfDeviceToAbsoluteTracking:this.state.Transform}catch(e){}this.setState({Frame:this.state.Frame+1,Degrees:(new Date).getTime()/1e3*90%360,Transform:e,LabelValue:this.state.LabelValue,ShowElasticPanel:this.state.ShowElasticPanel}),this.animationFrameHandle=window.requestAnimationFrame(this.onAnimationFrame)},t.prototype.onNumberClicked=function(e){var t=this.state.LabelValue;t+=""+e;t.length>23&&(t=t.substr(t.length-23,23)),this.setState({Frame:this.state.Frame,Degrees:this.state.Degrees,Transform:this.state.Transform,LabelValue:t,ShowElasticPanel:this.state.ShowElasticPanel})},t.prototype.onHideElasticPanel=function(){this.setState({Frame:this.state.Frame,Degrees:this.state.Degrees,Transform:this.state.Transform,LabelValue:this.state.LabelValue,ShowElasticPanel:!1})},t.prototype.onMailboxMessage=function(e){console.log("Received message ",e)},t.prototype.render=function(){var e=this;return a.createElement("div",{__source:{fileName:h,lineNumber:81}},this.state.ShowElasticPanel&&a.createElement(l.b,{parent_path:"/user/head",__source:{fileName:h,lineNumber:83}},a.createElement(_.a,{start_angle_threshold:40,stop_angle_threshold:17,ease_out_angle_threshold:90,min_angular_velocity:105,ease_in_power:1.5,__source:{fileName:h,lineNumber:84}},a.createElement(l.b,{translation:{z:-2},__source:{fileName:h,lineNumber:85}},a.createElement(c.a,{width:1.2,interactive:!0,__source:{fileName:h,lineNumber:86}},a.createElement("div",{className:"panel FlexBox",style:{textAlign:"center",width:350,height:400,borderRadius:30},__source:{fileName:h,lineNumber:87}},a.createElement("h1",{__source:{fileName:h,lineNumber:88}},"Elastic panel!"),a.createElement("hr",{__source:{fileName:h,lineNumber:89}}),a.createElement("pre",{__source:{fileName:h,lineNumber:90}},this.state.LabelValue),a.createElement("div",{className:"Label ButtonControl",onClick:function(){return e.onNumberClicked(7)},__source:{fileName:h,lineNumber:91}},"7"),a.createElement("div",{className:"Label ButtonControl",onClick:function(){return e.onNumberClicked(8)},__source:{fileName:h,lineNumber:92}},"8"),a.createElement("div",{className:"Label ButtonControl",onClick:function(){return e.onNumberClicked(9)},__source:{fileName:h,lineNumber:93}},"9"),a.createElement("br",{__source:{fileName:h,lineNumber:94}}),a.createElement("br",{__source:{fileName:h,lineNumber:95}}),a.createElement("div",{className:"Label ButtonControl",onClick:function(){return e.onNumberClicked(4)},__source:{fileName:h,lineNumber:96}},"4"),a.createElement("div",{className:"Label ButtonControl",onClick:function(){return e.onNumberClicked(5)},__source:{fileName:h,lineNumber:97}},"5"),a.createElement("div",{className:"Label ButtonControl",onClick:function(){return e.onNumberClicked(6)},__source:{fileName:h,lineNumber:98}},"6"),a.createElement("br",{__source:{fileName:h,lineNumber:99}}),a.createElement("br",{__source:{fileName:h,lineNumber:100}}),a.createElement("div",{className:"Label ButtonControl",onClick:function(){return e.onNumberClicked(1)},__source:{fileName:h,lineNumber:101}},"1"),a.createElement("div",{className:"Label ButtonControl",onClick:function(){return e.onNumberClicked(2)},__source:{fileName:h,lineNumber:102}},"2"),a.createElement("div",{className:"Label ButtonControl",onClick:function(){return e.onNumberClicked(3)},__source:{fileName:h,lineNumber:103}},"3"),a.createElement("br",{__source:{fileName:h,lineNumber:104}}),a.createElement("br",{__source:{fileName:h,lineNumber:105}}),a.createElement("div",{className:"Label ButtonControl",onClick:this.onHideElasticPanel,__source:{fileName:h,lineNumber:106}},"Close")))))),a.createElement(l.b,{transform:this.state.Transform,parent_origin:l.a.Standing,__source:{fileName:h,lineNumber:113}},a.createElement(s.a,{source:"generic_hmd",__source:{fileName:h,lineNumber:114}})),a.createElement(l.b,{translation:{x:0,y:.3,z:0},rotation:{x:30,y:this.state.Degrees,z:90},parent_origin:l.a.Standing,__source:{fileName:h,lineNumber:117}},a.createElement(s.a,{source:"locator",__source:{fileName:h,lineNumber:118}})),a.createElement(l.b,{translation:{x:0,y:1.8,z:0},parent_origin:l.a.Standing,id:"line_origin",__source:{fileName:h,lineNumber:120}}),a.createElement(l.b,{translation:{x:0,y:0,z:-.5},scale:{x:2,y:2,z:2},parent_origin:l.a.Seated,__source:{fileName:h,lineNumber:122}},a.createElement(c.a,{height:.45,width:.45,interactive:!0,__source:{fileName:h,lineNumber:123}},a.createElement("iframe",{src:"https://www.valvesoftware.com",style:{width:"400px",height:"400px",padding:0},height:"400",width:"400",__source:{fileName:h,lineNumber:124}}))),a.createElement(l.b,{translation:{x:0,y:0,z:-.5},parent_path:"/user/hand/left",id:"left_hand_model",__source:{fileName:h,lineNumber:127}},a.createElement(s.a,{source:"locator_one_sided",__source:{fileName:h,lineNumber:128}})),a.createElement(l.b,{parent_path:"/user/hand/right",__source:{fileName:h,lineNumber:130}},a.createElement(b.a,{target_id:"line_origin",thickness:.01,end_buffer:.5,__source:{fileName:h,lineNumber:131}}),a.createElement(b.a,{target_id:"left_hand_model",thickness:.001,end_buffer:.1,start_buffer:.2,__source:{fileName:h,lineNumber:132}})),a.createElement(l.b,{translation:{x:0,y:0,z:-.5},parent_path:"/user/hand/right/pose/base",__source:{fileName:h,lineNumber:134}},a.createElement(c.a,{overlay_key:"valve.steam.bigpicture",uv_min:{u:0,v:0},uv_max:{u:1,v:.3},width:.5,interactive:!1,__source:{fileName:h,lineNumber:135}})),a.createElement(l.b,{translation:{x:0,y:-1.2,z:-2},rotation:{x:-45},parent_path:"/user/head/pose/raw",__source:{fileName:h,lineNumber:138}},a.createElement(c.a,{height:.2,width:void 0,interactive:!1,__source:{fileName:h,lineNumber:139}},a.createElement("div",{className:"panel",style:{height:"150px",width:"600px"},__source:{fileName:h,lineNumber:140}},a.createElement("h1",{__source:{fileName:h,lineNumber:141}},"Some Text for the panel."),"Frame: ",this.state.Frame,a.createElement("br",{__source:{fileName:h,lineNumber:142}}),"Degrees: ",Math.round(this.state.Degrees),a.createElement("br",{__source:{fileName:h,lineNumber:143}})))),a.createElement(l.b,{parent_origin:l.a.Standing,__source:{fileName:h,lineNumber:148}},a.createElement(s.a,{source:"{knuckles}valve_controller_knu_ev2_0_left",__source:{fileName:h,lineNumber:149}})))},r.c([o.b],t.prototype,"onAnimationFrame",null),r.c([o.b],t.prototype,"onNumberClicked",null),r.c([o.b],t.prototype,"onHideElasticPanel",null),r.c([o.b],t.prototype,"onMailboxMessage",null),t}(a.Component);i.render(a.createElement(N,{__source:{fileName:h,lineNumber:168}}),document.getElementById("root")),VRHTML.IsAvailable()&&(VRHTML.VROverlay.SetFlag(VRHTML.VROverlay.ThisOverlayHandle(),m.c.ShowTouchPadScrollWheel,!0),VRHTML.VROverlay.SetFlag(VRHTML.VROverlay.ThisOverlayHandle(),m.c.SendVRScrollEvents,!0),VRHTML.VROverlay.SetInputMethod(VRHTML.VROverlay.ThisOverlayHandle(),m.d.Mouse))},EKNN:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("TToO"),a=n("FBH1"),i=function(){function e(){this.m_wsWebSocketToServer=void 0,this.m_oHandlers={}}return e.prototype.OpenWebSocketToHost=function(){var e=this;return new Promise(function(t,n){console.log("Connecting..."),e.m_wsWebSocketToServer=new WebSocket("ws://"+window.location.host),e.m_wsWebSocketToServer.addEventListener("open",function(n){e.OnWebSocketOpen(n),t()}),e.m_wsWebSocketToServer.addEventListener("message",e.OnWebSocketMessage),e.m_wsWebSocketToServer.addEventListener("close",e.OnWebSocketClose)})},e.prototype.Init=function(e){return r.b(this,void 0,void 0,function(){return r.e(this,function(t){switch(t.label){case 0:return this.m_sMailboxName=e,this.connected=!1,[4,this.OpenWebSocketToHost()];case 1:return t.sent(),[2]}})})},e.prototype.OnWebSocketOpen=function(e){var t=this;this.connected=!0,this.WebSocketSend("mailbox_open "+this.m_sMailboxName),window.addEventListener("beforeunload",function(){t.WebSocketSend("websocket_close")})},e.prototype.OnWebSocketClose=function(e){console.log("Lost connection to host..."),this.connected=!1,this.OpenWebSocketToHost()},e.prototype.WebSocketSend=function(e){void 0!=this.m_wsWebSocketToServer&&1==this.m_wsWebSocketToServer.readyState&&this.m_wsWebSocketToServer.send(e)},e.prototype.OnWebSocketMessage=function(e){var t=JSON.parse(e.data);this.m_oHandlers.hasOwnProperty(t.type)?this.m_oHandlers[t.type](t):console.log("Received unhandled message: ",t)},e.prototype.RegisterHandler=function(e,t){this.m_oHandlers[e]=t},r.c([a.b],e.prototype,"OpenWebSocketToHost",null),r.c([a.b],e.prototype,"OnWebSocketOpen",null),r.c([a.b],e.prototype,"OnWebSocketClose",null),r.c([a.b],e.prototype,"WebSocketSend",null),r.c([a.b],e.prototype,"OnWebSocketMessage",null),e}()},GtC3:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n("TToO"),a=n("GiK3"),i=(n.n(a),n("MKYy")),o=function(e){function t(t){return e.call(this,t)||this}return r.d(t,e),t.prototype.internalRender=function(){return a.createElement("vsg-rendermodel",{source:this.props.source,__source:{fileName:"c:\\buildslave\\steamvr_webpack_rel_win32\\build\\src\\vrwebui\\shared\\js\\scenegraph\\rendermodel.tsx",lineNumber:10}},this.props.children)},t}(i.a)},HRkv:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n("TToO"),a=n("GiK3"),i=(n.n(a),n("MKYy")),o=function(e){function t(t){return e.call(this,t)||this}return r.d(t,e),t.prototype.internalRender=function(){return a.createElement("vsg-line",{"target-id":this.props.target_id,thickness:this.props.thickness,"start-buffer":this.props.start_buffer,"end-buffer":this.props.end_buffer,__source:{fileName:"c:\\buildslave\\steamvr_webpack_rel_win32\\build\\src\\vrwebui\\shared\\js\\scenegraph\\line.tsx",lineNumber:10}})},t}(i.a)}},["8+NW"]);
//# sourceMappingURL=scenegraphtest.cf49b7385da682c1a81f.js.map