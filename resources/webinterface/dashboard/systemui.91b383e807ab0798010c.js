/*!
 * (c) Valve Corporation. Use is governed by the terms of the Steam Subscriber Agreement http://store.steampowered.com/subscriber_agreement/. 
 * 
 */
webpackJsonp([6],{"63EC":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),a.d(t,"DevPanel",function(){return d});var o,r=a("TToO"),i=a("GiK3"),n=(a.n(i),a("O27J")),l=(a.n(n),a("FBH1")),s=a("Ywy1"),c=a("Ys5n"),u=a("VTO8"),m=a("a3/i"),h=a("feiG"),p=a("7Xx1"),v=a("/oCN"),b="c:\\buildslave\\steamvr_webpack_rel_win32\\build\\src\\vrwebui\\src\\js\\systemui\\systemui.tsx",d=function(e){function t(t){var a=e.call(this,t)||this;return a.state={bFloating:!1},a}return r.d(t,e),t.prototype.componentDidMount=function(){var e=this;p.d.GetSettingsValue(t.k_sPropDevPanelFloats).then(function(t){e.setState({bFloating:t})})},t.prototype.onSetFloating=function(e){this.setState({bFloating:e}),p.d.SetSettingsValue(t.k_sPropDevPanelFloats,e)},t.prototype.render=function(){var e=this,t=i.createElement(u.a,{width:.6,interactive:!0,__source:{fileName:b,lineNumber:39}},i.createElement("div",{className:"panel DevPanel",style:{width:300},__source:{fileName:b,lineNumber:40}},i.createElement("h1",{__source:{fileName:b,lineNumber:41}},"Dev Controls"),i.createElement("div",{className:"ButtonControl",onClick:this.props.onStartRoomSetup,__source:{fileName:b,lineNumber:42}},"Start Room Setup"),!this.props.dashboardIsOpen&&i.createElement("div",{className:"ButtonControl",onClick:this.props.onOpenDashboard,__source:{fileName:b,lineNumber:45}},"Open Dashboard"),this.props.dashboardIsOpen&&i.createElement("div",{className:"ButtonControl",onClick:this.props.onCloseDashboard,__source:{fileName:b,lineNumber:47}},"Close Dashboard"),i.createElement("br",{__source:{fileName:b,lineNumber:49}}),!this.state.bFloating&&i.createElement("div",{className:"Label ButtonControl",onClick:function(){return e.onSetFloating(!0)},__source:{fileName:b,lineNumber:52}},"Pin To Head"),this.state.bFloating&&i.createElement("div",{className:"Label ButtonControl",onClick:function(){return e.onSetFloating(!1)},__source:{fileName:b,lineNumber:54}},"Unpin From Head")));return this.state.bFloating?i.createElement(c.b,{parent_path:"/user/head",__source:{fileName:b,lineNumber:58}},i.createElement(v.a,{start_angle_threshold:40,stop_angle_threshold:5,__source:{fileName:b,lineNumber:59}},i.createElement(c.b,{rotation:{x:-30,y:30,z:0},__source:{fileName:b,lineNumber:60}},i.createElement(c.b,{translation:{x:-0,y:-0,z:-2},__source:{fileName:b,lineNumber:61}},t)))):i.createElement(c.b,{parent_origin:c.a.Standing,translation:{y:.5,z:-.7},rotation:{x:-30},__source:{fileName:b,lineNumber:69}},t)},t.k_sPropDevPanelFloats="/settings/dashboard/devPanelFloats",r.c([l.b],t.prototype,"onSetFloating",null),t}(i.Component);!function(e){e[e.None=0]="None",e[e.RoomSetup=1]="RoomSetup",e[e.Dashboard=2]="Dashboard"}(o||(o={}));var _=function(e){function t(t){var a=e.call(this,t)||this;return p.d.Init(),a.state={mode:o.None},a}return r.d(t,e),t.prototype.onOpenRoomSetup=function(){this.setState({mode:o.RoomSetup})},t.prototype.onOpenDashboard=function(){this.setState({mode:o.Dashboard})},t.prototype.onExitMode=function(){this.setState({mode:o.None})},t.prototype.render=function(){var e=[];switch(e.push(i.createElement(c.b,{translation:{y:.5},__source:{fileName:b,lineNumber:123}},i.createElement(c.b,{translation:{x:-.8,y:.5},__source:{fileName:b,lineNumber:127}},i.createElement(u.a,{width:1,height:void 0,interactive:!0,overlay_key:"system.vrwebhelper.controllerbinding",__source:{fileName:b,lineNumber:128}})),i.createElement(c.b,{translation:{x:.8,y:.5},__source:{fileName:b,lineNumber:130}},i.createElement(u.a,{width:1,height:void 0,interactive:!0,overlay_key:"system.settings",__source:{fileName:b,lineNumber:131}})),i.createElement(c.b,{translation:{x:-.8,y:-.5},__source:{fileName:b,lineNumber:133}},i.createElement(u.a,{width:1,height:void 0,interactive:!0,overlay_key:"system.vrwebhelper.controllerbinding",uv_min:{u:0,v:0},uv_max:{u:1,v:.5},__source:{fileName:b,lineNumber:134}})),i.createElement(c.b,{translation:{x:.8,y:-.5},__source:{fileName:b,lineNumber:136}},i.createElement(u.a,{width:1,height:void 0,interactive:!0,overlay_key:"system.settings",uv_min:{u:0,v:0},uv_max:{u:1,v:.5},__source:{fileName:b,lineNumber:137}})))),this.state.mode){case o.None:case o.Dashboard:e.push(i.createElement(d,{key:"devpanel",dashboardIsOpen:this.state.mode===o.Dashboard,onCloseDashboard:this.onExitMode,onOpenDashboard:this.onOpenDashboard,onStartRoomSetup:this.onOpenRoomSetup,__source:{fileName:b,lineNumber:144}}))}switch(this.state.mode){case o.RoomSetup:e.push(i.createElement(m.a,{key:"roomsetup",returnToMenu:this.onExitMode,__source:{fileName:b,lineNumber:150}}));break;case o.Dashboard:e.push(i.createElement(h.a,{key:"dashboard",__source:{fileName:b,lineNumber:153}}))}return i.createElement("span",{__source:{fileName:b,lineNumber:156}},e)},r.c([l.b],t.prototype,"onOpenRoomSetup",null),r.c([l.b],t.prototype,"onOpenDashboard",null),r.c([l.b],t.prototype,"onExitMode",null),t}(i.Component),y=document.getElementById("root");!function(e){n.render(i.createElement(e,{__source:{fileName:b,lineNumber:171}}),y)}(_),VRHTML.IsAvailable()&&(VRHTML.VROverlay.SetFlag(VRHTML.VROverlay.ThisOverlayHandle(),s.c.MakeOverlaysInteractiveIfVisible,!0),VRHTML.VROverlay.SetInputMethod(VRHTML.VROverlay.ThisOverlayHandle(),s.d.Mouse))},"a3/i":function(e,t,a){"use strict";a.d(t,"a",function(){return p});var o,r=a("TToO"),i=a("GiK3"),n=(a.n(i),a("FBH1")),l=a("Ys5n"),s=a("VTO8"),c=a("fmnk"),u=a("Ywy1"),m=a("/oCN"),h="c:\\buildslave\\steamvr_webpack_rel_win32\\build\\src\\vrwebui\\src\\js\\systemui\\roomsetup.tsx";!function(e){e[e.FindFloor_Touch=0]="FindFloor_Touch",e[e.FindFloor_Height=1]="FindFloor_Height",e[e.Room_Walls=2]="Room_Walls",e[e.SaveSuccessful=3]="SaveSuccessful",e[e.SaveFailed=4]="SaveFailed"}(o||(o={}));var p=function(e){function t(t){var a=e.call(this,t)||this;return a.state={phase:o.FindFloor_Touch,qRawFromRoom:{w:1,x:0,y:0,z:0},qRoomFromRaw:{w:1,x:0,y:0,z:0},vMin:{x:0,y:0,z:0},vMax:{x:0,y:0,z:0},vStartingHmdPosition:{x:0,y:0,z:0},fUserHeight:196},VRHTML.IsAvailable()&&VRHTML.VRControlPanel.SetCameraRoomViewVisible(!0),a.animationFrameHandle=window.requestAnimationFrame(a.onAnimationFrame),a}return r.d(t,e),t.prototype.componentDidMount=function(){this.computeDirectionFromHeadset(),this.resetBoundsToDefault(!0)},t.prototype.componentWillUnmount=function(){window.cancelAnimationFrame(this.animationFrameHandle),VRHTML.IsAvailable()&&(VRHTML.VRChaperone.ForceBoundsVisible(!1),VRHTML.VRChaperoneSetup.HideWorkingSetPreview(),VRHTML.VRChaperoneSetup.RevertWorkingCopy(),VRHTML.VRControlPanel.SetCameraRoomViewVisible(!0))},t.prototype.updateLimitsUsingDevice=function(e){var t=null;try{t=VRHTML.GetPose(e,u.b.RawAndUncalibrated)}catch(e){return}if(t.bPoseIsValid){var a=t.xfDeviceToAbsoluteTracking,r=Object(c.i)(this.state.qRoomFromRaw,a.translation);switch(this.state.phase){case o.FindFloor_Touch:r.y<this.state.vMin.y&&this.setState({vMin:{x:this.state.vMin.x,y:r.y,z:this.state.vMin.z}}),r.y>this.state.vMax.y&&this.setState({vMax:{x:this.state.vMax.x,y:r.y,z:this.state.vMax.z}});break;case o.Room_Walls:r.x<this.state.vMin.x&&this.setState({vMin:{x:r.x,y:this.state.vMin.y,z:this.state.vMin.z}}),r.x>this.state.vMax.x&&this.setState({vMax:{x:r.x,y:this.state.vMax.y,z:this.state.vMax.z}}),r.z<this.state.vMin.z&&this.setState({vMin:{x:this.state.vMin.x,y:this.state.vMin.y,z:r.z}}),r.z>this.state.vMax.z&&this.setState({vMax:{x:this.state.vMax.x,y:this.state.vMax.y,z:r.z}})}}},t.prototype.onAnimationFrame=function(){if(VRHTML.IsAvailable()){switch(this.state.phase){case o.FindFloor_Touch:case o.Room_Walls:this.updateLimitsUsingDevice("/user/head"),this.updateLimitsUsingDevice("/user/hand/right"),this.updateLimitsUsingDevice("/user/hand/left")}this.animationFrameHandle=window.requestAnimationFrame(this.onAnimationFrame)}},t.prototype.componentDidUpdate=function(){this.updatePreview()},t.prototype.updatePreview=function(){if(VRHTML.IsAvailable()){var e=this.state.vMax.x-this.state.vMin.x,t=this.state.vMax.z-this.state.vMin.z;VRHTML.VRChaperoneSetup.SetWorkingPlayAreaSize(e,t);var a=Object(c.j)(Object(c.a)(this.state.vMin,this.state.vMax),.5),o={x:a.x,y:this.state.vMin.y,z:a.z},r=Object(c.c)();r.rotation=this.state.qRawFromRoom,r.translation=Object(c.i)(this.state.qRawFromRoom,o),VRHTML.VRChaperoneSetup.SetWorkingStandingZeroPoseToRawTrackingPose(r);var i=[];i.push({x:-e/2,y:-t/2}),i.push({x:e/2,y:-t/2}),i.push({x:e/2,y:t/2}),i.push({x:-e/2,y:t/2}),VRHTML.VRChaperoneSetup.SetWorkingPerimeter(i),VRHTML.VRChaperoneSetup.ShowWorkingSetPreview()}},t.prototype.computeDirectionFromHeadset=function(){if(VRHTML.IsAvailable()){var e=VRHTML.GetPose("/user/head",u.b.RawAndUncalibrated),t=Object(c.f)(e.xfDeviceToAbsoluteTracking);t.y=0,t=Object(c.l)(t);var a=Math.atan2(t.x,t.z),o=Object(c.e)({x:0,y:a,z:0}),r=Object(c.g)(o),i=Object(c.i)(r,e.xfDeviceToAbsoluteTracking.translation);this.setState({qRawFromRoom:o,qRoomFromRaw:r,vStartingHmdPosition:i})}},t.prototype.resetBoundsToDefault=function(e){if(VRHTML.IsAvailable()){var t=1,a=1;e||(t=1.5,a=1.1);var o=VRHTML.GetPose("/user/head",u.b.RawAndUncalibrated),r=Object(c.i)(this.state.qRoomFromRaw,o.xfDeviceToAbsoluteTracking.translation),i=Object(c.a)(r,{x:-t/2,y:0,z:-a/2}),n=Object(c.a)(r,{x:t/2,y:0,z:a/2});i.y=this.state.vMin.y,n.y=this.state.vMax.y,this.setState({vMin:i,vMax:n,vStartingHmdPosition:r})}},t.prototype.resetWalls=function(){this.resetBoundsToDefault(this.state.phase==o.Room_Walls)},t.prototype.resetFloorToDefault=function(){if(VRHTML.IsAvailable()){var e=VRHTML.GetPose("/user/head",u.b.RawAndUncalibrated),t=Object(c.i)(this.state.qRoomFromRaw,e.xfDeviceToAbsoluteTracking.translation),a=this.state.vMin;a.y=t.y-1;var o=this.state.vMax;o.y=t.y+.5,this.setState({vMin:a,vMax:o,vStartingHmdPosition:t})}},t.prototype.onSkipWalls=function(){var e=this;this.resetBoundsToDefault(!0),this.setState({},function(){e.saveSetup()})},t.prototype.restartSetup=function(){VRHTML.VRChaperoneSetup.RevertWorkingCopy(),this.setState({phase:o.FindFloor_Touch})},t.prototype.onFindFloorFromHeight=function(){this.resetFloorToDefault(),this.setState({phase:o.FindFloor_Height})},t.prototype.onFindFloorFromTouch=function(){this.resetFloorToDefault(),this.setState({phase:o.FindFloor_Touch})},t.prototype.onConfirmFloor=function(){this.computeDirectionFromHeadset(),this.resetBoundsToDefault(!1),this.updatePreview(),this.setState({phase:o.Room_Walls})},t.prototype.confirmWalls=function(){this.saveSetup()},t.prototype.onConfirmHeight=function(){var e=null;try{e=VRHTML.GetPose("/user/head",u.b.RawAndUncalibrated)}catch(e){return void this.setState({phase:o.Room_Walls})}if(!e.bPoseIsValid)return void this.setState({phase:o.Room_Walls});var t=e.xfDeviceToAbsoluteTracking.translation;this.computeDirectionFromHeadset(),this.setState({phase:o.Room_Walls,vMin:{x:this.state.vMin.x,y:t.y+.08-this.state.fUserHeight/100,z:this.state.vMin.z}})},t.prototype.saveSetup=function(){VRHTML.VRChaperoneSetup.CommitWorkingCopy()?this.setState({phase:o.SaveSuccessful}):this.setState({phase:o.SaveFailed}),VRHTML.IsAvailable()&&(VRHTML.VRChaperone.ForceBoundsVisible(!1),VRHTML.VRChaperoneSetup.HideWorkingSetPreview())},t.prototype.onSliderChange=function(e){var t=parseFloat(e.target.value);this.setState({fUserHeight:t})},t.prototype.onSetRoomNow=function(){this.setState({phase:o.Room_Walls})},t.prototype.onSetRoomLater=function(){this.saveSetup()},t.prototype.renderMainUI=function(){var e=this.state.fUserHeight/2.54,t=Math.floor(e/12),a=Math.round(e-12*t);switch(this.state.phase){case o.FindFloor_Touch:return i.createElement(s.a,{width:1,interactive:!0,__source:{fileName:h,lineNumber:284}},i.createElement("div",{className:"FlexColumn panel RoomSetupControls",__source:{fileName:h,lineNumber:285}},i.createElement("div",{className:"RoomSetupText",__source:{fileName:h,lineNumber:286}},"Hello there! To give you the best Virtual Reality experience (and keep you safe) we need to know a few things about your room."),i.createElement("div",{className:"RoomSetupText",__source:{fileName:h,lineNumber:287}},'Let\'s start with where your floor is. Please touch the floor with one of your controllers and click "Done".'),i.createElement("div",{className:"RoomSetupText",__source:{fileName:h,lineNumber:288}},'If would rather estimate the floor\'s position from your own height, you can click the "use my height" button below to do that instead.'),i.createElement("div",{className:"FlexRow",__source:{fileName:h,lineNumber:290}},i.createElement("div",{className:"Label ButtonControl",onClick:this.onConfirmFloor,__source:{fileName:h,lineNumber:291}},"Done"),i.createElement("div",{className:"Label ButtonControl",onClick:this.onFindFloorFromHeight,__source:{fileName:h,lineNumber:292}},"Let me tell you how tall I am")),i.createElement("div",{className:"Label ButtonControl",onClick:this.props.returnToMenu,__source:{fileName:h,lineNumber:294}},"Exit")));case o.FindFloor_Height:return i.createElement(s.a,{width:1,interactive:!0,__source:{fileName:h,lineNumber:298}},i.createElement("div",{className:"FlexColumn panel RoomSetupControls",__source:{fileName:h,lineNumber:299}},i.createElement("div",{className:"RoomSetupText",__source:{fileName:h,lineNumber:300}},"Maybe your VR system can't see your floor? Or maybe you just don't want to touch the floor with your controller. No problem, we can figure it out if you tell us how tall you are. "),i.createElement("div",{className:"RoomSetupText",__source:{fileName:h,lineNumber:302}},'Please select your height using the slider below, stand up straight, and click "Done" when you\'re finished.'),i.createElement("div",{className:"RoomSetupText",__source:{fileName:h,lineNumber:305}},"Height: ",this.state.fUserHeight," cm (",t,"ft ",a,"in)"),i.createElement("div",{className:"FlexColumn HeightSlider",__source:{fileName:h,lineNumber:307}},i.createElement("input",{type:"range",min:100,max:250,step:1,value:this.state.fUserHeight,onChange:this.onSliderChange,__source:{fileName:h,lineNumber:308}})),i.createElement("div",{className:"FlexRow",__source:{fileName:h,lineNumber:311}},i.createElement("div",{className:"Label ButtonControl",onClick:this.onConfirmHeight,__source:{fileName:h,lineNumber:312}},"Done"),i.createElement("div",{className:"Label ButtonControl",onClick:this.onFindFloorFromTouch,__source:{fileName:h,lineNumber:313}},"Let me touch the floor instead")),i.createElement("div",{className:"Label ButtonControl",onClick:this.props.returnToMenu,__source:{fileName:h,lineNumber:315}},"Exit")));case o.Room_Walls:return i.createElement(s.a,{width:1,interactive:!0,__source:{fileName:h,lineNumber:319}},i.createElement("div",{className:"FlexColumn panel RoomSetupControls",__source:{fileName:h,lineNumber:320}},i.createElement("div",{className:"RoomSetupText",__source:{fileName:h,lineNumber:321}},"Please reach out with your controllers to stretch the room to include your clear space."),i.createElement("div",{className:"FlexRow",__source:{fileName:h,lineNumber:322}},i.createElement("div",{className:"Label ButtonControl",onClick:this.computeDirectionFromHeadset,__source:{fileName:h,lineNumber:323}},"Set Forward Direction"),i.createElement("div",{className:"Label ButtonControl",onClick:this.resetWalls,__source:{fileName:h,lineNumber:324}},"Reset Walls"),i.createElement("div",{className:"Label ButtonControl",onClick:this.confirmWalls,__source:{fileName:h,lineNumber:325}},"Done")),i.createElement("div",{className:"FlexRow",__source:{fileName:h,lineNumber:327}},i.createElement("div",{className:"Label ButtonControl",onClick:this.onSkipWalls,__source:{fileName:h,lineNumber:328}},"Skip"),i.createElement("div",{className:"Label ButtonControl",onClick:this.onFindFloorFromTouch,__source:{fileName:h,lineNumber:329}},"Back"),i.createElement("div",{className:"Label ButtonControl",onClick:this.props.returnToMenu,__source:{fileName:h,lineNumber:330}},"Exit"))));case o.SaveSuccessful:return i.createElement(s.a,{width:1,interactive:!0,__source:{fileName:h,lineNumber:335}},i.createElement("div",{className:"FlexColumn panel RoomSetupControls",__source:{fileName:h,lineNumber:336}},i.createElement("div",{className:"RoomSetupText",__source:{fileName:h,lineNumber:337}},"Your new room setup has been saved."),i.createElement("div",{className:"Label ButtonControl",onClick:this.props.returnToMenu,__source:{fileName:h,lineNumber:338}},"Exit")));case o.SaveFailed:return i.createElement(s.a,{width:1,interactive:!0,__source:{fileName:h,lineNumber:342}},i.createElement("div",{className:"FlexColumn panel RoomSetupControls",__source:{fileName:h,lineNumber:343}},i.createElement("div",{className:"RoomSetupText",__source:{fileName:h,lineNumber:344}},"Your new room setup could not be saved for some reason. Maybe your hard drive is full?"),i.createElement("div",{className:"Label ButtonControl",onClick:this.props.returnToMenu,__source:{fileName:h,lineNumber:345}},"Exit")))}return null},t.prototype.render=function(){return i.createElement(l.b,{parent_path:"/user/head",__source:{fileName:h,lineNumber:352}},i.createElement(m.a,{start_angle_threshold:40,stop_angle_threshold:17,ease_out_angle_threshold:90,min_angular_velocity:105,ease_in_power:1.5,__source:{fileName:h,lineNumber:353}},i.createElement(l.b,{translation:{z:-1},__source:{fileName:h,lineNumber:354}},this.renderMainUI())))},r.c([n.b],t.prototype,"onAnimationFrame",null),r.c([n.b],t.prototype,"updatePreview",null),r.c([n.b],t.prototype,"computeDirectionFromHeadset",null),r.c([n.b],t.prototype,"resetWalls",null),r.c([n.b],t.prototype,"resetFloorToDefault",null),r.c([n.b],t.prototype,"onSkipWalls",null),r.c([n.b],t.prototype,"restartSetup",null),r.c([n.b],t.prototype,"onFindFloorFromHeight",null),r.c([n.b],t.prototype,"onFindFloorFromTouch",null),r.c([n.b],t.prototype,"onConfirmFloor",null),r.c([n.b],t.prototype,"confirmWalls",null),r.c([n.b],t.prototype,"onConfirmHeight",null),r.c([n.b],t.prototype,"saveSetup",null),r.c([n.b],t.prototype,"onSliderChange",null),r.c([n.b],t.prototype,"onSetRoomNow",null),r.c([n.b],t.prototype,"onSetRoomLater",null),t}(i.Component)},feiG:function(e,t,a){"use strict";a.d(t,"a",function(){return h});var o,r=a("TToO"),i=a("GiK3"),n=(a.n(i),a("FBH1")),l=a("Ys5n"),s=a("VTO8"),c=a("fmnk"),u=a("Ywy1"),m="c:\\buildslave\\steamvr_webpack_rel_win32\\build\\src\\vrwebui\\src\\js\\systemui\\dashboard.tsx";!function(e){e[e.Initial=0]="Initial",e[e.External=1]="External",e[e.OverlayList=2]="OverlayList"}(o||(o={}));var h=function(e){function t(a){var r=e.call(this,a)||this;return r.m_mapExternalOverlays={},null===t.s_SavedState&&(t.s_SavedState={xfHmdInitial:Object(c.c)(),rOverlayInfos:[],activeOverlay:{type:o.Initial},time:new Date}),"system.powermenu"==t.s_SavedState.activeOverlay.key&&(t.s_SavedState.activeOverlay={type:o.Initial}),r.state=t.s_SavedState,r}return r.d(t,e),t.prototype.componentDidMount=function(){this.resetPosition(),this.updateOverlayTabs(),this.fetchExternalDashboardOverlayList(),this.m_clockUpdateInterval=setInterval(this.updateTime,5e3)},t.prototype.componentWillUnmount=function(){t.s_SavedState=this.state,clearInterval(this.m_clockUpdateInterval)},t.prototype.updateTime=function(){this.setState({time:new Date})},t.prototype.getActiveExternalOverlay=function(){return this.state.activeOverlay.type!==o.External||null===this.state.activeOverlay.key?null:this.m_mapExternalOverlays[this.state.activeOverlay.key]},t.prototype.fetchExternalDashboardOverlayList=function(){var e=this;if(VRHTML.IsAvailable()){this.m_mapExternalOverlays={},VRHTML.VRDashboardManager.GetDashboardOverlays().forEach(function(t){null!==t.key&&(e.m_mapExternalOverlays[t.key]=t)});var a=Object.keys(this.m_mapExternalOverlays).map(function(t){return e.m_mapExternalOverlays[t]}).filter(t.shouldShowExternalOverlayInTabBar);this.state.activeOverlay.type===o.Initial&&a.length>0&&this.setState({activeOverlay:{type:o.External,key:a[0].key}}),this.updateOverlayTabs()}},t.prototype.updateOverlayTabs=function(){var e=this,a=[];Object.keys(this.m_mapExternalOverlays).forEach(function(r){var i=e.m_mapExternalOverlays[r];t.shouldShowExternalOverlayInTabBar(i)&&a.push({type:o.External,externalOverlay:i})}),a.push({type:o.OverlayList}),this.setState({rOverlayInfos:a})},t.prototype.resetPosition=function(){if(VRHTML.IsAvailable()){var e=VRHTML.GetPose("/user/head",u.b.Standing).xfDeviceToAbsoluteTracking,t={x:0,y:1,z:0},a=Object(c.i)(e.rotation,{x:0,y:0,z:-1});a.y=0,a=Object(c.l)(a);var o=Object(c.l)(Object(c.d)(a,t)),r=Object(c.b)(o,t,Object(c.k)(a));e.rotation=Object(c.h)(r),this.setState({xfHmdInitial:e})}},t.prototype.setActiveOverlay=function(e){this.setState({activeOverlay:e})},t.prototype.showPowerMenu=function(){this.setActiveOverlay({type:o.External,key:"system.powermenu"})},t.prototype.toggleRoomView=function(){VRHTML.IsAvailable()&&VRHTML.VRControlPanel.SetCameraRoomViewVisible(!VRHTML.VRControlPanel.GetCameraRoomViewVisible())},t.shouldShowExternalOverlayInTabBar=function(e){return!e.noDashboardTab},t.prototype.render=function(){function e(e){return i.createElement("div",{className:"PowerButtonContainer",__source:{fileName:m,lineNumber:233}},i.createElement("div",{className:"ControlBarButton "+p[e.type],onClick:e.onClick,__source:{fileName:m,lineNumber:234}},i.createElement("img",{src:e.icon,__source:{fileName:m,lineNumber:235}}),i.createElement("div",{className:"Label",__source:{fileName:m,lineNumber:236}},i.createElement("span",{__source:{fileName:m,lineNumber:236}},e.label))))}var t=this,a=0,r=this.state.rOverlayInfos.map(function(e){var r,n=e.type==o.External?e.externalOverlay.key:o[e.type],c="",u="",h=null;switch(e.type){case o.External:c=e.externalOverlay.name,h=i.createElement(s.a,{width:.16,height:.16,overlay_key:e.externalOverlay.thumbnailKey,interactive:!1,__source:{fileName:m,lineNumber:163}}),r={type:o.External,key:e.externalOverlay.key};break;case o.OverlayList:c="Overlays",u="&#x1F4D3",r={type:e.type}}var p=e.type===t.state.activeOverlay.type&&(e.type!==o.External||e.externalOverlay.key===t.state.activeOverlay.key),v="DashboardTabButton";p&&(v+=" Active");var b=i.createElement(l.b,{key:n,translation:{x:a-.5*(t.state.rOverlayInfos.length-1)*.255},__source:{fileName:m,lineNumber:183}},h,i.createElement(l.b,{translation:{y:-.025,z:-.001},__source:{fileName:m,lineNumber:185}},i.createElement(s.a,{height:.185,width:void 0,interactive:!0,__source:{fileName:m,lineNumber:186}},i.createElement("div",{className:v,onClick:function(){return t.setActiveOverlay(r)},__source:{fileName:m,lineNumber:187}},i.createElement("div",{className:"DashboardTabEmoji",dangerouslySetInnerHTML:{__html:u},__source:{fileName:m,lineNumber:188}}),i.createElement("div",{className:"DashboardTabLabel",__source:{fileName:m,lineNumber:189}},i.createElement("span",{__source:{fileName:m,lineNumber:189}},c))))));return a+=.255,b}),n=this.state.time.getHours()%12+":"+("0"+this.state.time.getMinutes()).slice(-2),c=this.state.time.getHours()>=12?"PM":"AM",u=null;switch(this.state.activeOverlay.type){case o.External:var h=this.getActiveExternalOverlay();h&&(u=i.createElement(s.a,{height:void 0,width:h.widthInMeters,interactive:!0,overlay_key:h.key,__source:{fileName:m,lineNumber:207}}));break;case o.OverlayList:u=i.createElement(s.a,{height:void 0,width:3,interactive:!0,__source:{fileName:m,lineNumber:212}},i.createElement("div",{className:"panel DashboardPanel",__source:{fileName:m,lineNumber:213}},i.createElement("h1",{__source:{fileName:m,lineNumber:214}},"Dashboard overlays:"),i.createElement("hr",{__source:{fileName:m,lineNumber:215}}),i.createElement("pre",{style:{fontSize:12,overflow:"auto"},__source:{fileName:m,lineNumber:216}},JSON.stringify(this.m_mapExternalOverlays,null,2))))}var p;return function(e){e[e.Round=0]="Round",e[e.Pill=1]="Pill"}(p||(p={})),i.createElement(l.b,{parent_origin:l.a.Standing,transform:this.state.xfHmdInitial,__source:{fileName:m,lineNumber:240}},i.createElement(l.b,{translation:{z:-2},__source:{fileName:m,lineNumber:241}},i.createElement(l.b,{translation:{y:-.19,z:.06},__source:{fileName:m,lineNumber:244}},u),i.createElement(l.b,{translation:{y:-1.52,z:.4},rotation:{x:-35},__source:{fileName:m,lineNumber:249}},i.createElement(l.b,{translation:{y:.32},__source:{fileName:m,lineNumber:252}},r),i.createElement(s.a,{height:void 0,width:2.667,interactive:!0,__source:{fileName:m,lineNumber:257}},i.createElement("div",{className:"ControlBar",__source:{fileName:m,lineNumber:258}},i.createElement(e,{icon:"/shared/images/icons/icon_power.png",label:"System",type:p.Round,onClick:this.showPowerMenu,__source:{fileName:m,lineNumber:259}}),i.createElement(e,{icon:"/shared/images/icons/icon_camera.png",label:"Room View",type:p.Round,onClick:this.toggleRoomView,__source:{fileName:m,lineNumber:260}}),i.createElement(e,{icon:"/shared/images/icons/icon_home.png",label:"Go Home",type:p.Pill,__source:{fileName:m,lineNumber:261}}),i.createElement("div",{className:"ClockContainer",__source:{fileName:m,lineNumber:262}},i.createElement("div",{className:"Clock",__source:{fileName:m,lineNumber:263}},n,i.createElement("span",{className:"Suffix",__source:{fileName:m,lineNumber:263}},c))))),i.createElement(l.b,{translation:{z:-.04},__source:{fileName:m,lineNumber:269}},i.createElement(s.a,{height:.29,width:2.667,interactive:!1,__source:{fileName:m,lineNumber:270}},i.createElement("div",{className:"ControlBarBackground",__source:{fileName:m,lineNumber:271}})))),i.createElement(l.b,{translation:{y:-1.45,z:.4},rotation:{x:-35},__source:{fileName:m,lineNumber:278}},i.createElement(l.b,{translation:{y:-.7,z:-.065},__source:{fileName:m,lineNumber:279}},i.createElement(s.a,{height:void 0,width:2.8,interactive:!0,overlay_key:"system.vrdashboard",__source:{fileName:m,lineNumber:282}}),i.createElement(l.b,{translation:{y:.04,z:-.04},__source:{fileName:m,lineNumber:285}},i.createElement(s.a,{height:void 0,width:2.8,interactive:!1,overlay_key:"system.dashboard.controls.background",__source:{fileName:m,lineNumber:286}}))))))},t.s_SavedState=null,r.c([n.b],t.prototype,"updateTime",null),r.c([n.b],t.prototype,"resetPosition",null),r.c([n.b],t.prototype,"setActiveOverlay",null),r.c([n.b],t.prototype,"showPowerMenu",null),r.c([n.b],t.prototype,"toggleRoomView",null),t}(i.Component)}},["63EC"]);
//# sourceMappingURL=systemui.91b383e807ab0798010c.js.map